<!-- MHonArc v2.4.7 -->
<!--X-Subject: Re: persistent DB connections (was: RE: modular database backends) -->
<!--X-From-R13: Brgre @bibqibefxl <avqqNnygyvahk.eh> -->
<!--X-Date: 30 May 2001 04:42:16 &#45;0000 -->
<!--X-Message-Id: 7xbsobxxz3.fsf@lambda.novdv.ru -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: C0D6C1C24CDBE1449BFEF1B72AFBF3A709A5AA6A@postal.jnpr.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Peter Novodvorsky - Re: persistent DB connections (was: RE: modular database backends)</TITLE>
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--htdig_noindex-->
<p>This is the mail archive of the 
<tt>gnats-devel@sources.redhat.com</tt>
mailing list for the <a href="/gnats/">GNATS project</a>.


<!--/htdig_noindex-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<!--htdig_noindex-->
<HR>
<table border="0">
  <tr><th align="left">Index Nav:</th>
      <td colspan="2">
        [<A HREF="index.html#00129">Date&nbsp;Index</A>] [<a href="subjects.html#00129">Subject&nbsp;Index</a>] [<a href="authors.html#00129">Author&nbsp;Index</a>] [<A HREF="threads.html#00129">Thread&nbsp;Index</A>]
      </td>
  </tr>
  <tr><th align="left">Message Nav:</th>
      <td>[<A HREF="msg00128.html">Date&nbsp;Prev</A>]&nbsp;[<A HREF="msg00130.html">Date&nbsp;Next</A>]</td>
      <td>[<A HREF="msg00128.html">Thread&nbsp;Prev</A>]&nbsp;[<A HREF="msg00163.html">Thread&nbsp;Next</A>]</td>
  </tr>
</table>
<!--/htdig_noindex-->

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: persistent DB connections (was: RE: modular database backends)</h1>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Dirk Bergstrom &lt;dirk at juniper dot net&gt;</li>
<li><em>Subject</em>: Re: persistent DB connections (was: RE: modular database backends)</li>
<li><em>From</em>: Peter Novodvorsky &lt;nidd at altlinux dot ru&gt;</li>
<li><em>Date</em>: 30 May 2001 08:27:44 +0400</li>
<li><em>Cc</em>: &quot;'gnats-devel at sources dot redhat dot com'&quot; &lt;gnats-devel at sources dot redhat dot com&gt;</li>
<li><em>Organization</em>: Terrapin station</li>
<li><em>References</em>: &lt;<a href="msg00127.html">C0D6C1C24CDBE1449BFEF1B72AFBF3A709A5AA6A@postal.jnpr.net</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>

Hello!

You're speaking about _new_ backend daemon. We could make a lot of backend
daemons, but it is second stage, IMO. 

Any daemon has fixed language (protocol) in input and modular in output. 
What you are talking  currently is rewrite of GNATSD.

Dirk Bergstrom &lt;dirk@juniper.net&gt; writes:

&gt; 1) keep the current model, adding a separate, persistent, &quot;database daemon&quot;.
&gt; each connection would spawn a new instance of gnatsd, which would connect to
&gt; the database-daemon as needed.  i happened across sqlrelay
&gt; (<A  HREF="http://www.firstworks.com/sqlrelay.html">http://www.firstworks.com/sqlrelay.html</A>), a GPLed package which appears to
&gt; do just what's needed for the database daemon.

This is most simple, and IMO, first that should be made. 

&gt; 
&gt; 2) a persistent daemon that handles setting up the connection to the client,
&gt; and holds open a connection (or several connections) to the database.  as
&gt; new requests come in, the daemon would fork off a child to handle each one,
&gt; up to some preset limit.
&gt; 
&gt; 3) something like apache -- a master process forks several persistent
&gt; daemons, which take turns handling connections.  each child daemon holds a
&gt; database connection, and services many requests before shutting down.

Other approaches are good, but hey, do some BTS's handle more then 10 
connections  at  time? Really?

        Thanks,
-- 
Peter Novodvorsky     <A  HREF="http://www.altlinux.ru/">http://www.altlinux.ru/</A>    AltLinux Team, Russia
Debian.Org                                       <A  HREF="http://debian.org/~nidd">http://debian.org/~nidd</A>
            Debian  ---  no need to  wait for tomorrow.

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00127" href="msg00127.html">persistent DB connections (was: RE: modular database backends)</a></strong>
<ul><li><em>From:</em> Dirk Bergstrom</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<!--htdig_noindex-->
<table border="0">
  <tr><th align="left">Index Nav:</th>
      <td colspan="2">
        [<A HREF="index.html#00129">Date&nbsp;Index</A>] [<a href="subjects.html#00129">Subject&nbsp;Index</a>] [<a href="authors.html#00129">Author&nbsp;Index</a>] [<A HREF="threads.html#00129">Thread&nbsp;Index</A>]
      </td>
  </tr>
  <tr><th align="left">Message Nav:</th>
      <td>[<A HREF="msg00128.html">Date&nbsp;Prev</A>]&nbsp;[<A HREF="msg00130.html">Date&nbsp;Next</A>]</td>
      <td>[<A HREF="msg00128.html">Thread&nbsp;Prev</A>]&nbsp;[<A HREF="msg00163.html">Thread&nbsp;Next</A>]</td>
  </tr>
</table>
<!--/htdig_noindex-->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
