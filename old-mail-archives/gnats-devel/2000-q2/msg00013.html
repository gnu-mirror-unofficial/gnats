<!-- MHonArc v2.4.5 -->
<!--X-Subject: patch for wwwgnats.pl for use with gnats&#45;3.112.1 -->
<!--X-From-R13: Vnaf Rerkyre <qerkyreNtrbgnk.ay> -->
<!--X-Date: 9 May 2000 14:24:41 &#45;0000 -->
<!--X-Message-Id: Pine.BSF.4.21.0005091613470.16903&#45;100000@mail.geotax.nl -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>patch for wwwgnats.pl for use with gnats-3.112.1</TITLE>
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--htdig_noindex-->
<p>This is the mail archive of the 
<tt>gnats-devel@sourceware.cygnus.com</tt>
mailing list for the <a href="/gnats/">GNATS project</a>.


<!--/htdig_noindex-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<!--htdig_noindex-->
<HR>
<table border="0">
  <tr><th align="left">Index Nav:</th>
      <td colspan="2">
        [<A HREF="index.html#00013">Date&nbsp;Index</A>] [<a href="subjects.html#00013">Subject&nbsp;Index</a>] [<a href="authors.html#00013">Author&nbsp;Index</a>] [<A HREF="threads.html#00013">Thread&nbsp;Index</A>]
      </td>
  </tr>
  <tr><th align="left">Message Nav:</th>
      <td>[<A HREF="msg00012.html">Date&nbsp;Prev</A>]&nbsp;[<A HREF="msg00014.html">Date&nbsp;Next</A>]</td>
      <td>[<A HREF="msg00012.html">Thread&nbsp;Prev</A>]&nbsp;[<A HREF="msg00012.html">Thread&nbsp;Next</A>]</td>
  </tr>
</table>
<!--/htdig_noindex-->

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>patch for wwwgnats.pl for use with gnats-3.112.1</h1>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: gnats-devel at sourceware dot cygnus dot com</LI>
<LI><em>Subject</em>: patch for wwwgnats.pl for use with gnats-3.112.1</LI>
<LI><em>From</em>: Hans Drexler &lt;drexler at geotax dot nl&gt;</LI>
<LI><em>Date</em>: Tue, 9 May 2000 16:24:43 +0200 (CEST)</LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>

Hi,

Last week I upgraded from gnats-3.107b to gnats-3.112.1 (FreeBSD 4.0
STABLE). We use the wwwgnats package to view our GNATS database. The
package is (I think) very old, but it worked!  Anyway, after the
upgrade we couldn't edit PR's using our browsers anymore. After some
searching I found out that a small change in the file "libgnats.pl" solves
the problem. If anybody is interested I put the changed lines below (not a
patch, sorry!).

Hans Drexler


File libgnats.pl, line 260

Old text:

    chop($_ = &lt;PREDIT&gt;);
    close(PREDIT);
    if ($_ ne "") {
        if (!/exists/) {
            s/.*by //g; tr/_/ /;
            return "Problem report $semipr is being edited by $_.\n";
        } else {
            return "GNATS is currently locked, try again in a moment\n";
        }
    }

New text: (three lines added, 1 changed)

    chop($_ = &lt;PREDIT&gt;);
    close(PREDIT);
    if ($_ ne "") {
        if (/From /) {
            return "";
        }
        elsif (!/exists/) {
            s/.*by //g; tr/_/ /;
            return "Problem report $semipr is being edited by $_.\n";
        } else {
            return "GNATS is currently locked, try again in a moment\n";
        }
    }


</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<!--htdig_noindex-->
<table border="0">
  <tr><th align="left">Index Nav:</th>
      <td colspan="2">
        [<A HREF="index.html#00013">Date&nbsp;Index</A>] [<a href="subjects.html#00013">Subject&nbsp;Index</a>] [<a href="authors.html#00013">Author&nbsp;Index</a>] [<A HREF="threads.html#00013">Thread&nbsp;Index</A>]
      </td>
  </tr>
  <tr><th align="left">Message Nav:</th>
      <td>[<A HREF="msg00012.html">Date&nbsp;Prev</A>]&nbsp;[<A HREF="msg00014.html">Date&nbsp;Next</A>]</td>
      <td>[<A HREF="msg00012.html">Thread&nbsp;Prev</A>]&nbsp;[<A HREF="msg00012.html">Thread&nbsp;Next</A>]</td>
  </tr>
</table>
<!--/htdig_noindex-->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
