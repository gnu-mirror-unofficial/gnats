<!-- MHonArc v2.4.7 -->
<!--X-Subject: Antwort: Gnatsweb: patch to add stylesheet support -->
<!--X-From-R13: fgrsna.xnrfNcbegnk.pbz -->
<!--X-Date: 20 Mar 2001 13:03:44 &#45;0000 -->
<!--X-Message-Id: OFDBF4B354.8B1050CA&#45;ONC1256A15.00479C01@portax.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>stefan.kaes - Antwort: Gnatsweb: patch to add stylesheet support</TITLE>
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--htdig_noindex-->
<p>This is the mail archive of the 
<tt>gnats-devel@sources.redhat.com</tt>
mailing list for the <a href="/gnats/">GNATS project</a>.


<!--/htdig_noindex-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<!--htdig_noindex-->
<HR>
<table border="0">
  <tr><th align="left">Index Nav:</th>
      <td colspan="2">
        [<A HREF="index.html#00081">Date&nbsp;Index</A>] [<a href="subjects.html#00081">Subject&nbsp;Index</a>] [<a href="authors.html#00081">Author&nbsp;Index</a>] [<A HREF="threads.html#00081">Thread&nbsp;Index</A>]
      </td>
  </tr>
  <tr><th align="left">Message Nav:</th>
      <td>[<A HREF="msg00080.html">Date&nbsp;Prev</A>]&nbsp;[<A HREF="msg00082.html">Date&nbsp;Next</A>]</td>
      <td>[<A HREF="msg00080.html">Thread&nbsp;Prev</A>]&nbsp;[<A HREF="msg00082.html">Thread&nbsp;Next</A>]</td>
  </tr>
</table>
<!--/htdig_noindex-->

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Antwort: Gnatsweb: patch to add stylesheet support</h1>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Yngve Svendsen &lt;yngve dot svendsen at clustra dot com&gt;</li>
<li><em>Subject</em>: Antwort: Gnatsweb: patch to add stylesheet support</li>
<li><em>From</em>: stefan dot kaes at portax dot com</li>
<li><em>Date</em>: Tue, 20 Mar 2001 14:03:28 +0100</li>
<li><em>Cc</em>: gnats-devel at sources dot redhat dot com,gnats-devel-owner at sources dot redhat dot com,pfeifer at dbai dot tuwien dot ac dot at</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>

Does the gnatsweb version in CVS work with gnats 3.x.

Stefan Kaes

portax.com GmbH
Zielstattstrasse 40, Geb. 16
81379 München

Tel:        +49 (0)89 748 99 - 127
Fax:        +49 (0)89 748 99 - 111
Mob:       +49 (0)172 89 86 401
E-Mail:   stefan.kaes@portax.com
Web:     <A  HREF="http://www.portax.com">http://www.portax.com</A>


                                                                                                                                           
                    Yngve Svendsen                                                                                                         
                    &lt;yngve.svendsen@clustra.co        An:     gnats-devel@sources.redhat.com                                               
                    m&gt;                                Kopie:  Gerald Pfeifer &lt;pfeifer@dbai.tuwien.ac.at&gt;                                   
                    Gesendet von:                     Thema:  Gnatsweb: patch to add stylesheet support                                    
                    gnats-devel-owner@sources.                                                                                             
                    redhat.com                                                                                                             
                                                                                                                                           
                                                                                                                                           
                    20.03.2001 13:47                                                                                                       
                                                                                                                                           
                                                                                                                                           



The following patch adds the ability to have an external stylesheet linked
to all pages generated by Gnatsweb. It is against the version in the
current GNATS 4 CVS.

Gerald: Isn't it a good idea to change the version number of the
development Gnatsweb in CVS to distinguish it from the version that works
with GNATS 3.x? I would suggest going to &quot;4.0-dev&quot;. In the future, version
numbers don't need to be synced between GNATS and Gnatsweb, but I think it
is a good idea to use a common starting point for version 4, since older
versions of Gnatsweb won't work with GNATS 4. Does that make sense?

Next, I'll be going through some of the HTML constructs produced by
Gnatsweb in order to make them more amenable to formatting with
stylesheets. Expect more patches soon.

- Yngve



Index: gnatsweb.pl
===================================================================
RCS file: /cvs/gnats/gnats/contrib/gnatsweb/gnatsweb.pl,v
retrieving revision 2.24
diff -u -p -r2.24 gnatsweb.pl
--- gnatsweb.pl 2001/02/08 10:49:15     2.24
+++ gnatsweb.pl 2001/03/20 12:40:10
@@ -26,6 +26,11 @@ $site_banner_text = 'gnatsweb';
  $site_banner_background = '#000000';
  $site_banner_foreground = '#ffffff';

+# Uncomment the following line and insert stylesheet URL in order to
+# link all generated pages to an external stylesheet. Both absolute
+# and relative URLs are supported.
+#$site_stylesheet='<A  HREF="http://url.of/stylesheet">http://url.of/stylesheet</A>';
+
  $popup_menu_becomes_obnoxious = 20;

  $client_would_have_exited = 0;
@@ -2182,6 +2187,8 @@ sub page_start_html
    my @args = (-title=&gt;&quot;$title - $site_banner_text&quot;);
    push(@args, -bgcolor=&gt;$site_background)
          if defined($site_background);
+  push(@args, -style=&gt;{-src=&gt;$site_stylesheet})
+        if defined($site_stylesheet);
    print $q-&gt;start_html(@args);

    # Add the page banner.  This banner is a string slammed to the right







</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00082" href="msg00082.html">Re: Antwort: Gnatsweb: patch to add stylesheet support</a></strong>
<ul><li><em>From:</em> Yngve Svendsen</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<!--htdig_noindex-->
<table border="0">
  <tr><th align="left">Index Nav:</th>
      <td colspan="2">
        [<A HREF="index.html#00081">Date&nbsp;Index</A>] [<a href="subjects.html#00081">Subject&nbsp;Index</a>] [<a href="authors.html#00081">Author&nbsp;Index</a>] [<A HREF="threads.html#00081">Thread&nbsp;Index</A>]
      </td>
  </tr>
  <tr><th align="left">Message Nav:</th>
      <td>[<A HREF="msg00080.html">Date&nbsp;Prev</A>]&nbsp;[<A HREF="msg00082.html">Date&nbsp;Next</A>]</td>
      <td>[<A HREF="msg00080.html">Thread&nbsp;Prev</A>]&nbsp;[<A HREF="msg00082.html">Thread&nbsp;Next</A>]</td>
  </tr>
</table>
<!--/htdig_noindex-->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
