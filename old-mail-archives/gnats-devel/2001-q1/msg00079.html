<!-- MHonArc v2.4.7 -->
<!--X-Subject: Gnatsweb: patch to add stylesheet support -->
<!--X-From-R13: Katir Eiraqfra <latir.firaqfraNpyhfgen.pbz> -->
<!--X-Date: 20 Mar 2001 12:48:18 &#45;0000 -->
<!--X-Message-Id: 5.1.0.10.2.20010320134013.00bb6d08@mail.trd.clustra.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Yngve Svendsen - Gnatsweb: patch to add stylesheet support</TITLE>
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--htdig_noindex-->
<p>This is the mail archive of the 
<tt>gnats-devel@sources.redhat.com</tt>
mailing list for the <a href="/gnats/">GNATS project</a>.


<!--/htdig_noindex-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<!--htdig_noindex-->
<HR>
<table border="0">
  <tr><th align="left">Index Nav:</th>
      <td colspan="2">
        [<A HREF="index.html#00079">Date&nbsp;Index</A>] [<a href="subjects.html#00079">Subject&nbsp;Index</a>] [<a href="authors.html#00079">Author&nbsp;Index</a>] [<A HREF="threads.html#00079">Thread&nbsp;Index</A>]
      </td>
  </tr>
  <tr><th align="left">Message Nav:</th>
      <td>[<A HREF="msg00078.html">Date&nbsp;Prev</A>]&nbsp;[<A HREF="msg00080.html">Date&nbsp;Next</A>]</td>
      <td>[<A HREF="msg00078.html">Thread&nbsp;Prev</A>]&nbsp;[<A HREF="msg00084.html">Thread&nbsp;Next</A>]</td>
  </tr>
</table>
<!--/htdig_noindex-->

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Gnatsweb: patch to add stylesheet support</h1>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: gnats-devel at sources dot redhat dot com</li>
<li><em>Subject</em>: Gnatsweb: patch to add stylesheet support</li>
<li><em>From</em>: Yngve Svendsen &lt;yngve dot svendsen at clustra dot com&gt;</li>
<li><em>Date</em>: Tue, 20 Mar 2001 13:47:35 +0100</li>
<li><em>Cc</em>: Gerald Pfeifer &lt;pfeifer at dbai dot tuwien dot ac dot at&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
The following patch adds the ability to have an external stylesheet linked 
to all pages generated by Gnatsweb. It is against the version in the 
current GNATS 4 CVS.

Gerald: Isn't it a good idea to change the version number of the 
development Gnatsweb in CVS to distinguish it from the version that works 
with GNATS 3.x? I would suggest going to &quot;4.0-dev&quot;. In the future, version 
numbers don't need to be synced between GNATS and Gnatsweb, but I think it 
is a good idea to use a common starting point for version 4, since older 
versions of Gnatsweb won't work with GNATS 4. Does that make sense?

Next, I'll be going through some of the HTML constructs produced by 
Gnatsweb in order to make them more amenable to formatting with 
stylesheets. Expect more patches soon.

- Yngve



Index: gnatsweb.pl
===================================================================
RCS file: /cvs/gnats/gnats/contrib/gnatsweb/gnatsweb.pl,v
retrieving revision 2.24
diff -u -p -r2.24 gnatsweb.pl
--- gnatsweb.pl 2001/02/08 10:49:15     2.24
+++ gnatsweb.pl 2001/03/20 12:40:10
@@ -26,6 +26,11 @@ $site_banner_text = 'gnatsweb';
  $site_banner_background = '#000000';
  $site_banner_foreground = '#ffffff';

+# Uncomment the following line and insert stylesheet URL in order to
+# link all generated pages to an external stylesheet. Both absolute
+# and relative URLs are supported.
+#$site_stylesheet='<A  HREF="http://url.of/stylesheet">http://url.of/stylesheet</A>';
+
  $popup_menu_becomes_obnoxious = 20;

  $client_would_have_exited = 0;
@@ -2182,6 +2187,8 @@ sub page_start_html
    my @args = (-title=&gt;&quot;$title - $site_banner_text&quot;);
    push(@args, -bgcolor=&gt;$site_background)
          if defined($site_background);
+  push(@args, -style=&gt;{-src=&gt;$site_stylesheet})
+        if defined($site_stylesheet);
    print $q-&gt;start_html(@args);

    # Add the page banner.  This banner is a string slammed to the right



</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00084" href="msg00084.html">Re: Gnatsweb: patch to add stylesheet support</a></strong>
<ul><li><em>From:</em> Gerald Pfeifer</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<!--htdig_noindex-->
<table border="0">
  <tr><th align="left">Index Nav:</th>
      <td colspan="2">
        [<A HREF="index.html#00079">Date&nbsp;Index</A>] [<a href="subjects.html#00079">Subject&nbsp;Index</a>] [<a href="authors.html#00079">Author&nbsp;Index</a>] [<A HREF="threads.html#00079">Thread&nbsp;Index</A>]
      </td>
  </tr>
  <tr><th align="left">Message Nav:</th>
      <td>[<A HREF="msg00078.html">Date&nbsp;Prev</A>]&nbsp;[<A HREF="msg00080.html">Date&nbsp;Next</A>]</td>
      <td>[<A HREF="msg00078.html">Thread&nbsp;Prev</A>]&nbsp;[<A HREF="msg00084.html">Thread&nbsp;Next</A>]</td>
  </tr>
</table>
<!--/htdig_noindex-->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
