<html lang="en">
<head>
<title>Keeping Track</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name=description content="Keeping Track">
<meta name=generator content="makeinfo 4.1">
<link href="http://texinfo.org/" rel=generator-home>
</head>
<body>
<p>
Node:<a name="Management">Management</a>,
Next:<a rel=next href="Locations.html#Locations">Locations</a>,
Previous:<a rel=previous href="Installation.html#Installation">Installation</a>,
Up:<a rel=up href="index.html#Top">Top</a>
<hr><br>

<h2><small>GNATS</small> Administration</h2>

<p>In daily usage, <small>GNATS</small> is self-maintaining.  However, there are
various administrative duties which need to be performed periodically. 
Also, requirements may change with time, so it may be necessary to
make changes to the <small>GNATS</small> configuration at some point:

<dl>
<dt><em>emptying the <code>pending</code> directory</em>
<dd>If a Problem Report arrives with a <code>Category</code> value that is
unrecognized by the <code>categories</code> file, or if that field is missing,
<small>GNATS</small> places the PR in the <code>pending</code> directory
(see <a href="Locations.html#Locations">Where <small>GNATS</small> lives</a>).  PRs
submitted in free-form by email will always be filed in the
<code>pending</code> directory.  If so configured, <small>GNATS</small> sends a
notice to the <code>gnats-admin</code> and to the party responsible for that
submitter (as listed in the <code>submitters</code> file) when this occurs.

<p>To have these "categoryless" PRs filed correctly, you can then use a
<small>GNATS</small> tool such as <code>edit-pr</code> to set the correct category of
each PR in the <code>pending</code> directory.

<p>In order to protect yourself from problems caused by full disks, you
should arrange to have all mail that is sent to the <small>GNATS</small> database
copied to a log file (<a href="Aliases.html#Aliases">Setting up mail aliases</a>).  Then,
should you run out of disk space, and an empty file ends up in the
database's <code>pending</code> directory, you need only look in the log file,
which should still contain the full message that was submitted.

<br><dt><em>adding another database</em>
<dd><small>GNATS</small> supports multiple databases.  If you find at some point that
you need to add another database to your server, the <code>mkdb</code> tool
does most of the work for you.  See <a href="mkdb.html#mkdb">Adding another database</a>.

<br><dt><em>adding new categories</em>
<dd>Most installations of <small>GNATS</small> will only require you to add a new line
to the <code>categories</code> file.  The category directory will then be
created automatically as needed.  However, if automatic directory
creation has been switched off in the <code>dbconfig</code> file
(see <a href="dbconfig-file.html#dbconfig%20file">The <code>dbconfig</code> file</a>), you need to use the
<code>mkcat</code> program.

<br><dt><em>removing categories</em>
<dd>To remove a category, you need to make sure the relevant subdirectory is
empty (in other words, make sure no PRs exist for the category you wish
to remove).  You can then remove the category listing from the
<code>categories</code> file, and invoke

<br><pre>rmcat <var>category<small>...</small></var>
</pre>

<p>to remove <var>category</var> (any number of categories may be specified on
the command line to <code>rmcat</code>, so long as they abide by the above
constraints).

<br><dt><em>adding and removing maintainers</em>
<dd>Edit the <code>responsible</code> file to add a new maintainer or to remove an
existing maintainer.  See <a href="responsible-file.html#responsible%20file">The <code>responsible</code> file</a>.

<br><dt><em>building a new index</em>
<dd>If your index becomes corrupted, or if you wish to generate a new one
for some reason, use the program <code>gen-index</code>
(see <a href="gen-index.html#gen-index">Regenerating the index</a>).

<br><dt><em>pruning log files</em>
<dd>Log files often grow to unfathomable proportions.  As with gardening, it
is best to prune these as they grow, lest they take over your disk and
leave you with no room to gather more Problem Reports.  If you keep log
files, be sure to keep an eye on them.  (See <a href="Aliases.html#Aliases">Setting up mail aliases</a>.)

<br><dt><em>BACKING UP YOUR DATA</em>
<dd>Any database is only useful if its data remains uncorrupted and safe. 
Performing periodic backups ensures that problems like disk crashes and
data corruption are reversible.

</dl>

<p>See <a href="Locations.html#Locations">Where <small>GNATS</small> lives</a>.

<ul>
<li><a href="GNATS-configuration.html#GNATS%20configuration">GNATS configuration</a>:    Overview of GNATS configuration
<li><a href="databases-file.html#databases%20file">databases file</a>:         The databases file
<li><a href="dbconfig-file.html#dbconfig%20file">dbconfig file</a>:          The dbconfig file
<li><a href="Other-config-files.html#Other%20config%20files">Other config files</a>:     Configuration files
<li><a href="send-pr.conf-file.html#send-pr.conf%20file">send-pr.conf file</a>:      The send-pr.conf file
<li><a href="Admin-files.html#Admin%20files">Admin files</a>:            Administrative data files
<li><a href="Admin-utils.html#Admin%20utils">Admin utils</a>:            Administrative utilities
<li><a href="Internal-utils.html#Internal%20utils">Internal utils</a>:         Internal utilities
</ul>

</body></html>

