<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- This manual is for GNU GNATS
(version 4.2.0, 8 August 2006),
the GNU Bug Tracking System.

Copyright C 1993, 1995, 2001, 2002, 2003, 2006 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and
modify this GNU Manual, like GNU software.  Copies published by the
Free Software Foundation raise funds for GNU development."

 -->
<!-- Created on March 3, 2015 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>Keeping Track: GNU GNATS No value for VERSION</title>

<meta name="description" content="Keeping Track: GNU GNATS No value for VERSION">
<meta name="keywords" content="Keeping Track: GNU GNATS No value for VERSION">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Top"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Overview-1"></a>
<h1 class="settitle">Overview</h1>
<a name="index-overview-to-GNATS"></a>
<a name="index-foreword"></a>

<p>This manual documents <small>GNATS</small>, the <small>GNU</small> Problem Report Management
System, version 4.2.0.  <small>GNATS</small> is a bug-tracking tool
designed for use at a central <em>Support Site</em>.  Users who experience
problems use electronic mail, web-based or other clients communicating
with the <small>GNATS</small> network daemon running at the support site or direct
database submissions to communicate these problems to <em>maintainers</em>
at that Support Site.  <small>GNATS</small> partially automates the tracking of
these <em>Problem Reports</em> (<em>PR</em>s) by:
</p>
<ul>
<li>
organizing problem reports into a database and notifying responsible
parties of suspected bugs;

</li><li>
allowing support personnel and their managers to edit and query
accumulated bugs; and

</li><li>
providing a reliable archive of problems (and their subsequent
solutions) with a given program.
</li></ul>

<p><small>GNATS</small> offers many of the same features offered by more generalized
databases, including editing, querying, and basic reporting.  The
<small>GNATS</small> database itself is an ordered repository for problem reports;
each PR receives a unique, incremental <em>PR number</em> which identifies
it throughout its lifetime.  For a discussion on the working system
adopted by <small>GNATS</small>, see <a href="#Paradigm">The database paradigm</a>.
</p>
<p>You can access the submitting, editing, and querying functions of
<small>GNATS</small> from within <small>GNU</small> Emacs.  See section <a href="#GNATS-user-tools">The <small>GNATS</small> user tools</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Introduction">1. Introducing <small>GNATS</small></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Introducing GNATS.
</td></tr>
<tr><td align="left" valign="top"><a href="#GNATS-user-tools">2. The <small>GNATS</small> User Tools</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      The GNATS user tools.
</td></tr>
<tr><td align="left" valign="top"><a href="#Installation">3. Installing <small>GNATS</small></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Installing GNATS.
</td></tr>
<tr><td align="left" valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            GNATS Administration.
</td></tr>
<tr><td align="left" valign="top"><a href="#Locations">A. Where <small>GNATS</small> lives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Where GNATS lives.
</td></tr>
<tr><td align="left" valign="top"><a href="#gnatsd">B. The <small>GNATS</small> network server &ndash; <code>gnatsd</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                The GNATS network server.
</td></tr>
<tr><td align="left" valign="top"><a href="#Access-Control">C. Controlling access to databases</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Controlling access to GNATS databases.
</td></tr>
<tr><td align="left" valign="top"><a href="#Regexps">D. Querying using regular expressions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#dbconfig-recipes">E. &lsquo;<tt>dbconfig</tt>&rsquo; recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Useful dbconfig tricks.
</td></tr>
<tr><td align="left" valign="top"><a href="#Support">F. <small>GNATS</small> support</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               GNATS related sites and mailing lists.
</td></tr>
<tr><td align="left" valign="top"><a href="#Copying-This-Manual">G. Copying This Manual</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   License and rights for this manual.
</td></tr>
<tr><td align="left" valign="top"><a href="#Index">Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="1">
<a name="Introduction"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Paradigm" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Introducing-GNATS"></a>
<h1 class="chapter">1. Introducing <small>GNATS</small></h1>
<a name="index-introduction-to-GNATS"></a>
<a name="index-rationale"></a>
<a name="index-database-rationale"></a>

<p>Any support organization realizes that a large amount of data flows back
and forth between the maintainers and the users of their products.  This
data often takes the form of problem reports and communication via
electronic mail.  <small>GNATS</small> addresses the problem of organizing this
communication by defining a database made up of archived and indexed
problem reports.
</p>
<p><small>GNATS</small> was designed as a tool for software maintainers.  It consists
of several utilities which, when used in concert, formulate and
administer a database of Problem Reports grouped by site-defined
<em>problem categories</em>.  It allows a support organization to keep
track of problems (hence the term <em>Problem Report</em>) in an organized
fashion.  Essentially, <small>GNATS</small> acts as an active archive for
field-separated textual data.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Paradigm">1.1 The database paradigm</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Flowchart">1.2 Flowchart of <small>GNATS</small> activities</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Flowchart of GNATS activities
</td></tr>
<tr><td align="left" valign="top"><a href="#States">1.3 States of Problem Reports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Fields">1.4 Problem Report format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Paradigm"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Introduction" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Flowchart" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-database-paradigm"></a>
<h2 class="section">1.1 The database paradigm</h2>
<a name="index-paradigm"></a>
<a name="index-database-paradigm"></a>
<a name="index-why-GNATS"></a>
<a name="index-support-site"></a>
<a name="index-maintenance"></a>
<a name="index-so-what-does-it-do"></a>

<p>It is in your best interest as the maintainer of a body of work to
organize the feedback you receive on that work, and to make it easy for
users of your work to report problems and suggestions.
</p>
<p><small>GNATS</small> makes this easy by automatically filing incoming problem
reports into appropriate places, by notifying responsible parties of the
existence of the problem and (optionally) sending an acknowledgment to
the submitter that the report was received, and by making these Problem
Reports accessible to queries and easily editable.  <small>GNATS</small> is a
database specialized for a specific task.
</p>
<p><small>GNATS</small> was designed for use at a Support Site that handles a high
level of problem-related traffic.  It maintains Problem Reports in the
form of text files with defined <em>fields</em>
(see section <a href="#Fields"><small>GNATS</small> data fields</a>).  The location of the database,
as well as the categories it accepts as valid, the maintainers for whom
it provides service, and the submitters from whom it accepts Problem
Reports, are all definable by the <em>Support Site</em>.
See section <a href="#Management"><small>GNATS</small> administration</a>.
</p>
<a name="index-what-is-a-PR"></a>
<p>Each PR is a separate file within a main repository
(see section <a href="#Locations">Where <small>GNATS</small> lives</a>).  Editing access to the
database is regulated to maintain consistency.  To make queries on
the database faster, an index is kept automatically (see section <a href="#index-file">The <code>index</code> file</a>).
</p>
<p>We provide several software tools so that users may submit new Problem
Reports, edit existing Problem Reports, and query the database.
</p>
<ul>
<li> 
<code>send-pr</code> is used by both product maintainers and the end users
of the products they support to submit PRs to the database.

</li><li> 
<code>edit-pr</code> is used by maintainers when editing problem
reports in the database.

</li><li> 
Maintainers, managers and administrators can use <code>query-pr</code> to
make inquiries about individual PRs or groups of PRs.  

</li></ul>

<p>Other interfaces to <small>GNATS</small> include Gnatsweb, a web-based tool which
provides features for submitting and editing PRs and querying the
database, and TkGnats, a Tcl/Tk-based frontend.  These tools are
distributed together with <small>GNATS</small>.
</p>
<a name="index-GNATS-administrator"></a>
<p>At the Support Site, a <small>GNATS</small> <em>administrator</em> is charged with the
duty of maintaining <small>GNATS</small>.  These duties are discussed in detail in
<a href="#Management"><small>GNATS</small> Administration</a>, and generally include
configuring <small>GNATS</small> for the Support Site, editing PRs that <small>GNATS</small>
cannot process, pruning log files, setting up new problem categories,
backing up the database, and distributing <code>send-pr</code> so that others
may submit Problem Reports.
</p>
<p>Responsibility for a given Problem Report initially depends on the
category of the problem.  Optionally, an automated reminder can be
sent to the responsible person if a problem report is neglected for a
requisite time period.  See section <a href="#GNATS-configuration">Overview of <small>GNATS</small> configuration</a>.
</p>
<a name="index-pending-directory"></a>
<a name="index-unparseable-incoming-PRs"></a>
<a name="index-incoming-PRs-that-GNATS-cannot-parse"></a>
<p><small>GNATS</small> does not have the ability to decipher random text.
If there is no default category set, any
problem reports which arrive in a format <small>GNATS</small> does not recognize
are placed in a separate directory pending investigation by the
<small>GNATS</small> administrator (see section <a href="#Management"><small>GNATS</small> Administration</a>).
</p>
<p>Once a problem is recorded in the database, work can begin toward a
solution.  A problem&rsquo;s initial <em>state</em> type is <em>open</em>
(see section <a href="#States">States of Problem Reports</a>).  An acknowledgment may be
sent to the originator of the bug report (depending on whether this
feature has been switched on in the <small>GNATS</small> configuration).
<small>GNATS</small> forwards copies of the report to the party responsible for
that problem category and to the person responsible for problems
arriving from that submitter.
</p>
<p>When a problem has been identified, the maintainer can change its state
to <em>analyzed</em>, and then to <em>feedback</em> when a solution is found.
<small>GNATS</small> may be configured so that each time the state of a PR
changes, the submitter of the problem report is notified of the reason
for the change.  If the party responsible for the PR changes, the
previous responsible party and the new responsible party receive notice
of the change.  The change and reason are also recorded in the
<code>Audit-Trail</code> field of the Problem Report.  (See section <a href="#edit_002dpr">Editing existing Problem Reports</a>.  For information on the <code>Audit-Trail</code>
field, see <a href="#Fields">Problem Report format</a>.)
</p>
<p>When the originator of the Problem Report confirms that the solution
works, the maintainer can change the state to <em>closed</em>.  If the PR
cannot be closed, the maintainer can change its state to <em>suspended</em>
as a last resort.  (For a more detailed description of the standard
states, see <a href="#States">States of Problem Reports</a>.)
</p>
<p>It should be emphasized that what we describe here is the default way
that <small>GNATS</small> works, but as of version 4, <small>GNATS</small> is extremely
customizable, allowing sites to tailor almost every aspect of its
behavior.  See for instance <a href="#dbconfig-file">The <code>dbconfig</code> file</a> and See section <a href="#States">States of Problem Reports</a>.)
</p>
<hr size="6">
<a name="Flowchart"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Paradigm" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#States" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Flowchart-of-GNATS-activities"></a>
<h2 class="section">1.2 Flowchart of <small>GNATS</small> activities</h2>
<a name="index-flowchart-of-GNATS-activities"></a>
<a name="index-visual-map-of-data-flow"></a>

<p>This informal flowchart shows the relationships of the <small>GNATS</small> tools
to each other and to the files with which they interoperate.
</p>
<img src="flowchart.png" alt="Flowchart Image">


<hr size="6">
<a name="States"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Flowchart" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fields" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="States-of-Problem-Reports"></a>
<h2 class="section">1.3 States of Problem Reports</h2>

<a name="index-life_002dcycle-of-a-Problem-Report"></a>
<a name="index-states-of-Problem-Reports"></a>
<a name="index-Problem-Report-states"></a>
<a name="index-automatic-notification"></a>

<p>Each PR goes through a defined series of states between origination and
closure.  By default, the originator of a PR receives notification
automatically of any state changes.
</p>
<p>Unless your site has customized states (see section <a href="#states-file">The <code>states</code> file</a>),
<small>GNATS</small> uses these states:
</p>
<dl compact="compact">
<dd><a name="index-open-state"></a>
<a name="index-initial-state-_0028open_0029"></a>
<a name="index-state_002d_002d_002dopen"></a>
</dd>
<dt> <em>open</em></dt>
<dd><p>The initial state of a Problem Report.  This means the PR has been filed
and the responsible person(s) notified.
</p>
<a name="index-analyzed-state"></a>
<a name="index-state_002d_002d_002danalyzed"></a>
</dd>
<dt> <em>analyzed</em></dt>
<dd><p>The responsible person has analyzed the problem.  The analysis should
contain a preliminary evaluation of the problem and an estimate of the
amount of time and resources necessary to solve the problem.  It should
also suggest possible workarounds.
</p>
<a name="index-feedback-state"></a>
<a name="index-state_002d_002d_002dfeedback"></a>
</dd>
<dt> <em>feedback</em></dt>
<dd><p>The problem has been solved, and the originator has been given a patch
or other fix.  The PR remains in this state until the originator
acknowledges that the solution works.
</p>
<a name="index-closed-state"></a>
<a name="index-state_002d_002d_002dclosed"></a>
<a name="index-final-state-_0028closed_0029"></a>
</dd>
<dt> <em>closed</em></dt>
<dd><p>A Problem Report is closed (&ldquo;the bug stops here&rdquo;) only when any
changes have been integrated, documented, and tested, and the submitter
has confirmed the solution.
</p>
<a name="index-suspended-state"></a>
<a name="index-state_002d_002d_002dsuspended"></a>
</dd>
<dt> <em>suspended</em></dt>
<dd><p>Work on the problem has been postponed.  This happens if a timely
solution is not possible or is not cost-effective at the present time.
The PR continues to exist, though a solution is not being actively
sought.  If the problem cannot be solved at all, it should be closed
rather than suspended.
</p></dd>
</dl>


<hr size="6">
<a name="Fields"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#States" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Field-datatypes-reference" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Problem-Report-format"></a>
<h2 class="section">1.4 Problem Report format</h2>
<a name="index-Problem-Report-format"></a>
<a name="index-format"></a>
<a name="index-database-similarities"></a>
<a name="index-fields"></a>

<p>The format of a PR is designed to reflect the nature of <small>GNATS</small> as a
database.  Information is arranged into <em>fields</em>, and kept in
individual records (Problem Reports).
</p>
<p>A Problem Report contains two different types of fields: <em>Mail
Header</em> fields, which are used by the mail handler for delivery, and
<em>Problem Report</em> fields, which contain information relevant to the
Problem Report and its submitter.  A Problem Report is essentially a
specially formatted electronic mail message.
</p>
<p>Problem Report fields are denoted by a keyword which begins with
&lsquo;<samp>&gt;</samp>&rsquo; and ends with &lsquo;<samp>:</samp>&rsquo;, as in &lsquo;<samp>&gt;Confidential:</samp>&rsquo;.  Fields
belong to one of eight data types as listed in <a href="#Field-datatypes-reference">Field datatypes reference</a>.  As of version 4 of <small>GNATS</small> all characteristics of
fields, such as field name, data type, allowed values, permitted
operations, on-change actions etc. are configurable.
</p>
<p>For details, see see section <a href="#dbconfig-file">The <code>dbconfig</code> file</a>.
<a name="Example-Problem-Report"></a>
<h3 class="subheading">Example Problem Report</h3>
</p>
<p>The following is an example Problem Report with the fields that would be
present in a standard <small>GNATS</small> configuration.  Mail headers are at the
top, followed by <small>GNATS</small> fields, which begin with &lsquo;<samp>&gt;</samp>&rsquo; and end
with &lsquo;<samp>:</samp>&rsquo;.  The &lsquo;<samp>Subject:</samp>&rsquo; line in the mail header and the
<code>Synopsis</code> field are usually duplicates of each other.
</p>
<a name="index-sample-Problem-Report"></a>
<a name="index-example-Problem-Report"></a>
<a name="index-Problem-Report-template"></a>
<table class="cartouche" border="1"><tr><td>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Message-Id:  <var>message-id</var>
Date:        <var>date</var>
From:        <var>address</var>
Reply-To:    <var>address</var>
To:          <var>bug-address</var>
Subject:     <var>subject</var>

&gt;Number:       <var>gnats-id</var>
&gt;Category:     <var>category</var>
&gt;Synopsis:     <var>synopsis</var>
&gt;Confidential: yes <em>or</em> no
&gt;Severity:     critical, serious, <em>or</em> non-critical
&gt;Priority:     high, medium <em>or</em> low
&gt;Responsible:  <var>responsible</var>
&gt;State:        open, analyzed, suspended, feedback, <em>or</em> closed
&gt;Class:        sw-bug, doc-bug, change-request, support, 
duplicate, <em>or</em> mistaken
&gt;Submitter-Id: <var>submitter-id</var>
&gt;Arrival-Date: <var>date</var>
&gt;Originator:   <var>name</var>
&gt;Organization: <var>organization</var>
&gt;Release:      <var>release</var>
&gt;Environment:
   <var>environment</var>
&gt;Description:
   <var>description</var>
&gt;How-To-Repeat:
   <var>how-to-repeat</var>
&gt;Fix:
   <var>fix</var>
&gt;Audit-Trail:
<var>appended-messages&hellip;</var>
State-Changed-From-To: <var>from</var>-<var>to</var>
State-Changed-When: <var>date</var>
State-Changed-Why:
   <var>reason</var>
Responsible-Changed-From-To: <var>from</var>-<var>to</var>
Responsible-Changed-When: <var>date</var>
Responsible-Changed-Why:
   <var>reason</var>
&gt;Unformatted:
   <var>miscellaneous</var>
</pre></td></tr></table>
</td></tr></table>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Field-datatypes-reference">1.4.1 Field datatypes reference</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Mail-header-fields">1.4.2 Mail header fields</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Field-datatypes-reference"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Fields" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mail-header-fields" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fields" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Field-datatypes-reference-1"></a>
<h3 class="subsection">1.4.1 Field datatypes reference</h3>

<p>The following is a short reference to the characteristics of the
different field types.
</p>
<p>For details, see <a href="#Field-datatypes">Field datatypes</a>.
</p>
<dl compact="compact">
<dt> <code>text</code></dt>
<dd><p>A one-line text string.
</p>
</dd>
<dt> <code>multitext</code></dt>
<dd><p>Multiple lines of text.
</p>
</dd>
<dt> <code>enum</code></dt>
<dd><p>The value in this field is required to be from a list of specified
values, defined at the Support Site.
</p>
<p>(See section <a href="#dbconfig-file">The <code>dbconfig</code> file</a>, for details.
</p>
</dd>
<dt> <code>multienum</code></dt>
<dd><p>Similar to the <code>enum</code> datatype, except that the field can contain
multiple values.
</p>
</dd>
<dt> <code>enumerated-in-file</code></dt>
<dd><p>Similar to <code>enum</code>, but the allowed field values are listed in a
separate file on the <small>GNATS</small> server.
</p>
</dd>
<dt> <code>multi-enumerated-in-file</code></dt>
<dd><p>Similar to <code>enumerated-in-file</code>, except that the field can contain
multiple values.
</p>
</dd>
<dt> <code>date</code></dt>
<dd><p>Used to hold dates.
</p>
</dd>
<dt> <code>integer</code></dt>
<dd><p>Used to hold integer numbers.
</p></dd>
</dl>

<hr size="6">
<a name="Mail-header-fields"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Field-datatypes-reference" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Problem-Report-fields" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fields" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Mail-header-fields-1"></a>
<h3 class="subsection">1.4.2 Mail header fields</h3>
<a name="index-mail-header-fields"></a>
<a name="index-Internet-standard-RFC_002d822"></a>

<p>A Problem Report may contain any mail header field described in the
Internet standard RFC-822.  The <code>send-pr</code> tool can be configured
either to submit PRs to the support site by e-mail or by talking
directly to the <code>gnatsd</code> network daemon on the <small>GNATS</small> server.
This is also true for other client tools such as Gnatsweb.  Even when
these tools are set up submit PRs directly to <code>gnatsd</code>, they will
still include mail header fields that identify the sender and the
subject in the submitted PR:
</p>
<dl compact="compact">
<dd><a name="index-To-header"></a>
</dd>
<dt> <code>To:</code></dt>
<dd><p>The mail address for the Support Site, automatically supplied by the
tool used to submit the PR or by the originator if plain e-mail was
used.
</p>
<a name="index-Subject-header"></a>
</dd>
<dt> <code>Subject:</code></dt>
<dd><p>A terse description of the problem.  This field normally contains the
same information as the <code>Synopsis</code> field.
</p>
<a name="index-From-header"></a>
</dd>
<dt> <code>From:</code></dt>
<dd><p>Supplied automatically when PRs are submitted by plain e-mail and when
well-behaved tools such as <code>send-pr</code> are used; should always
contain the originator&rsquo;s e-mail address.
</p>
<a name="index-Reply_002dTo-header"></a>
</dd>
<dt> <code>Reply-To:</code></dt>
<dd><p>A return address to which electronic replies can be sent; in most cases,
the same address as the <code>From:</code> field.
</p></dd>
</dl>

<a name="index-Received_002dBy-headers"></a>
<p>One of the configurable options for <small>GNATS</small> is whether or not to
retain <code>Received-By</code> headers, which often consume a lot of
space and are not often used.  See section <a href="#dbconfig-file">The dbconfig file</a>.
</p>
<hr size="6">
<a name="Problem-Report-fields"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mail-header-fields" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fields" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Problem-Report-fields-1"></a>
<h3 class="subsection">1.4.3 Problem Report fields</h3>
<a name="index-GNATS-database-fields"></a>
<a name="index-field-format"></a>


<p>In a standard <small>GNATS</small> installation, certain fields will always be
present in a Problem Report.  If a PR arrives without one or more of
these fields, <small>GNATS</small> will add them, and if they have default
values set by the configuration at the Support Site, they will be
filled in with these values.  Certain tools such as <code>send-pr</code> are
set up to provide sensible defaults for most fields
(see section <a href="#send_002dpr_002econf-file">The send-pr.conf configuration file</a>.)
</p>
<p>In the list below, the field type (<code>text</code>, <code>multitext</code>,
<code>enumerated</code>, etc.) is supplied in parantheses.  The different
field types are explained briefly in <a href="#Field-datatypes-reference">Field datatypes reference</a>.
</p>
<a name="index-fields-_002d-list"></a>
<a name="index-GNATS-fields-_002d-list"></a>
<dl compact="compact">
<dd><a name="index-Submitter_002dId-field"></a>
</dd>
<dt> <code>Submitter-Id</code></dt>
<dd><p>(<code>enumerated-in-file</code>) A unique identification code assigned by the
Support Site.  It is used to identify all Problem Reports coming from a
particular site.  Submitters without a value for this field can invoke
<code>send-pr</code> with the <code>--request-id</code> option to apply for one from
the support organization.  Problem Reports from those not affiliated
with the support organization should use the default value of &lsquo;<samp>net</samp>&rsquo;
for this field.
</p>
<p>See section <a href="#submitters-file">The <code>submitters</code> file</a>, for details.
</p>
<a name="index-Notify_002dList-field"></a>
</dd>
<dt> <code>Notify-List</code></dt>
<dd><p>(<code>text</code>) Comma-separated list of e-mail-addresses of people to
notify when the PR changes significantly, i.e. when the Audit-Trail
changes.  This list is independent from the Notify subfield of entries
in the &lsquo;<tt>categories</tt>&rsquo; file of the <small>GNATS</small> database.
</p>
<a name="index-Originator-field"></a>
</dd>
<dt> <code>Originator</code></dt>
<dd><p>(<code>text</code>) Originator&rsquo;s real name.  Note that the Submitter and
Originator might not be the same person/entity in all cases.
</p>
<a name="index-Organization-field"></a>
</dd>
<dt> <code>Organization</code></dt>
<dd><p>(<code>multitext</code>) The originator&rsquo;s organization.
</p>
<a name="index-Confidential-field"></a>
<a name="index-confidentiality-in-PRs"></a>
<a name="index-PR-confidentiality"></a>
</dd>
<dt> <code>Confidential</code></dt>
<dd><p>(<code>enum</code>) Use of this field depends on the originator&rsquo;s relationship
with the support organization; contractual agreements often have
provisions for preserving confidentiality.  Conversely, a lack of a
contract often means that any data provided will not be considered
confidential.  Submitters should be advised to contact the support
organization directly if this is an issue.
</p>
<p>If the originator&rsquo;s relationship to the support organization provides
for confidentiality, then if the value of this field is &lsquo;<samp>yes</samp>&rsquo; the
support organization treats the PR as confidential; any code samples
provided are not made publicly available.
</p>
<a name="index-Synopsis-field"></a>
</dd>
<dt> <code>Synopsis</code></dt>
<dd><p>(<code>text</code>) One-line summary of the problem.  <code>send-pr</code> copies
this information to the <code>Subject</code> line when you submit a Problem
Report.
</p>
<a name="index-Severity-field"></a>
</dd>
<dt> <code>Severity</code></dt>
<dd><p>(<code>enum</code>) The severity of the problem.  By default, accepted
values include:
</p>
<dl compact="compact">
<dd><a name="index-critical-severity-problems"></a>
</dd>
<dt> <code>critical</code>  </dt>
<dd><p>The product, component or concept is completely non-operational or some
essential functionality is missing.  No workaround is known.
</p>
<a name="index-serious-severity-problems"></a>
</dd>
<dt> <code>serious</code></dt>
<dd><p>The product, component or concept is not working properly or significant
functionality is missing.  Problems that would otherwise be considered
&lsquo;<samp>critical</samp>&rsquo; are usually rated &lsquo;<samp>serious</samp>&rsquo; when a workaround is
known.
</p>
<a name="index-non_002dcritical-severity-problems"></a>
</dd>
<dt> <code>non-critical</code></dt>
<dd><p>The product, component or concept is working in general, but lacks
features, has irritating behavior, does something wrong, or doesn&rsquo;t
match its documentation.
</p></dd>
</dl>

<a name="index-Priority-field"></a>
</dd>
<dt> <code>Priority</code></dt>
<dd><p>(<code>enumerated</code>) How soon the originator requires a solution.
Accepted values include:
</p>
<dl compact="compact">
<dd><a name="index-high-priority-problems"></a>
</dd>
<dt> <code>high</code></dt>
<dd><p>A solution is needed as soon as possible.
</p>
<a name="index-medium-priority-problems"></a>
</dd>
<dt> <code>medium</code></dt>
<dd><p>The problem should be solved in the next release.
</p>
<a name="index-low-priority-problems"></a>
</dd>
<dt> <code>low</code></dt>
<dd><p>The problem should be solved in a future release.
</p></dd>
</dl>

<a name="index-Category-field"></a>
</dd>
<dt> <code>Category</code></dt>
<dd><p>(<code>enumerated-in-file</code>) The name of the product, component or
concept where the problem lies.  The values for this field are defined
by the Support Site.
See section <a href="#categories-file">The <code>categories</code> file</a>, for details.
</p>
<a name="index-Class-field"></a>
</dd>
<dt> <code>Class</code></dt>
<dd><p>(<code>enumerated-in-file</code>) The class of a problem in a default
<small>GNATS</small> installation can be one of the following:
</p>
<dl compact="compact">
<dd><a name="index-sw_002dbug-class"></a>
</dd>
<dt> <code>sw-bug</code></dt>
<dd><p>A general product problem.  (&lsquo;<samp>sw</samp>&rsquo; stands for &ldquo;software&rdquo;.)
</p>
<a name="index-doc_002dbug-class"></a>
</dd>
<dt> <code>doc-bug</code></dt>
<dd><p>A problem with the documentation.
</p>
<a name="index-change_002drequest-class"></a>
</dd>
<dt> <code>change-request</code></dt>
<dd><p>A request for a change in behavior, etc.
</p>
<a name="index-support-class"></a>
</dd>
<dt> <code>support</code></dt>
<dd><p>A support problem or question.
</p>
<a name="index-duplicate-class"></a>
</dd>
<dt> <code>duplicate (<var>pr-number</var>)</code></dt>
<dd><p>Duplicate PR.  <var>pr-number</var> should be the number of the original PR.
</p>
<a name="index-mistaken-class"></a>
</dd>
<dt> <code>mistaken</code>  </dt>
<dd><p>No problem, user error or misunderstanding.  This value can only be set
by tools at the Support Site, since it has no meaning for ordinary
submitters.
</p></dd>
</dl>

<p>See section <a href="#classes-file">The <code>classes</code> file</a>, for details.
</p>
<a name="index-Release-field"></a>
</dd>
<dt> <code>Release</code></dt>
<dd><p>(<code>text</code>) Release or version number of the product, component or
concept.
</p>
<a name="index-Environment-field"></a>
</dd>
<dt> <code>Environment</code></dt>
<dd><p>(<code>multitext</code>) Description of the environment where the problem
occurred: machine architecture, operating system, host and target types,
libraries, pathnames, etc.
</p>
<a name="index-Description-field"></a>
</dd>
<dt> <code>Description</code></dt>
<dd><p>(<code>multitext</code>) Precise description of the problem.
</p>
<a name="index-How_002dTo_002dRepeat-field"></a>
</dd>
<dt> <code>How-To-Repeat</code></dt>
<dd><p>(<code>multitext</code>) Example code, input, or activities to reproduce the
problem.  The support organization uses example code both to reproduce
the problem and to test whether the problem is fixed.  Include all
preconditions, inputs, outputs, conditions after the problem, and
symptoms.  Any additional important information should be included.
Include all the details that would be necessary for someone else to
recreate the problem reported, however obvious.  Sometimes seemingly
arbitrary or obvious information can point the way toward a solution.
See also <a href="#Helpful-hints">Helpful hints</a>.
</p>
<a name="index-Fix-field"></a>
</dd>
<dt> <code>Fix</code></dt>
<dd><p>(<code>multitext</code>) A description of a solution to the problem, or a
patch which solves the problem.  (This field is most often filled in at
the Support Site; we provide it to the submitter in case he or she has
solved the problem.)
</p></dd>
</dl>

<p><small>GNATS</small> adds the following fields when the PR arrives at the Support
Site:
</p>
<dl compact="compact">
<dd><a name="index-Number-field"></a>
</dd>
<dt> <code>Number</code></dt>
<dd><p>(<code>enumerated</code>) The incremental identification number for this PR.
This is included in the automated reply to the submitter (if that
feature of <small>GNATS</small> is activated; see section <a href="#dbconfig-file">The &lsquo;<tt>dbconfig</tt>&rsquo; file</a>).  It is also included in the copy of the PR that
is sent to the maintainer.
</p>
<p>The <code>Number</code> field is often paired with the <code>Category</code> field
as
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><var>category</var>/<var>number</var>
</pre></td></tr></table>

<p>in subsequent email messages.  This is <small>GNATS</small>&rsquo; way of tracking
followup messages that arrive by mail so that they are filed as part of
the original PR.
</p>
<a name="index-State-field"></a>
</dd>
<dt> <code>State</code></dt>
<dd><p>(<code>enumerated</code>) The current state of the PR.  In default <small>GNATS</small>
installations, accepted values are:
</p>
<dl compact="compact">
<dt> <code>open</code></dt>
<dd><p>The PR has been filed and the responsible person notified.
</p>
</dd>
<dt> <code>analyzed</code></dt>
<dd><p>The responsible person has analyzed the problem.
</p>
</dd>
<dt> <code>feedback</code></dt>
<dd><p>The problem has been solved, and the originator has been given a patch
or other fix.  Support organizations may also choose to temporarily
&rdquo;park&rdquo; PRs that are awaiting further input from the submitter under
this state.
</p>
</dd>
<dt> <code>closed</code></dt>
<dd><p>The changes have been integrated, documented, and tested, and the
originator has confirmed that the solution works.
</p>
</dd>
<dt> <code>suspended</code></dt>
<dd><p>Work on the problem has been postponed.
</p></dd>
</dl>

<p>The initial state of a PR is &lsquo;<samp>open</samp>&rsquo;.  See section <a href="#States">States of Problem Reports</a>.
</p>
<a name="index-Responsible-field"></a>
</dd>
<dt> <code>Responsible</code></dt>
<dd><p>(<code>text</code>) The person at the Support Site who is responsible for this
PR.
<small>GNATS</small> retrieves this information from the &lsquo;<tt>categories</tt>&rsquo; file
(see section <a href="#categories-file">The <code>categories</code> file</a>).
</p>
<a name="index-Arrival_002dDate-field"></a>
</dd>
<dt> <code>Arrival-Date</code></dt>
<dd><p>(<code>date</code>) The time that this PR was received by <small>GNATS</small>.  The
date is provided automatically by <small>GNATS</small>.
</p>
<a name="index-Date_002dRequired"></a>
<a name="index-Date_002dRequired-field"></a>
</dd>
<dt> <code>Date-Required</code></dt>
<dd><p>(<code>date</code>) The date by which a fix is required.  This is up to the
maintainers at the Support Site to determine, so this field is not
available until after the PR has been submitted.
</p>
<a name="index-Audit_002dTrail-field"></a>
</dd>
<dt> <code>Audit-Trail</code></dt>
<dd><p>(<code>multitext</code>) Tracks related electronic mail as well as changes in
the <code>State</code> and <code>Responsible</code> fields with the sub-fields:
</p>
<dl compact="compact">
<dd><a name="index-State_002dChanged_002d_003cFrom_003e_002d_003cTo_003e-in-Audit_002dTrail"></a>
</dd>
<dt> <code>State-Changed-&lt;From&gt;-&lt;To&gt;: <var>oldstate</var>&gt;-&lt;<var>newstate</var></code></dt>
<dd><p>The old and new <code>State</code> field values.
</p>
<a name="index-Responsible_002dChanged_002d_003cFrom_003e_002d_003cTo_003e-in-Audit_002dTrail"></a>
</dd>
<dt> <code>Responsible-Changed-&lt;From&gt;-&lt;To&gt;: <var>oldresp</var>&gt;-&lt;<var>newresp</var></code></dt>
<dd><p>The old and new <code>Responsible</code> field values.
</p>
<a name="index-State_002dChanged_002dBy-in-Audit_002dTrail"></a>
<a name="index-Responsible_002dChanged_002dBy-in-Audit_002dTrail"></a>
</dd>
<dt> <code>State-Changed-By: <var>name</var></code></dt>
<dt> <code>Responsible-Changed-By: <var>name</var></code></dt>
<dd><p>The name of the maintainer who effected the change.
</p>
<a name="index-State_002dChanged_002dWhen-in-Audit_002dTrail"></a>
<a name="index-Responsible_002dChanged_002dWhen-in-Audit_002dTrail"></a>
</dd>
<dt> <code>State-Changed-When: <var>timestamp</var></code></dt>
<dt> <code>Responsible-Changed-When: <var>timestamp</var></code></dt>
<dd><p>The time the change was made.
</p>
<a name="index-State_002dChanged_002dWhy-in-Audit_002dTrail"></a>
<a name="index-Responsible_002dChanged_002dWhy-in-Audit_002dTrail"></a>
</dd>
<dt> <code>State-Changed-Why: <var>reason&hellip;</var></code></dt>
<dt> <code>Responsible-Changed-Why: <var>reason&hellip;</var></code></dt>
<dd><p>The reason for the change.
</p></dd>
</dl>

<a name="index-follow_002dup-via-email"></a>
<a name="index-subsequent-mail"></a>
<a name="index-related-mail"></a>
<p>The <code>Audit-Trail</code> field also contains any mail messages received by
<small>GNATS</small> related to this PR, in the order received.  <small>GNATS</small> needs
to find a reference to the PR in the Subject field of received email in
order to be able to file it correctly, see <a href="#follow_002dup-via-email">Following up via direct email</a>.
</p>
<a name="index-Unformatted-field"></a>
</dd>
<dt> <code>Unformatted</code></dt>
<dd><p>(<code>multitext</code>) Any random text found outside the fields in the
original Problem Report.
</p></dd>
</dl>

<p>During a Problem Report&rsquo;s journey from &lsquo;<samp>open</samp>&rsquo; to &lsquo;<samp>closed</samp>&rsquo;, two
more fields, <code>Last-Modified</code> and <code>Closed Date</code> (both of type
<code>date</code>) will be added.
</p>

<hr size="6">
<a name="GNATS-user-tools"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Problem-Report-fields" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Environment" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-GNATS-User-Tools"></a>
<h1 class="chapter">2. The <small>GNATS</small> User Tools</h1>
<a name="index-usage-for-the-GNATS-user-tools"></a>
<a name="index-invoking-the-GNATS-user-tools"></a>

<p>This chapter describes the user tools distributed with <small>GNATS</small>.  The
<small>GNATS</small> administrative and internal tools are described in
<a href="#Management"><small>GNATS</small> Administration</a>. The user tools provide
facilities for initial submission, querying and editing of Problem
Reports:
</p>
<dl compact="compact">
<dt> <code>send-pr</code></dt>
<dd><p>Used by anyone who has a problem with a body of work to submit a report
of the problem to the maintainers of that work
(see section <a href="#send_002dpr">Submitting Problem Reports</a>).
</p>
</dd>
<dt> <code>query-pr</code></dt>
<dd><p>Used to query the <small>GNATS</small> database (see section <a href="#query_002dpr">Querying the database</a>).
</p>
</dd>
<dt> <code>edit-pr</code></dt>
<dd><p>Used to edit Problem Reports (to record new data, to change the
responsible party, etc.) (see section <a href="#edit_002dpr">Editing existing Problem Reports</a>).
</p></dd>
</dl>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Environment">2.1 Environment variables and <small>GNATS</small> tools</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Environment variables and GNATS tools
</td></tr>
<tr><td align="left" valign="top"><a href="#send_002dpr">2.2 Submitting Problem Reports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#edit_002dpr">2.3 Editing existing Problem Reports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#query_002dpr">2.4 Querying the database</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Emacs">2.5 The Emacs interface to <small>GNATS</small></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             The Emacs interface
</td></tr>
</table>

<hr size="6">
<a name="Environment"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#send_002dpr" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Environment-variables-and-GNATS-tools"></a>
<h2 class="section">2.1 Environment variables and <small>GNATS</small> tools</h2>
<a name="index-environment-variables-and-GNATS-tools"></a>
<a name="index-GNATSDB"></a>

<p>All the <small>GNATS</small> user tools honor the <code>GNATSDB</code> environment
variable which is used to determine which database to use.  For a local
database, it contains the name of the database to access.
</p>
<p>For network access via gnatsd, it contains a colon-separated list of
strings that describe the remote database in the form
</p>
<table><tr><td>&nbsp;</td><td><pre class="smalldisplay"><var>server:port:databasename:username:password</var>
</pre></td></tr></table>

<p>Any of the fields may be omitted except for <var>server</var>, but at least
one colon must appear; otherwise, the value is assumed to be the name of
a local database.
</p>
<p>If <code>GNATSDB</code> is not set and no command-line options are used to
specify the database, it is assumed that the database is local and that
its name is &lsquo;<samp>default</samp>&rsquo;.
</p>
<hr size="6">
<a name="send_002dpr"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Environment" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#send_002dpr-from-the-shell" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Submitting-Problem-Reports"></a>
<h2 class="section">2.2 Submitting Problem Reports</h2>
<a name="index-send_002dpr"></a>
<a name="index-using-send_002dpr"></a>
<a name="index-invoking-send_002dpr"></a>
<a name="index-reporting-problems-with-send_002dpr"></a>

<p>Use <code>send-pr</code> to submit Problem Reports to the database.
<code>send-pr</code> is a shell script which composes a template for
submitters to complete.
</p>
<p>You can invoke <code>send-pr</code> from a shell prompt, or from within
<small>GNU</small> Emacs using &lsquo;<samp>M-x send-pr</samp>&rsquo; (see section <a href="#Emacs-submitting">Submitting Problem Reports from Emacs</a>.)
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#PR-template">2.2.3 The Problem Report template</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#send_002dpr-in-Emacs">2.2.2 Using <code>send-pr</code> from within Emacs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Using send-pr from within Emacs
</td></tr>
<tr><td align="left" valign="top"><a href="#send_002dpr-from-the-shell">2.2.1 Invoking <code>send-pr</code> from the shell</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    Invoking send-pr from the shell
</td></tr>
<tr><td align="left" valign="top"><a href="#Submitting-via-e_002dmail">2.2.4 Submitting a Problem Report via direct e-mail</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Helpful-hints">2.2.5 Helpful hints</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="send_002dpr-from-the-shell"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#send_002dpr" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#send_002dpr-in-Emacs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#send_002dpr" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Invoking-send_002dpr-from-the-shell"></a>
<h3 class="subsection">2.2.1 Invoking <code>send-pr</code> from the shell</h3>
<a name="index-command-line-options"></a>
<a name="index-invoking-send_002dpr-from-the-shell"></a>
<a name="index-shell-invocation"></a>

<table><tr><td>&nbsp;</td><td><pre class="smallexample">send-pr [ -b | --batch ]
        [ -d <var>database</var> | --database <var>database</var> ]
        [ -f <var>file</var> | --file <var>file</var> ]
        [ -p | --print ] [ --request-id ]
        [ -s <var>severity</var> | --severity <var>severity</var> ]
        [ -V | --version ] [ -h | --help ]
</pre></td></tr></table>

<p>Invoking <code>send-pr</code> with no options assumes that you want to
submit to the local <small>GNATS</small> database named <var>default</var> and calls
the editor named in your environment variable <code>EDITOR</code> on a PR
template for this database.
</p>
<dl compact="compact">
<dt> <code>-b</code></dt>
<dt> <code>--batch</code></dt>
<dd><p>Suppresses printing of most of the messages <code>send-pr</code> usually
prints while running.
</p>
</dd>
<dt> <code>-d <var>database</var>, --database <var>database</var></code></dt>
<dd><p>Specifies the database to which the PR is to be submitted; if no
database is specified, the local database named <code>default</code> is
assumed.  This option overrides the database specified in the
<code>GNATSDB</code> environment variable.  <var>database</var> can also be set
to a remote database by using the format for <code>GNATSDB</code> described
in <a href="#Environment">Environment variables and <small>GNATS</small> tools</a>.
</p>
</dd>
<dt> <code>-f <var>problem-report</var></code></dt>
<dt> <code>--file <var>problem-report</var></code></dt>
<dd><p>Specifies a file, <var>problem-report</var>, where a completed Problem
Report or a PR template exists.  <code>send-pr</code> verifies that the
contents of the file constitute a valid PR and asks you if you want to
edit it or send it directly.  If the PR text is invalid you will be
told what is wrong and be given the option to edit it. If
<var>problem-report</var> is &lsquo;<samp>-</samp>&rsquo;, <code>send-pr</code> reads from
standard input.
</p>
</dd>
<dt> <code>-p</code></dt>
<dt> <code>--print</code></dt>
<dd><p>Displays the PR template for the specified database, or if the
<code>-d</code> or <code>--database</code> options aren&rsquo;t specified, print the
template for the local <var>default</var> database.  No PR is submitted.
</p>
</dd>
<dt> <code>--request-id</code></dt>
<dd><p>Sends a request for a <code>Submitter-Id</code> to the Support Site.
</p>
</dd>
<dt> <code>-s <var>severity</var></code></dt>
<dt> <code>--severity <var>severity</var></code></dt>
<dd><a name="index-send_002dpr-fields"></a>
<p>Sets the initial value of the <code>Severity</code> field to <var>severity</var>.
</p>
</dd>
<dt> <code>-V</code></dt>
<dt> <code>--version</code></dt>
<dd><p>Displays the <code>send-pr</code> version number and a usage summary.  No mail
is sent.
</p>
</dd>
<dt> <code>-h</code></dt>
<dt> <code>--help</code></dt>
<dd><p>Displays a usage summary for <code>send-pr</code>.  No mail is sent.
</p></dd>
</dl>

<hr size="6">
<a name="send_002dpr-in-Emacs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#send_002dpr-from-the-shell" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#PR-template" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#send_002dpr" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-send_002dpr-from-within-Emacs"></a>
<h3 class="subsection">2.2.2 Using <code>send-pr</code> from within Emacs</h3>
<a name="index-using-send_002dpr-from-within-Emacs"></a>
<a name="index-send_002dpr-within-Emacs"></a>
<a name="index-invoking-send_002dpr-from-Emacs"></a>
<a name="index-interactive-interface"></a>

<p>You can use an interactive <code>send-pr</code> interface from within <small>GNU</small>
Emacs to fill out your Problem Report.  We recommend that you
familiarize yourself with Emacs before using this feature
(see <a href="emacs.html#Introduction">(emacs)Introduction</a> section &lsquo;Introduction&rsquo; in <cite>GNU Emacs</cite>).
</p>
<p>Call <code>send-pr</code> with &lsquo;<samp>M-x send-pr</samp>&rsquo;.<a name="DOCF1" href="#FOOT1">(1)</a>  <code>send-pr</code> responds
with a preconfigured Problem Report template.  The Emacs interface is
described in more detail in a separate section, See section <a href="#Emacs">The Emacs interface to <small>GNATS</small></a>.
</p>
<hr size="6">
<a name="PR-template"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#send_002dpr-in-Emacs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Submitting-via-e_002dmail" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#send_002dpr" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-Problem-Report-template"></a>
<h3 class="subsection">2.2.3 The Problem Report template</h3>

<p>Invoking <code>send-pr</code> presents a PR <em>template</em> with a number of
fields already filled in with default values for the database you are
submitting to.  Complete the template as thoroughly as possible to
make a useful bug report.  Submit only one bug with each PR.
</p>
<a name="index-template"></a>
<p>A template consists of three sections:
</p>
<ul>
<li> Comments
</li><li> Mail Header
</li><li> <small>GNATS</small> fields
</li></ul>

<p>The <strong>Comments section</strong> at the top of the template contains basic
instructions for completing the Problem Report, as well as a list of
valid entries for the <code>Category</code> field.  One (and only one) of
these values should be placed in the <code>Category</code> field further down
in the Problem Report.
</p>
<a name="index-template-comment-section"></a>
<a name="index-comment-section-in-the-PR-template"></a>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">SEND-PR: -*- send-pr  -*-
SEND-PR: Lines starting with `SEND-PR' will be removed
SEND-PR: automatically as well as all comments (the text 
SEND-PR: below enclosed in `&lt;' and `&gt;').
SEND-PR: 
SEND-PR: Please consult the document `Reporting Problems 
SEND-PR: Using send-pr' if you are not sure how to fill out
SEND-PR: a problem report.
SEND-PR:
SEND-PR: Choose from the following categories:
</pre></td></tr></table>


<p>The comments lines are all preceded by the string &lsquo;<samp>SEND-PR:</samp>&rsquo; and
are erased automatically when the PR is submitted.  The instructional
comments within &lsquo;<samp>&lt;</samp>&rsquo; and &lsquo;<samp>&gt;</samp>&rsquo; are also removed.  (Only these
comments are removed; lines you provide that happen to have those
characters in them, such as examples of shell-level redirection, are not
affected.)
</p>
<p>The <strong>Mail Header</strong> section of the template contains a standard
mail header constructed by <code>send-pr</code>.  <code>send-pr</code> can be set up
to submit PRs by e-mail or by speaking directly to the <small>GNATS</small>
server, but since this header is part of the standard format of Problem
Reports, <code>send-pr</code> includes it even when it is set up to speak
directly to the server.
</p>
<a name="index-mail-header-section"></a>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">To: <var>PR submission address</var>
Subject: <em>complete this field</em>
From: <var>your-login</var>@<var>your-site</var>
Reply-To: <var>your-login</var>@<var>your-site</var>
X-send-pr-version: send-pr 4.2.0
</pre></td></tr></table>

<p><code>send-pr</code> automatically completes all the mail header fields except
the <code>Subject</code> line with default values.  (See section <a href="#Fields">Problem Report format</a>.)
</p>
<p>The <strong><small>GNATS</small> fields</strong> below the mail header form the bulk of a
<small>GNATS</small> Problem Report.
</p>
<p>Each field is either automatically completed with valid information
(such as your <code>Submitter-Id</code>) or contains a one-line instruction
specifying the information that field requires in order to be correct.
For example, the <code>Confidential</code> field expects a value of &lsquo;<samp>yes</samp>&rsquo;
or &lsquo;<samp>no</samp>&rsquo;, and the answer must fit on one line; similarly, the
<code>Synopsis</code> field expects a short synopsis of the problem, which
must also fit on one line.  Fill out the fields as completely as
possible.  See section <a href="#Helpful-hints">Helpful hints</a>, for suggestions as to
what kinds of information to include.
</p>
<p>The mechanisms <code>send-pr</code> uses to fill in default values is as
follows: Your preconfigured <code>Submitter-Id</code> is taken from the local
&lsquo;<tt>send-pr.conf</tt>&rsquo; configuration file.  <code>send-pr</code> will set the
<code>Originator</code> field to the value of the <code>NAME</code> environment
variable if it has been set; similarly, <code>Organization</code> will be set
to the value of <code>ORGANIZATION</code>.  If these variables aren&rsquo;t set in
you environment, <code>send-pr</code> uses the values set in the local
&lsquo;<tt>send-pr.conf</tt>&rsquo; configuration file, if that exists.  If not, these
values are left blank in the template.  <code>send-pr</code> also attempts to
find out some information about your system and architecture, and places
this information in the <code>Environment</code> field if it finds any.
</p>
<p>In this example, words in <em>italics</em> are filled in with
pre-configured information:
</p>
<a name="index-send_002dpr-fields-1"></a>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt;Submitter-Id: <em>your submitter-id</em>
&gt;Originator:   <em>your name here</em>
&gt;Organization:  
    <em>your organization</em>
&gt;Confidential:&lt;[ yes | no ] (one line)&gt;
&gt;Synopsis:    &lt;synopsis of the problem (one line)&gt;
&gt;Severity:    &lt;[non-critical | serious | critical](one line)&gt;
&gt;Priority:    &lt;[ low | medium | high ] (one line)&gt;
&gt;Category:    &lt;name of the product (one line)&gt;
&gt;Class:       &lt;[sw-bug | doc-bug | change-request | support]&gt;
&gt;Release:     &lt;release number (one line)&gt;
&gt;Environment:
         &lt;machine, os, target, libraries (multiple lines)&gt;

&gt;Description:
       &lt;precise description of the problem (multiple lines)&gt;
&gt;How-To-Repeat:
       &lt;code/input/activities to reproduce (multiple lines)&gt;
&gt;Fix:
       &lt;how to correct or work around the problem, if known 
        (multiple lines)&gt;
</pre></td></tr></table>

<a name="index-Submitter_002dId-field-1"></a>
<a name="index-_003eSubmitter_002dId"></a>
<p>When you finish editing the Problem Report, <code>send-pr</code> validates the
contents and if it looks OK either submits it directly to the
<small>GNATS</small> server or submits it by mail to the address named in the
<code>To</code> field in the mail header.
</p>
<a name="index-bad-Problem-Reports"></a>
<a name="index-errors"></a>
<a name="index-invalid-Problem-Reports"></a>
<p>If your PR contains one or more invalid field values, <code>send-pr</code>
places the PR in a temporary file named &lsquo;<tt>/tmp/pbad<var>nnnn</var></tt>&rsquo; on
your machine.  <var>nnnn</var> is the process identification number given
to your current <code>send-pr</code> session.  If you are running
<code>send-pr</code> from the shell, you are prompted as to whether or not
you wish to try editing the same Problem Report again.  If you are
running <code>send-pr</code> from Emacs, the Problem Report is placed in the
buffer &lsquo;<samp>*gnats-send*</samp>&rsquo;; you can edit this file and then submit
it with <kbd>C-c C-c</kbd>.
</p>
<hr size="6">
<a name="Submitting-via-e_002dmail"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#PR-template" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Helpful-hints" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#send_002dpr" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Submitting-a-Problem-Report-via-direct-e_002dmail"></a>
<h3 class="subsection">2.2.4 Submitting a Problem Report via direct e-mail</h3>
<a name="index-Direct-e_002dmail"></a>
<a name="index-Submitting-a-PR-via-e_002dmail"></a>
<p>In addition to using <code>send-pr</code>, there is another way to submit a
problem report.  You can simply send an e-mail message to the PR
submission e-mail address of the support site (This address should be
published by the support site.)
</p>
<p>When you send unformatted e-mail to this address, <small>GNATS</small> processes
the message as a new problem report, filling in as many fields from
defaults as it can:
</p>
<dl compact="compact">
<dt> <code>Synopsis</code></dt>
<dd><p>The <code>Synopsis</code> field is filled in by the <code>Subject</code> header of
the e-mail message.
</p>
</dd>
<dt> <code>Submitter ID</code></dt>
<dd><p><small>GNATS</small> will try to derive the <code>Submitter</code> field from the address
in the <code>From</code> header of the e-mail.
</p>
</dd>
<dt> <code>Description</code></dt>
<dd><p>All of the text in the body of the e-mail message is put into the 
<code>Description</code> field.
</p></dd>
</dl>

<p>Other fields, such as <code>Category</code>, <code>Version</code>, <code>Severity</code>,
etc. are set to default values as defined by the <small>GNATS</small> administrator.
</p>
<hr size="6">
<a name="Helpful-hints"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Submitting-via-e_002dmail" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#edit_002dpr" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#send_002dpr" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Helpful-hints-1"></a>
<h3 class="subsection">2.2.5 Helpful hints</h3>
<a name="index-helpful-hints"></a>
<a name="index-Using-and-Porting-GNU-CC"></a>
<a name="index-effective-problem-reporting"></a>
<a name="index-kinds-of-helpful-information"></a>
<a name="index-information-to-submit"></a>
<a name="index-Report-all-the-facts_0021"></a>

<p>There is no orthodox standard for submitting effective bug reports,
though you might do well to consult the section on submitting bugs for
<small>GNU</small> <code>gcc</code> in <a href="gcc.html#Bugs">(gcc)Bugs</a> section &lsquo;Reporting Bugs&rsquo; in <cite>Using and Porting GNU CC</cite>, by Richard Stallman.  This section contains
instructions on what kinds of information to include and what kinds of
mistakes to avoid.
</p>
<p>In general, common sense (assuming such an animal exists) dictates the
kind of information that would be most helpful in tracking down and
resolving problems in software.  
</p><ul>
<li> 
Include anything <em>you</em> would want to know if you were looking at
the report from the other end.  There&rsquo;s no need to include every minute
detail about your environment, although anything that might be different
from someone else&rsquo;s environment should be included (your path, for
instance).

</li><li> 
Narratives are often useful, given a certain degree of restraint.  If a
person responsible for a bug can see that A was executed, and then B and
then C, knowing that sequence of events might trigger the realization of
an intermediate step that was missing, or an extra step that might have
changed the environment enough to cause a visible problem.  Again,
restraint is always in order (&ldquo;I set the build running, went to get a
cup of coffee (Columbian, cream but no sugar), talked to Sheila on the
phone, and then THIS happened&hellip;&rdquo;) but be sure to include anything
relevant.

</li><li> 
Richard Stallman writes, &ldquo;The fundamental principle of reporting bugs
usefully is this: <strong>report all the facts</strong>.  If you are not sure
whether to state a fact or leave it out, state it!&rdquo;  This holds true
across all problem reporting systems, for computer software or social
injustice or motorcycle maintenance.  It is especially important in the
software field due to the major differences seemingly insignificant
changes can make (a changed variable, a missing semicolon, etc.).

</li><li>
Submit only <em>one</em> problem with each Problem Report.  If you have
multiple problems, use multiple PRs.  This aids in tracking each problem
and also in analyzing the problems associated with a given program.

</li><li>
It never hurts to do a little research to find out if the bug you&rsquo;ve
found has already been reported.  Most software releases contain lists
of known bugs in the Release Notes which come with the software; see
your system administrator if you don&rsquo;t have a copy of these.

</li><li>
The more closely a PR adheres to the standard format, the less
interaction is required by a database administrator to route the
information to the proper place.  Keep in mind that anything that
requires human interaction also requires time that might be better spent
in actually fixing the problem.  It is therefore in everyone&rsquo;s best
interest that the information contained in a PR be as correct as
possible (in both format and content) at the time of submission.
</li></ul>

<hr size="6">
<a name="edit_002dpr"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Helpful-hints" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#edit_002dpr-from-the-shell" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Editing-existing-Problem-Reports"></a>
<h2 class="section">2.3 Editing existing Problem Reports</h2>
<a name="index-using-edit_002dpr"></a>
<a name="index-invoking-edit_002dpr"></a>
<a name="index-edit_002dpr"></a>

<p>Use <code>edit-pr</code> to make changes to existing PRs in the database.
This tool can be invoked both from a shell prompt or from within GNU
Emacs using &lsquo;<samp>M-x edit-pr</samp>&rsquo;.
</p>
<p><code>edit-pr</code> first examines the PR you wish to edit and locks it if it
is not already locked.  This is to prevent you from editing a PR at the
same time as another user.  If the PR you wish to edit is already in the
process of being edited, <code>edit-pr</code> tells you the name of the person
who owns the lock.
</p>
<p>You may edit any non-readonly fields in the database.  We recommend that
you avoid deleting any information in the <small>TEXT</small> and <small>MULTITEXT</small>
fields (such as <code>Description</code> and <code>How-To-Repeat</code>
(see section <a href="#Fields">Problem Report format</a>).  We also recommend that you
record the final solution to the problem in the <code>Fix</code> field for
future reference.  Note that heavily customized installations of
<small>GNATS</small> may have differently named fields, and sites using such
installations should provide their own set of routines and instructions
regarding how PRs should be treated throughout their life span.
</p>
<p>After the PR has been edited, it is then resubmitted to the database,
and the index is updated (see section <a href="#index-file">The <code>index</code> file</a>).
For information on <code>pr-edit</code>, the main driver for <code>edit-pr</code>,
see <a href="#Internal-utils">Internal utilities</a>.
</p>
<p>If you change a field that requires a reason for the change, such as the
<code>Responsible</code> or <code>State</code> fields in the default configuration,
<code>edit-pr</code> prompts you to supply a reason for the change.  A message
is then appended to the <code>Audit-Trail</code> field of the PR with the
changed values and the change reason.
</p>
<p>Depending on how the database is configured, editing various fields in
the PR may also cause mail to be sent concerning these changes.  In the
default configuration, any fields that generate &lsquo;<samp>Audit-Trail</samp>&rsquo;
entries will also cause a copy of the new &lsquo;<samp>Audit-Trail</samp>&rsquo; message to
be sent.
</p>
<p>Mail received at the PR submission email address and recognized by
<small>GNATS</small> as relating to an existing PR is also appended to the
&lsquo;<samp>Audit-Trail</samp>&rsquo; field, see <a href="#follow_002dup-via-email">Following up via direct email</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#edit_002dpr-from-the-shell">2.3.1 Invoking <code>edit-pr</code> from the shell</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#follow_002dup-via-email">2.3.2 Following up via direct email</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="edit_002dpr-from-the-shell"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#edit_002dpr" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#follow_002dup-via-email" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#edit_002dpr" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Invoking-edit_002dpr-from-the-shell"></a>
<h3 class="subsection">2.3.1 Invoking <code>edit-pr</code> from the shell</h3>
<a name="index-edit_002dpr-from-the-shell"></a>

<p>The usage for <code>edit-pr</code> is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">edit-pr [ -V | --version ] [ -h | --help ]
        [-d <var>database</var> | --database <var>database</var>] <var>PR Number</var>
</pre></td></tr></table>

<p>Network-mode-only options:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">         [--host <var>host</var> | -H <var>host</var>] [--port <var>port</var>]
         [--user <var>user</var> | -v <var>user</var>]
         [--passwd <var>passwd</var> | -w <var>passwd</var>]
</pre></td></tr></table>

<p>The options have the following meaning:
</p>
<dl compact="compact">
<dt> <code>-h, --help</code></dt>
<dd><p>Prints a brief usage message for edit-pr.
</p>
</dd>
<dt> <code>-V, --version</code></dt>
<dd><p>Prints the version number for edit-pr.
</p>
</dd>
<dt> <code>-d <var>database</var>, --database <var>database</var></code></dt>
<dd><p>Specifies the database containing the PR to be edited; if no database is
specified, the database named &lsquo;<samp>default</samp>&rsquo; is assumed.  This option
overrides the database specified in the <code>GNATSDB</code> environment
variable.
</p>
</dd>
<dt> <code>--host <var>host</var>, -H <var>host</var></code></dt>
<dd><p>Specifies the hostname of the gnatsd server to communicate with.  This
overrides the value in the <code>GNATSDB</code> environment variable.
</p>
</dd>
<dt> <code>--port <var>port</var></code></dt>
<dd><p>Specifies the port number of the gnatsd server to communicate with.
This overrides the value in the <code>GNATSDB</code> environment variable.
</p>
</dd>
<dt> <code>--user <var>user</var>, -v <var>user</var></code></dt>
<dd><p>Specifies the username to login with when connecting to the gnatsd
server.  This overrides the value in the <code>GNATSDB</code> environment
variable.
</p>
</dd>
<dt> <code>--passwd <var>passwd</var>, -w <var>passwd</var></code></dt>
<dd><p>Specifies the password to login with when connecting to the gnatsd
server.  This overrides the value in the <code>GNATSDB</code> environment
variable.
</p></dd>
</dl>

<p><code>edit-pr</code> calls the editor specified in your environment variable
<code>EDITOR</code> on a temporary copy of that PR.  (If you don&rsquo;t have the
variable <code>EDITOR</code> defined in your environment, the default editor
<code>vi</code> is used.)
</p>
<p>Edit the PR, changing any relevant fields or adding to existing
information.  When you exit the editor, <code>edit-pr</code> prompts you on
standard input for a reason if you have changed a field that requires
specifying a reason for the change.
</p>
<hr size="6">
<a name="follow_002dup-via-email"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#edit_002dpr-from-the-shell" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#query_002dpr" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#edit_002dpr" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Following-up-via-direct-email"></a>
<h3 class="subsection">2.3.2 Following up via direct email</h3>
<a name="index-follow_002dup-via-email-1"></a>
<a name="index-subsequent-mail-1"></a>
<a name="index-related-mail-1"></a>

<p>If you have some additional information for a PR and for some reason
do not want to (or cannot) edit the PR directly, you may append
the information to the Audit-Trail field by mailing it to the PR
submission address.
</p>
<p>In order for GNATS to be able to recognize the mail as pertaining to an
existing PR (as opposed to a new PR, see <a href="#Submitting-via-e_002dmail">Submitting a Problem Report via direct e-mail</a>),
the Subject mail header field must contain a reference to the PR.
GNATS matches the Subject header against the regular expression
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">\&lt;(PR[ \t#/]?|[-[:alnum:]+.]+/)[0-9]+
</pre></td></tr></table>

<p>to determine whether such a reference is present. Any text may precede
or follow the reference in the Subject header. If more than one reference
is present, the first is used and the rest ignored.
</p>
<p>A PR reference matching the regular expression above has two parts. The
second is the PR number (one or more digits). The first is either the
capital letters &rsquo;PR&rsquo; optionally followed by a separator character (blank,
tab, hash mark or forward slash) or the category name followed by a
forward slash. Following are some examples which match the regular
expression:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">PR 123 PR4567 PR#890 gnats/4711
</pre></td></tr></table>

<p>The PR number and the category (if present) are checked for existence,
and if the outcome is positive, the mail is appended to the Audit-Trail
field of the PR. Note that the PR need not belong to the category because
PRs may move between categories.
</p>
<p>Outgoing emails sent by GNATS itself may be configured to have a Subject
header field that refers to the PR in question:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Subject: Re: PR <var>category</var>/<var>gnats-id</var>: <var>original message subject</var>
</pre></td></tr></table>

<p>This makes it extremely easy to follow up on a PR by replying to such an
email, see <a href="#dbconfig-file">The <code>dbconfig</code> file</a> and the sample,
default <code>dbconfig</code> file installed by <code>mkdb</code>.
</p>
<hr size="6">
<a name="query_002dpr"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#follow_002dup-via-email" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-query_002dpr" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Querying-the-database"></a>
<h2 class="section">2.4 Querying the database</h2>
<a name="index-using-query_002dpr"></a>
<a name="index-invoking-query_002dpr"></a>
<a name="index-query_002dpr"></a>
<a name="index-querying-individual-problem-reports"></a>

<p>Obtain information from the database by using the program
<code>query-pr</code>. <code>query-pr</code> uses search parameters you provide
to find matching Problem Reports in the database.  You can invoke
<code>query-pr</code> from the shell or from within Emacs.  <code>query-pr</code>
uses the same arguments whether it is invoked from the shell or from
Emacs.
</p>
<p>PRs may be selected via the use of the <code>--expr</code> option, directly by
number, or by the use of the (now deprecated) field-specific query
operators.
</p>
<p>By default, query options are connected with a logical AND.  For
example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --category=foo --responsible=bar
</pre></td></tr></table>

<p>only prints PRs which have a Category field of &lsquo;<samp>foo</samp>&rsquo; and a Responsible
field of &lsquo;<samp>bar</samp>&rsquo;.
</p>
<p>The <code>--or</code> option may be used to connect query options with a logical
OR. For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --category=baz --or --responsible=blee
</pre></td></tr></table>

<p>prints PRs which have either a Category field of &lsquo;<samp>baz</samp>&rsquo; or a Responsible
field of &lsquo;<samp>blee</samp>&rsquo;.
</p>
<p>It should be emphasized, however, that the use of these field-specific
options is strongly discouraged, since they exist only for compatibility
with older versions of <small>GNATS</small> and are likely to be deleted in the next
release.  The expressions specified by the <code>--expr</code> option are much more
flexible (see below).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Invoking-query_002dpr">2.4.1 Invoking <code>query-pr</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Formatting-query_002dpr-output">2.4.2 Formatting <code>query-pr</code> output</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Query-expressions">2.4.3 Query expressions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Example-queries">2.4.4 Example queries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Invoking-query_002dpr"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#query_002dpr" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Formatting-query_002dpr-output" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#query_002dpr" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Invoking-query_002dpr-1"></a>
<h3 class="subsection">2.4.1 Invoking <code>query-pr</code></h3>

<p>From the shell, simply type <kbd>query-pr</kbd>, followed by any search
parameters you wish to exercise.  From Emacs, type <kbd>M-x
query-pr</kbd>.  <code>query-pr</code> prompts you for search parameters in the
minibuffer.
</p>
<a name="index-query_002dpr-by-mail"></a>
<p><code>query-pr</code> can also be accessed by electronic mail, if your version
of <small>GNATS</small> is configured for this.  To use this feature, simply send
mail to the address &lsquo;<samp>query-pr@<var>your-site</var></samp>&rsquo; with command
line arguments or options in the <code>Subject</code> line of the mail header.
<small>GNATS</small> replies to your mail with the results of your query.  The
default settings for the <code>query-pr</code> mail server are
</p>
<a name="index-the-section-on-query_002dby_002dmail-needs-to-be-relocated"></a>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">--restricted --state=&quot;open|analyzed|feedback|suspended&quot;
</pre></td></tr></table>

<p>To override the <code>--state</code> parameter, specify
<code>--state=<var>state</var></code> in the <code>Subject</code> line of the mail
header.  You can not query on confidential Problem Reports by mail.
</p>
<p>The usage for <code>query-pr</code> is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr [--debug | -D] [--help | -h] [--version | -V]
         [--output <var>file</var> | -o <var>file</var>] [--list-databases]
         [--list-fields] [--list-input-fields]
         [--responsible-address <var>name</var>] [--field-type <var>field</var>]
         [--field-description <var>field</var>]
         [--field-flags <var>field</var>]
         [--adm-field <var>field</var>] [--adm-subfield <var>subfield</var>]
         [--adm-key <var>key</var>]
         [--valid-values <var>field</var>]
         [--format <var>format</var> | -f <var>format</var>]
         [--full | -F] [--summary | -q]
         [--database <var>database</var> | -d <var>database</var>] [--and | -&amp;]
         [--or | -|] [--expr <var>expr</var>] [PR Number]
</pre></td></tr></table>

<p>Non-network-mode options:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">         [--print-sh-vars] [--print-directory-for-database]
</pre></td></tr></table>

<p>Network-mode-only options:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">         [--host <var>host</var> | -H <var>host</var>] [--port <var>port</var>]
         [--user <var>user</var> | -v <var>user</var>] [--passwd <var>passwd</var> | -w <var>passwd</var>]
         [--print-server-addr]
</pre></td></tr></table>

<p>Deprecated Options:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">         [--list-categories | -j] [--list-states | -T]
         [--list-responsible | -k] [--list-submitters | -l]
         [--category <var>category</var> | -c <var>category</var>]
         [--synopsis <var>synopsis</var> | -y <var>synopsis</var>]
         [--confidential <var>confidential</var> | -C <var>confidential</var>]
         [--multitext <var>multitext</var> | -m <var>multitext</var>]
         [--originator <var>originator</var> | -O <var>originator</var>]
         [--release <var>release</var> | -A <var>release</var>]
         [--class <var>class</var> | -L <var>class</var>] [--cases <var>cases</var> | -E <var>cases</var>]
         [--quarter <var>quarter</var> | -Q <var>quarter</var>]
         [--keywords <var>keywords</var> | -K <var>keywords</var>]
         [--priority <var>priority</var> | -p <var>priority</var>]
         [--responsible <var>responsible</var> | -r <var>responsible</var>]
         [--restricted | -R] [--severity <var>severity</var> | -e <var>severity</var>]
         [--skip-closed | -x] [--sql | -i] [--sql2 | -I]
         [--state <var>state</var> | -s <var>state</var>]
         [--submitter <var>submitter</var> | -S <var>submitter</var>]
         [--text <var>text</var> | -t <var>text</var>]
         [--required-before <var>date</var> | -u <var>date</var>]
         [--required-after <var>date</var> | -U <var>date</var>]
         [--arrived-before <var>date</var> | -b <var>date</var>]
         [--arrived-after <var>date</var> | -a <var>date</var>]
         [--modified-before <var>date</var> | -B <var>date</var>]
         [--modified-after <var>date</var> | -M <var>date</var>]
         [--closed-before <var>date</var> | -z <var>date</var>]
         [--closed-after <var>date</var> | -Z <var>date</var>]
</pre></td></tr></table>

<p>The options have the following meaning:
</p><dl compact="compact">
<dt> <code>--help, -h</code></dt>
<dd><p>Prints a help message.
</p>
</dd>
<dt> <code>--version, -V</code></dt>
<dd><p>Displays the program version to stdout.
</p>
</dd>
<dt> <code>--output <var>file</var>, -o <var>file</var></code></dt>
<dd><p>The results of the query will be placed in this file.
</p>
</dd>
<dt> <code>--database <var>database</var>, -d <var>database</var></code></dt>
<dd><p>Specifies the database to be used for the query.  If no database is
specified, the database named default is assumed.  (This option
overrides the database specified in the <code>GNATSDB</code> environment
variable; see <a href="#Environment">Environment variables and <small>GNATS</small> tools</a> for more
information.)
</p>
</dd>
<dt> <code>--list-categories, -j</code></dt>
<dd><p>Lists the available PR categories for the selected database.
</p>
</dd>
<dt> <code>--list-states, -T</code></dt>
<dd><p>Lists the valid PR states for PRs in this database.
</p>
</dd>
<dt> <code>--list-responsible, -k</code></dt>
<dd><p>Lists the users that appear in the database&rsquo;s responsible list.
</p>
</dd>
<dt> <code>--list-submitters, -l</code></dt>
<dd><p>Lists the valid submitters for this database.
</p></dd>
</dl>

<p>The previous &ndash;list-* options are deprecated and may be removed in
future releases of <small>GNATS</small>; their functionality can be replaced with
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --valid-values <var>field</var>
</pre></td></tr></table>

<p>where <var>field</var> is one of <code>Category</code>, <code>Class</code>,
<code>Responsible</code>, <code>Submitter-Id</code>, or <code>State</code>.
</p>
<dl compact="compact">
<dt> <code>--list-databases</code></dt>
<dd><p>Lists the known databases.
</p>
</dd>
<dt> <code>--list-fields</code></dt>
<dd><p>Lists the entire set of field names for PRs in the selected database.
</p>
</dd>
<dt> <code>--list-input-fields</code></dt>
<dd><p>Lists the fields that should be provided when creating a new PR for the
currently-specified database.  The fields are listed in an order that
would make sense when used in a template or form.
</p>
</dd>
<dt> <code>--field-type <var>field</var></code></dt>
<dd><p>Returns the data type contained in PR field <var>field</var>.  The current
set of data types includes &lsquo;<samp>text</samp>&rsquo;, &lsquo;<samp>multitext</samp>&rsquo;, &lsquo;<samp>enum</samp>&rsquo;,
&lsquo;<samp>multienum</samp>&rsquo;, &lsquo;<samp>enumerated-in-file</samp>&rsquo;,
&lsquo;<samp>multi-enumerated-in-file</samp>&rsquo;, &lsquo;<samp>date</samp>&rsquo; and &lsquo;<samp>integer</samp>&rsquo;.
</p>
</dd>
<dt> <code>--field-description <var>field</var></code></dt>
<dd><p>Returns a human-readable description of the intended purpose of <var>field</var>.
</p>
</dd>
<dt> <code>--field-flags <var>field</var></code></dt>
<dd><p>Returns the flags set for the field in the &lsquo;<tt>dbconfig</tt>&rsquo; file
associated with the database, such as <code>textsearch</code> and
<code>readonly</code>.  See section <a href="#Individual-field-configuration">Individual field configuration</a>.
</p>
</dd>
<dt> <code>--adm-field <var>field</var></code></dt>
<dd><p>Used together with the <code>--adm-key</code> option, this returns a record
from the administrative file (if any) associated with the field.  For
more material on administrative files, see <a href="#administrative-files">Enumerated field administrative files</a>.
</p>
</dd>
<dt> <code>--adm-subfield <var>subfield</var></code></dt>
<dd><p>Used together with the <code>--adm-field</code> and <code>--adm-key</code> options,
this returns the contents of a particular subfield from the record
specified by <code>--adm-field</code> and <code>--adm-key</code>.  Subfields are
treated in <a href="#administrative-files">Enumerated field administrative files</a>.
</p>
</dd>
<dt> <code>--adm-key <var>key</var></code></dt>
<dd><p>Used together with <code>--adm-field</code> to select a record from the
administrative file associated with the field specified by
<code>--adm-field</code>.  See <a href="#administrative-files">Enumerated field administrative files</a>.
</p>
</dd>
<dt> <code>--valid-values <var>field</var></code></dt>
<dd><p>For fields of type &lsquo;<samp>enum</samp>&rsquo;, a list of valid values (one per line) is
returned.  Otherwise, a regular expression is returned that describes
the legal values in <var>field</var>.
</p>
</dd>
<dt> <code>--responsible-address <var>name</var></code></dt>
<dd><p>The mail address of <var>name</var> is returned; <var>name</var> is assumed to be
a name either appearing in the database&rsquo;s responsible list, or is
otherwise a user on the system.
</p>
</dd>
<dt> <code>--print-sh-vars</code></dt>
<dd><p>A set of &lsquo;<tt>/bin/sh</tt>&rsquo; variables is returned that describe the selected
database.  They include:
</p>
<dl compact="compact">
<dt> <code>GNATSDB</code></dt>
<dd><p>The name of the currently-selected database.
</p>
</dd>
<dt> <code>GNATSDB_VALID</code></dt>
<dd><p>Set to 1 if the selected database is valid.
</p>
</dd>
<dt> <code>GNATSDBDIR</code></dt>
<dd><p>The directory  where  the  database  contents  are
stored.
</p>
</dd>
<dt> <code>DEBUG_MODE</code></dt>
<dd><p>Set to 1 if debug mode has been  enabled  for  the
database.
</p>
</dd>
<dt> <code>DEFAULTCATEGORY</code></dt>
<dd><p>The default category for PRs in the database.
</p>
</dd>
<dt> <code>DEFAULTSTATE</code></dt>
<dd><p>The default state for PRs in the database.
</p></dd>
</dl>

</dd>
<dt> <code>--print-server-addr</code></dt>
<dd><p>Prints the information about a remote server database in the format
suitable for the <code>GNATSDB</code> environment variable.  This option
works only in the network mode.
</p>
</dd>
<dt> <code>--print-directory-for-database</code></dt>
<dd><p>Returns the directory where the selected database is located.
</p>
</dd>
<dt> <code>--format <var>format</var>, -f <var>format</var></code></dt>
<dd><p>Used to specify the format of the output PRs, See <a href="#Formatting-query_002dpr-output">Formatting <code>query-pr</code> output</a> for a complete description.
</p>
</dd>
<dt> <code>--full, -F</code></dt>
<dd><p>When printing PRs, the entre PR is displayed.  This is exactly
equivalent to
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --format full
</pre></td></tr></table>

</dd>
<dt> <code>--summary, -q</code></dt>
<dd><p>When printing PRs, a summary format is used.  This is exactly equivalent
to
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --format <var>summary</var>
</pre></td></tr></table>

</dd>
<dt> <code>--debug, -D</code></dt>
<dd><p>Enables debugging output for network queries.
</p>
</dd>
<dt> <code>--host <var>host</var>, -H <var>host</var></code></dt>
<dd><p>Specifies the hostname of the gnatsd server to communicate with.  This
overrides the value in the <code>GNATSDB</code> environment variable.
</p>
</dd>
<dt> <code>--port <var>port</var></code></dt>
<dd><p>Specifies the port number of the gnatsd server to communicate with.
This overrides the value in the <code>GNATSDB</code> environment variable.
</p>
</dd>
<dt> <code>--user <var>user</var>, -v <var>user</var></code></dt>
<dd><p>Specifies the username to login with when connecting to the gnatsd
server.  This overrides the value in the <code>GNATSDB</code> environment
variable.
</p>
</dd>
<dt> <code>--passwd <var>passwd</var>, -w <var>passwd</var></code></dt>
<dd><p>Specifies the password to login with when connecting to the gnatsd
server.  This overrides the value in the <code>GNATSDB</code> environment
variable.
</p>
</dd>
<dt> <code>--and, -&amp;, --or, -|</code></dt>
<dd><p>These options are used when connecting multiple query operators
together.  They specify whether the previous and subsequent options are
to be logically ANDed or logically ORed.
</p>
</dd>
<dt> <code>--expr <var>expr</var></code></dt>
<dd><p>Specifies a query expression to use when searching for PRs.  See section <a href="#Query-expressions">Query expressions</a>.
</p></dd>
</dl>

<p>The remaining deprecated options are not described here, since their use
is fairly obvious and their functionality is completely replaced by the
use of the <code>--expr</code> option.
</p>
<hr size="6">
<a name="Formatting-query_002dpr-output"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Invoking-query_002dpr" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Query-expressions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#query_002dpr" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Formatting-query_002dpr-output-1"></a>
<h3 class="subsection">2.4.2 Formatting <code>query-pr</code> output</h3>
<a name="index-query_002dpr-output-format"></a>

<p>Printing formats for PRs are in one of three forms:
</p>
<dl compact="compact">
<dt> <var>formatname</var></dt>
<dd><p>This is a named format which is described by the database (specifically,
these formats are described in the &lsquo;<tt>dbconfig</tt>&rsquo; file associated with the
database).  The default configuration contains five such formats:
&lsquo;<samp>standard</samp>&rsquo;, &lsquo;<samp>full</samp>&rsquo;, &lsquo;<samp>summary</samp>&rsquo;, &lsquo;<samp>sql</samp>&rsquo;, and
&lsquo;<samp>sql2</samp>&rsquo;.
</p>
<p>The first three are the ones most commonly used when performing queries.
standard is the format used by default if no other format is specified.
</p>
<p>Use of the latter two are discouraged; they are merely kept for
historical purposes.  Other named formats may have been added by the
database administrator.
</p>
</dd>
<dt> <var>fieldname</var></dt>
<dd><p>A single field name may appear here.  Only the contents of this field
will be displayed.
</p>
</dd>
<dt> <var>&rsquo;&quot;printf string&quot; fieldname fieldname ...&rsquo;</var></dt>
<dd><p>This provides a very flexible mechanism for formatting PR output.  (The
formatting is identical to that provided by the named formats described
by the database configuration, See section <a href="#Named-query-definitions">Named query definitions</a>.  The
<var>printf string</var> can contain the following % sequences:
</p>
<p><code>%[positionalspecifiers]s</code>: Prints the field as a string.  The
positional specifiers are similar to those of printf, as +, - and digit
qualifiers can be used to force a particular alignment of the field
contents.
</p>
<p><code>%[positionalspecifiers]S</code>: Similar to <code>%s</code>, except that the
field contents are terminated at the first space character.
</p>
<p><code>%[positionalspecifiers]d</code>: Similar to <code>%s</code>, except that the
field contents are written as a numeric value.  For integer fields, the
value is written as a number.  For enumerated fields, the field is
converted into a numeric equivalent (i.e. if the field can have two
possible values, the result will be either 1 or 2).  For date fields,
the value is written as seconds since Jan 1, 1970.
</p>
<p><code>%F</code>: The field is written as it would appear within a PR, complete
with field header.
</p>
<p><code>%D</code>: For date fields, the date is written in a standard <small>GNATS</small>
format.
</p>
<p><code>%Q</code>: For date fields, the date is written in an arbitrary &quot;SQL&quot;
format.
</p></dd>
</dl>

<p>An example formatted query looks as follows (note that the whole format
specification should be quoted):
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --format '&quot;%s, %s&quot; Synopsis State'
</pre></td></tr></table>

<hr size="6">
<a name="Query-expressions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Formatting-query_002dpr-output" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Example-queries" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#query_002dpr" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Query-expressions-1"></a>
<h3 class="subsection">2.4.3 Query expressions</h3>
<a name="index-query-expressions"></a>

<p>Query expressions are used to select specific PRs based on their field
contents.  The general form is
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">fieldname|&quot;value&quot; operator fieldname|&quot;value&quot; [booleanop ...]
</pre></td></tr></table>

<p><var>value</var> is a literal string or regular expression; it must be
surrounded by double quotes, otherwise it is interpreted as a fieldname.
</p>
<p><var>fieldname</var> is the name of a field in the PR.
</p>
<p><var>operator</var> is one of:
</p>
<dl compact="compact">
<dt> <code>=</code></dt>
<dd><p>The value of the left-hand side of the expression must exactly match the
regular expression on the right-hand side of the expression.
See section <a href="#Regexps">Querying using regular expressions</a>.
</p>
</dd>
<dt> <code>~</code></dt>
<dd><p>Some portion of the left-hand side of the expression must match the
regular expression on the right-hand side.
</p>
</dd>
<dt> <code>==</code></dt>
<dd><p>The value of the left-hand side must be equal to the value on the
right-hand side of the expression.
</p>
<p>The equality of two values depends on what type of data is stored in the
field(s) being queried.  For example, when querying a field containing
integer values, literal strings are interpreted as integers.  The query
expression
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Number == &quot;0123&quot;
</pre></td></tr></table>

<p>is identical to
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Number == &quot;123&quot;
</pre></td></tr></table>

<p>as the leading zero is ignored.  If the values were treated as strings
instead of integers, then the two comparisons would return different
results.
</p>
</dd>
<dt> <code>!=</code></dt>
<dd><p>The not-equal operator. Produces the opposite result of the == operator.
</p>
</dd>
<dt> <code>&lt;,&gt;</code></dt>
<dd><p>The left-hand side must have a value less than or greater than the
right-hand side.  Comparisons are done depending on the type of data
being queried; in particular, integer fields and dates use a numeric
comparison, and enumerated fields are ordered depending on the numeric
equivalent of their enumerated values.
</p></dd>
</dl>

<p><var>booleanop</var> is either &lsquo;<samp>|</samp>&rsquo; (logical or), or &lsquo;<samp>&amp;</samp>&rsquo; (logical
and).  The query expression
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Category=&quot;baz&quot; | Responsible=&quot;blee&quot;
</pre></td></tr></table>

<p>selects all PRs with a Category field of &lsquo;<samp>baz</samp>&rsquo; or a Responsible
field of &lsquo;<samp>blee</samp>&rsquo;.
</p>
<p>The not operator &lsquo;<samp>!</samp>&rsquo; may be used to negate a test:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">! Category=&quot;foo&quot;
</pre></td></tr></table>

<p>searches for PRs where the category is not equal to the regular
expression foo.
</p>
<p>Parentheses may be used to force a particular interpretation of the
expression:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">!(Category=&quot;foo&quot; &amp; Submitter-Id=&quot;blaz&quot;)
</pre></td></tr></table>

<p>skips PRs where the Category field is equal to &lsquo;<samp>foo</samp>&rsquo; and the
Submitter-Id field is equal to &lsquo;<samp>blaz</samp>&rsquo;.  Parentheses may be nested
to any arbitrary depth.
</p>
<p>Fieldnames can be specified in several ways.  The simplest and most
obvious is just a name:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Category=&quot;foo&quot;
</pre></td></tr></table>

<p>which checks the value of the category field for the value <var>foo</var>.
</p>
<p>A fieldname qualifier may be prepended to the name of the field; a colon
is used to separate the qualifier from the name.  To refer directly to a
builtin field name:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">builtin:Number=&quot;123&quot;
</pre></td></tr></table>

<p>In this case, &lsquo;<samp>Number</samp>&rsquo; is interpreted as the builtin name of the
field to
check.  (This is useful if the fields have been renamed.  For further
discussion of builtin field names, see <a href="#dbconfig-file">The <code>dbconfig</code> file</a>.
</p>
<p>To scan all fields of a particular type, the <var>fieldtype</var> qualifier
may be
used:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">fieldtype:Text=&quot;bar&quot;
</pre></td></tr></table>

<p>This searches all text fields for the regular expression &lsquo;<samp>bar</samp>&rsquo;.
</p>
<p>Note that it is not required that the right-hand side of the expression
be a literal string.  To query all PRs where the PR has been modified
since it was closed, the expression
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Last-Modified != Closed-Date
</pre></td></tr></table>

<p>will work; for each PR, it compares the value of its Last-Modified field
against its Closed-Date field, and returns those PRs where the values
differ.  However, this query will also return all PRs with empty
Last-Modified or Closed-Date fields.  To further narrow the search:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Last-Modified != Closed-Date &amp; Last-Modified != &quot;&quot; &amp; Closed-Date != &quot;&quot;
</pre></td></tr></table>

<p>In general, comparing fields of two different types (an integer field
against a date field, for example) will probably not do what you want.
</p>
<p>Also, a field specifier may be followed by the name of a subfield in
braces:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">State[type] != &quot;closed&quot;
</pre></td></tr></table>

<p>or even
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">builtin:State[type] != &quot;closed&quot;
</pre></td></tr></table>

<p>Subfields are further discussed in <a href="#dbconfig-file">The <code>dbconfig</code> file</a>.
</p>

<hr size="6">
<a name="Example-queries"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Query-expressions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#query_002dpr" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Example-queries-1"></a>
<h3 class="subsection">2.4.4 Example queries</h3>
<a name="index-example-queries"></a>

<p>The following simple query:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --expr 'Category~&quot;rats&quot; &amp; State~&quot;analyzed&quot;
                 &amp; Responsible~&quot;fred&quot;'
</pre></td></tr></table>

<p>yields all PRs in the database which contain the field values:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt;Category:     rats         <em>and</em>
&gt;Responsible:  fred         <em>and</em>
&gt;State:        analyzed
</pre></td></tr></table>

<p>The following query:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --expr 'State~&quot;open|analyzed&quot;'
</pre></td></tr></table>

<p>yields all PRs in the database whose <code>State</code> values match either
&lsquo;<samp>open</samp>&rsquo; or &lsquo;<samp>analyzed</samp>&rsquo; (see section <a href="#Regexps">Querying using regular expressions</a>.  This search is useful as a daily report that lists all
Problem Reports which require attention.
</p>
<p>The following query:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --expr 'fieldtype:Text=&quot;The quick.*brown fox&quot;'
</pre></td></tr></table>

<p>yields all PRs whose <small>TEXT</small> fields contain the text &lsquo;<samp>The quick</samp>&rsquo;
followed by &lsquo;<samp>brown fox</samp>&rsquo; within the same field.
See section <a href="#Regexps">Querying using regular expressions</a>, which also contains
further useful examples of query expressions.
</p>


<hr size="6">
<a name="Emacs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Example-queries" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs-viewing" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-Emacs-interface-to-GNATS"></a>
<h2 class="section">2.5 The Emacs interface to <small>GNATS</small></h2>
<a name="index-Emacs"></a>

<p>Emacs interface to <small>GNATS</small> provides basic access to <small>GNATS</small>
databases, i.e. sending, editing, and querying Problem Reports.  It
also defines a simple major mode for editing &lsquo;<tt>dbconfig</tt>&rsquo; files.
</p>
<p>This section provides an overview of using <small>GNATS</small> with Emacs.  It
does not describe the use of Emacs itself, for detailed instructions
on using Emacs, see <a href="emacs.html#Top">(emacs)Top</a> section &lsquo;Top&rsquo; in <cite>GNU Emacs</cite>.  For
installation instructions of the <small>GNATS</small> Emacs mode, see
<a href="#Installing-utils">Installing the utilities</a>.
</p>
<p>Please note the Emacs interface was completely rewritten between
<small>GNATS</small> 3 and <small>GNATS</small> 4.  It now uses <code>gnatsd</code>,
<a href="#gnatsd">The <small>GNATS</small> network server &ndash; <code>gnatsd</code></a>, exclusively for its operations and uses modern Emacs
features like faces.  Its features are not complete though, you can
send your suggestions and patches to the appropriate <small>GNATS</small>
mailing list, <a href="#Support"><small>GNATS</small> support</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Emacs-viewing">2.5.1 Viewing Problem Reports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Viewing PRs by their number.
</td></tr>
<tr><td align="left" valign="top"><a href="#Emacs-querying">2.5.2 Querying Problem Reports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Querying the database.
</td></tr>
<tr><td align="left" valign="top"><a href="#Emacs-submitting">2.5.3 Submitting new Problem Reports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Submitting new PRs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Emacs-editing">2.5.4 Editing Problem Reports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Editing PRs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Emacs-editing-buffer">2.5.5 The Problem Report editing buffer</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        The editing buffer.
</td></tr>
<tr><td align="left" valign="top"><a href="#Emacs-and-databases">2.5.6 Changing the database</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Changing the working database.
</td></tr>
<tr><td align="left" valign="top"><a href="#dbconfig-mode">2.5.7 dbconfig mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Major mode for dbconfig files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Other-Emacs-commands">2.5.8 Other commands</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Miscellaneous commands.
</td></tr>
<tr><td align="left" valign="top"><a href="#Emacs-customization">2.5.9 Customization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Customizing the Emacs interface.
</td></tr>
</table>

<hr size="6">
<a name="Emacs-viewing"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Emacs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs-querying" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Viewing-Problem-Reports"></a>
<h3 class="subsection">2.5.1 Viewing Problem Reports</h3>

<a name="index-view_002dpr"></a>
<p>To view a particular Problem Report, use the command <kbd>M-x
view-pr</kbd>.  It asks for a Problem Report number and displays that
Problem Report.
</p>
<a name="index-gnats_002dview_002dedit_002dpr"></a>
<p>The displayed buffer is put in the view mode, <a href="emacs.html#Misc-File-Ops">(emacs)Misc File Ops</a> section &lsquo;Misc File Ops&rsquo; in <cite>GNU Emacs</cite>.  If you decide to edit the displayed Problem
Report, use the command <kbd>e</kbd> (<code>gnats-view-edit-pr</code>).
</p>
<dl compact="compact">
<dd><a name="index-gnats_002dview_002dmode_002dhook"></a>
</dd>
<dt> <code>gnats-view-mode-hook</code></dt>
<dd><p>Hook run when <code>gnats-view-mode</code> is entered.
</p></dd>
</dl>


<hr size="6">
<a name="Emacs-querying"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Emacs-viewing" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs-submitting" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Querying-Problem-Reports"></a>
<h3 class="subsection">2.5.2 Querying Problem Reports</h3>

<a name="index-query_002dpr-1"></a>
<p>Querying the database is performed by the <kbd>M-x query-pr</kbd> command.
The command prompts for the query expression, <a href="#Query-expressions">Query expressions</a>,
and displays a buffer with the list of the matching Problem Reports.
</p>
<p>The list of the Problem Reports is displayed in the &lsquo;<samp>summary</samp>&rsquo;
query format, <a href="#Formatting-query_002dpr-output">Formatting <code>query-pr</code> output</a>.  Currently, the
display format cannot be changed and it must output each Problem
Report&rsquo;s number in the first column.
</p>
<p>The Problem Report list buffer is put in the view mode, <a href="emacs.html#Misc-File-Ops">(emacs)Misc File Ops</a> section &lsquo;Misc File Ops&rsquo; in <cite>GNU Emacs</cite>.  You can use most of the standard view mode
commands in it.  Additionally, the following special commands are
available:
</p>
<dl compact="compact">
<dd><a name="index-gnats_002dquery_002dview_002dpr"></a>
</dd>
<dt> <kbd>v</kbd></dt>
<dt> <kbd>RET</kbd></dt>
<dt> <kbd>mouse-2</kbd></dt>
<dd><p>View the current Problem Report (<code>gnats-query-view-pr</code>),
<a href="#Emacs-viewing">Viewing Problem Reports</a>.
</p>
<a name="index-gnats_002dquery_002dedit_002dpr"></a>
</dd>
<dt> <kbd>e</kbd></dt>
<dd><p>Edit the current Problem Report (<code>gnats-query-edit-pr</code>),
<a href="#Emacs-editing">Editing Problem Reports</a>.
</p>
<a name="index-gnats_002dquery_002dreread"></a>
</dd>
<dt> <kbd>g</kbd></dt>
<dd><p>Update the Problem Report list (<code>gnats-query-reread</code>).  The last
performed query is executed again and the buffer is filled with the
new results.
</p>
<a name="index-query_002dpr-2"></a>
</dd>
<dt> <kbd>G</kbd></dt>
<dd><p>Perform new query (<code>query-pr</code>).
</p>
<a name="index-send_002dpr-1"></a>
</dd>
<dt> <kbd>s</kbd></dt>
<dd><p>Send new Problem Report (<code>send-pr</code>), <a href="#Emacs-submitting">Submitting new Problem Reports</a>.
</p>
<a name="index-gnats_002dchange_002ddatabase"></a>
</dd>
<dt> <kbd>D</kbd></dt>
<dd><p>Change the current database (<code>gnats-change-database</code>), <a href="#Emacs-and-databases">Changing the database</a>.
</p>
<a name="index-bury_002dbuffer"></a>
</dd>
<dt> <kbd>q</kbd></dt>
<dd><p>Bury buffer, the buffer is put at the end of the list of all buffers.
This is useful for quick escape of the buffer, without killing it.
</p></dd>
</dl>

<a name="index-gnats_002dquery_002dreverse_002dlisting"></a>
<p>If the value of the variable <var>gnats-query-reverse-listing</var> is
non-<code>nil</code>, the listing appears in the reversed order, i.e. with
the Problem Reports of the highest number first, in the buffer.
</p>
<p>Similarly to other <small>GNATS</small> Emacs modes, there is a hook available
for the Problem Report list.
</p>
<dl compact="compact">
<dd><a name="index-gnats_002dquery_002dmode_002dhook"></a>
</dd>
<dt> <code>gnats-query-mode-hook</code></dt>
<dd><p>Hook run when <code>gnats-query-mode</code> is entered.
</p></dd>
</dl>


<hr size="6">
<a name="Emacs-submitting"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Emacs-querying" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs-editing" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Submitting-new-Problem-Reports"></a>
<h3 class="subsection">2.5.3 Submitting new Problem Reports</h3>

<a name="index-send_002dpr-2"></a>
<p>You can submit new Problem Reports with the command <kbd>M-x send-pr</kbd>.
The command puts you to the problem editing buffer, <a href="#Emacs-editing">Editing Problem Reports</a>.  The buffer is prefilled with the initial report fields and
their default values, if defined.  You can use the usual Problem
Report editing commands, <a href="#Emacs-editing">Editing Problem Reports</a>.  When you have filled in
all the fields, you can send the Problem Report by presing <kbd>C-c
C-c</kbd>.
</p>
<p>If you run <kbd>M-x send-pr</kbd> with a prefix argument, it runs the
<code>gnats-change-database</code> command before putting you to the editing
buffer, <a href="#Emacs-and-databases">Changing the database</a>.
</p>
<p>You can set the following variables to get some fields pre-filled:
</p>
<dl compact="compact">
<dd><a name="index-gnats_002ddefault_002dorganization"></a>
</dd>
<dt> <var>gnats-default-organization</var></dt>
<dd><p>Default value of the &lsquo;<samp>Organization</samp>&rsquo; field used in new Problem Reports.
</p>
<a name="index-gnats_002ddefault_002dsubmitter"></a>
</dd>
<dt> <var>gnats-default-submitter</var></dt>
<dd><p>Default value of the &lsquo;<samp>Submitter-Id</samp>&rsquo; field used in new Problem Reports.
</p></dd>
</dl>


<hr size="6">
<a name="Emacs-editing"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Emacs-submitting" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs-editing-buffer" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Editing-Problem-Reports"></a>
<h3 class="subsection">2.5.4 Editing Problem Reports</h3>

<a name="index-edit_002dpr-1"></a>
<p>To edit a particular Problem Report, use the command <kbd>M-x
edit-pr</kbd>.  It asks for a Problem Report number and puts the given
Problem Report in the editing buffer.  See section <a href="#Emacs-editing-buffer">The Problem Report editing buffer</a>,
for information how to edit the Problem Report in the buffer and how
to submit your changes.
</p>
<p>Note you can also start editing of a selected Problem Report directly
from within the viewing buffer, <a href="#Emacs-viewing">Viewing Problem Reports</a>, or the query
result buffer, <a href="#Emacs-querying">Querying Problem Reports</a>.
</p>

<hr size="6">
<a name="Emacs-editing-buffer"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Emacs-editing" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs-and-databases" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-Problem-Report-editing-buffer"></a>
<h3 class="subsection">2.5.5 The Problem Report editing buffer</h3>

<p>When you invoke a Problem Report editing command, the Problem Report
is put into a special editing buffer.  The Problem Report is formatted
similarly to the <code>query-pr -F</code> output, <a href="#Formatting-query_002dpr-output">Formatting <code>query-pr</code> output</a>.  Field identifiers are formatted as
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&gt;Field:
</pre></td></tr></table>

<p>with the text of the field following the identifier on the same line
for single-line fields or starting on the next line for multi-line
fields.
</p>
<p>The Problem Report editing mode tries to prevent you from violating
the Problem Report format and the constraints put on the possible
field values.  Generally, you can use usual editing commands, some of
them have a slightly modified behavior though.  (If you encounter a
very strange behavior somewhere, please report it as a bug,
<a href="#Support"><small>GNATS</small> support</a>.)
</p>
<a name="index-gnats_002dnext_002dfield"></a>
<a name="index-gnats_002dprevious_002dfield"></a>
<p>You can move between fields easily by pressing the <kbd>TAB</kbd>
(<code>gnats-next-field</code>) or <kbd>M-TAB</kbd>
(<code>gnats-previous-field</code>) keys.
</p>
<p>The field tags are read-only and you cannot edit them nor delete them.
If you want to &ldquo;remove&rdquo; a field, just make its value empty.
</p>
<p>Editing a field value depends on the type of the edited field,
<a href="#Field-datatypes">Field datatypes</a>.  For text fields, you can edit the value
directly, assuming you preserve the rule about single-line and
multi-line values mentioned above.
</p>
<p>For enumerated fields, you cannot edit the value directly.  You can
choose it from the list of the allowed values, either from the menu
popped up by pressing the middle mouse button or from within
minibuffer by pressing any key on the field&rsquo;s value.  If the pressed
key matches any of the allowed field values, that value is put as the
default value after the minibuffer prompt.  You can also cycle through
the allowed field values directly in the editing buffer using the
<code>SPACE</code> key.  Enumerated field values are marked by a special
face to not confuse you; you must have enabled font lock mode to
benefit from this feature, <a href="emacs.html#Font-Lock">(emacs)Font Lock</a> section &lsquo;Font Lock&rsquo; in <cite>GNU Emacs</cite>.
</p>
<p>Some field values can be read-only, you cannot edit them at all.
</p>
<a name="index-gnats_002dapply_002dor_002dsubmit"></a>
<p>Once you have edited the Problem Report as needed, you can send it to
the server with the <kbd>C-c C-c</kbd> command
(<code>gnats-apply-or-submit</code>).  Successful submission is reported by
a message and the buffer modification flag in mode line is cleared.
Then you can either kill the buffer or continue with further
modifications.
</p>
<dl compact="compact">
<dd><a name="index-gnats_002dedit_002dmode_002dhook"></a>
</dd>
<dt> <code>gnats-edit-mode-hook</code></dt>
<dd><p>Hook run when <code>gnats-edit-mode</code> is entered.
</p></dd>
</dl>


<hr size="6">
<a name="Emacs-and-databases"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Emacs-editing-buffer" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#dbconfig-mode" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Changing-the-database"></a>
<h3 class="subsection">2.5.6 Changing the database</h3>

<a name="index-gnats_002dchange_002ddatabase-1"></a>
<p>By default, the Emacs interface connects to the default database,
<a href="#databases-file">The <code>databases</code> file</a>.  If you want to connect to another database, use
the command <kbd>M-x gnats-change-database</kbd>.  It will ask you for the
database name to use, server and port it can be accessed on, and your
login name.
</p>
<a name="index-gnatsd_002c-Emacs"></a>
<p>If you want to use the <code>gnatsd</code> command, <a href="#gnatsd">The <small>GNATS</small> network server &ndash; <code>gnatsd</code></a>,
directly, without connecting to a remote server or the localhost
connection port, provide your local file system full path to
<code>gnatsd</code> as the server name.  Port number does not matter in
this case.
</p>
<a name="index-password_002c-Emacs"></a>
<p>If the database requires a password to allow you the access to it, you
are prompted for the password the first time you connect to the
database.  If you provide an invalid password, you cannot connect to
the database anymore and you have to run the <kbd>M-x
gnats-change-database</kbd> command again.
</p>

<hr size="6">
<a name="dbconfig-mode"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Emacs-and-databases" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Other-Emacs-commands" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="dbconfig-mode-1"></a>
<h3 class="subsection">2.5.7 dbconfig mode</h3>

<a name="index-dbconfig-mode"></a>
<a name="index-gnats_002ddbconfig_002dmode"></a>
<p>The Emacs interface defines a simple major mode
<code>gnats-dbconfig-mode</code> for editing &lsquo;<tt>dbconfig</tt>&rsquo; files,
<a href="#dbconfig-file">The <code>dbconfig</code> file</a>.  It defines basic mode attributes like character
syntax and font lock keywords, it does not define any special commands
now.
</p>
<dl compact="compact">
<dd><a name="index-gnats_002ddbconfig_002dmode_002dhook"></a>
</dd>
<dt> <code>gnats-dbconfig-mode-hook</code></dt>
<dd><p>Hook run when <code>gnats-dbconfig-mode</code> is entered.
</p></dd>
</dl>


<hr size="6">
<a name="Other-Emacs-commands"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#dbconfig-mode" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs-customization" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Other-commands"></a>
<h3 class="subsection">2.5.8 Other commands</h3>

<dl compact="compact">
<dd><a name="index-unlock_002dpr"></a>
</dd>
<dt> <kbd>M-x unlock-pr</kbd></dt>
<dd><p>Ask for a Problem Report number and unlock that Problem Report.  This
function is useful if connection to a <small>GNATS</small> server was
interrupted during an editing operation and further modifications of
the Problem Report are blocked by a stealth lock.
</p>
<a name="index-unlock_002ddatabase"></a>
</dd>
<dt> <kbd>M-x unlock-database</kbd></dt>
<dd><p>Unlock the whole <small>GNATS</small> database.  This function is useful in
situations similar to when <code>unlock-pr</code> is used.
</p>
<a name="index-gnats_002dshow_002dconnection"></a>
</dd>
<dt> <kbd>M-x gnats-show-connection</kbd></dt>
<dd><p>Show the connection buffer associated with the current buffer.  You
can view the Emacs communication with <small>GNATSD</small> in it.  This is
useful when something strange happens during the communication with
the server, e.g. when sending a Problem Report with <kbd>C-c C-c</kbd> from
a Problem Report editing buffer.
</p></dd>
</dl>


<hr size="6">
<a name="Emacs-customization"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Other-Emacs-commands" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Emacs" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Customization"></a>
<h3 class="subsection">2.5.9 Customization</h3>

<p>All the user variables can be customized in the customization group
<code>gnats</code>, <a href="emacs.html#Easy-customization">(emacs)Easy customization</a> section &lsquo;Easy customization&rsquo; in <cite>GNU Emacs</cite>.
</p>

<hr size="6">
<a name="Installation"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Emacs-customization" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Configure-and-make" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#GNATS-user-tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Installing-GNATS"></a>
<h1 class="chapter">3. Installing <small>GNATS</small></h1>

<a name="index-installing-GNATS"></a>
<a name="index-configuring--GNATS"></a>
<a name="index-setting-up-GNATS"></a>
<a name="index-building-GNATS"></a>

<p>See also <a href="#Locations">Where the tools and utilities reside</a>.
</p>
<p>There are several steps you need to follow to fully configure and
install <small>GNATS</small> on your system.  You need <code>root</code> access in order
to create a new account for <code>gnats</code> and to install the <small>GNATS</small>
utilities.  You may need <code>root</code> access on some systems in order to
set up mail aliases and to allow this new account access to
<code>cron</code> and <code>at</code>.
</p>
<p>If you are updating an older version of <small>GNATS</small> rather than installing
from scratch, see <a href="#Upgrading">Upgrading from older versions</a>.
</p>
<p><small>GNATS</small> installation relies on two other freely available software
packages, which should be installed before you go on to configure and
build <small>GNATS</small>.  These are <small>GNU</small> <code>make</code> and <code>Texinfo</code>
(version 4.2 or higher).  Both are available from the <small>GNU</small> FTP site at
<a href="ftp://ftp.gnu.org">ftp://ftp.gnu.org</a>.
</p>
<p>To build and install <small>GNATS</small>, you must:
</p>
<ul>
<li>
Run <code>configure</code>, with correct options if the defaults are
unsuitable for your site.  See section <a href="#Configure-and-make">Configuring and compiling the software</a>.  Default installation locations are in
<a href="#Locations">Where <small>GNATS</small> lives</a>.

</li><li>
Compile the <small>GNATS</small> programs on your system.  See section <a href="#Configure-and-make">Configuring and compiling the software</a>.

</li><li>
Create an initial database by using the <code>mkdb</code> command.
See section <a href="#Setting-up-the-default-database">Installing the default database</a>.

</li><li>
Set up periodic jobs, using cron, to handle Problem Reports arriving by
mail.  See section <a href="#Setting-up-periodic-jobs">Setting up periodic jobs</a>.

</li><li>
Set up mail aliases for <small>GNATS</small>.  See section <a href="#Aliases">Setting up mail aliases</a>.

</li><li>
Install the <small>GNATS</small> tools and utilities locally, and install the user
tools (<code>query-pr</code>, <code>edit-pr</code>, <code>send-pr</code>) on every machine
in your local network.  See section <a href="#Installing-tools">Installing the user tools</a>.

</li><li>
Install the <small>GNATS</small> daemon &lsquo;<tt>gnatsd</tt>&rsquo;.  See section <a href="#Installing-the-daemon">Installing the daemon</a>.

</li><li>
If there are people outside your organization who will be submitting
PRs or who are supposed to be able to query and/or edit PRs, you may
need to instruct them to obtain and build the <small>GNATS</small> tools
<code>query-pr</code>, <code>edit-pr</code> and <code>send-pr</code> for their systems.
However, for many sites, setting up a remote access interface to
<small>GNATS</small>, such as Gnatsweb is a better solution since this requires
no configuration on the remote side.
</li></ul>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Installing-utils">3.2 Installing the utilities</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Setting-up-the-default-database">3.3 Installing the default database</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  Setting up the default database
</td></tr>
<tr><td align="left" valign="top"><a href="#Setting-up-periodic-jobs">3.4 Setting up periodic jobs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Aliases">3.5 Setting up mail aliases</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Installing-the-daemon">3.6 Installing the daemon</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Installing-tools">3.7 Installing the user tools</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Upgrading">3.8 Upgrading from older versions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Configure-and-make"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Installation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installing-utils" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Configuring-and-compiling-the-software"></a>
<h2 class="section">3.1 Configuring and compiling the software</h2>
<a name="index-unpacking-the-distribution"></a>
<a name="index-configuring-and-compiling-the-software"></a>
<a name="index-compiling-the-software"></a>
<a name="index-configure"></a>
<a name="index-make"></a>

<ol>
<li>
First, unpack your distribution.  We provide source code in a <code>tar</code>
file which was compressed using <code>gzip</code>.  The code can be extracted
into a directory <var>unpackdir</var> using

<table><tr><td>&nbsp;</td><td><pre class="smallexample">cd <var>unpackdir</var>
gunzip gnats-4.2.0.tar.gz
tar xvf gnats-4.2.0.tar
</pre></td></tr></table>

<p>The sources reside in a directory called &lsquo;<tt>gnats-4.2.0</tt>&rsquo;
when unpacked.  We call this the <em>top level</em> of the source
directory, or <em>srcdir</em>.  The sources for the <small>GNATS</small> tools are in
the subdirectory &lsquo;<tt>gnats-4.2.0/gnats/*</tt>&rsquo;.  Lists of files
included in the distribution are in each directory in the file
&lsquo;<tt>MANIFEST</tt>&rsquo;.
</p>
<a name="index-lisp-file-installation"></a>
<a name="index-Emacs-lisp-file-installation"></a>
</li><li>
As of <small>GNATS</small> version 4, having Emacs installed on the <small>GNATS</small>
server is no longer a requirement.  If you do not have Emacs installed,
disregard this step altogether.

<p>You may wish to alter the installation directory for the Emacs lisp
files.  If your Emacs lisp library is not in
&lsquo;<tt><var>prefix</var>/share/emacs/site-lisp</tt>&rsquo;, edit the file
<code><var>srcdir</var>/gnats/Makefile.in</code>.  Change the variable
<code>lispdir</code> from &lsquo;<tt><var>prefix</var>/emacs/site-lisp</tt>&rsquo; to the
directory containing your Emacs lisp library.  For information on
<var>prefix</var>, see <a href="#prefix"><var>prefix</var></a>.
</p>
</li><li>
<a name="index-creating-an-account-for-the-GNATS-user"></a>
Create an account for the <code>gnats</code> user.  You can actually name this
user whatever you want to, as long as it is a valid username on your
system, but we strongly recommend that you call the user <code>gnats</code>.
If you do decide to give it some other name, remember to use the option
<code>--enable-gnats-user</code> when running <code>configure</code> below.  Below, we
will anyway refer to this user by the name <code>gnats</code>.

<p>This user must have an entry in the file &lsquo;<tt>/etc/passwd</tt>&rsquo;.  As for
ordinary users, create a standard home directory for the <code>gnats</code>
user.  The default <code>PATH</code> for this user should contain
&lsquo;<tt><var>exec-prefix</var>/bin</tt>&rsquo; and
&lsquo;<tt><var>exec-prefix</var>/libexec/gnats</tt>&rsquo;.  The <var>exec-prefix</var> value
is configurable with the <code>--exec-prefix</code> configure option described
below, but for standard installations, these two directories correspond
to &lsquo;<tt>/usr/local/bin</tt>&rsquo; and &lsquo;<tt>/usr/local/libexec/gnats</tt>&rsquo;.
</p>
</li><li>
Run <code>configure</code>.  You can nearly always run <code>configure</code> with
the simple command

<table><tr><td>&nbsp;</td><td><pre class="example">./configure
</pre></td></tr></table>

<p>and the &ldquo;Right Thing&rdquo; happens:
</p>
<ul>
<li>
<small>GNATS</small> is configured in the same directory you unpacked it in;

</li><li>
when built, <small>GNATS</small> runs on the machine you&rsquo;re building it on;

</li><li>
when installed, files are installed under &lsquo;<tt>/usr/local</tt>&rsquo;
(see section <a href="#Locations">Where <small>GNATS</small> lives</a>).

</li><li>
all <small>GNATS</small> utilities operate on the <em>default database</em>, assumed
to be named <em>default</em> and to be located in
&lsquo;<tt>/usr/local/com/default</tt>&rsquo;, unless you invoke the utilities with
<code>-d</code> <var>databasename</var> or <code>--directory=</code><var>databasename</var>, or
set the <var>GNATSDB</var> environment variable to point to some other database.
</li></ul>

<a name="index-configure-1"></a>
<p>The most common options to <code>configure</code> are listed below:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">configure [ --prefix=<var>prefix</var> ]
          [ --exec-prefix=<var>exec-prefix</var> ]
          [ --enable-gnats-service=<var>service-name</var> ]
          [ --enable-gnats-user=<var>username</var> ]
          [ --enable-gnatsd-user-access-file=<var>path</var> ]
          [ --enable-gnatsd-host-access-file=<var>path</var> ]
          [ --enable-gnats-dblist-file=<var>path</var> ]
          [ --enable-gnats-default-db=<var>path</var> ]
          [ --with-kerberos ] [ --with-krb4 ]
          [ --verbose ]
</pre></td></tr></table>

<dl compact="compact">
<dd><a name="index-prefix"></a>
</dd>
<dt> <code>--prefix=<var>prefix</var></code></dt>
<dd><p>All host-independent programs and files are to be installed under
<var>prefix</var>.  (Host-dependent programs and files are also installed in
<var>prefix</var> by default.)  The default for <var>prefix</var> is
&lsquo;<tt>/usr/local</tt>&rsquo;.  See section <a href="#Locations">Where <small>GNATS</small> lives</a>.
</p>
<a name="index-exec_002dprefix"></a>
</dd>
<dt> <code>--exec-prefix=<var>exec-prefix</var></code></dt>
<dd><p>All host-dependent programs and files are to be installed under
<var>exec-prefix</var>.  The default for <var>exec-prefix</var> is <var>prefix</var>.
See section <a href="#Locations">Where <small>GNATS</small> lives</a>.
</p>
<a name="index-_002d_002denable_002dgnats_002dservice"></a>
</dd>
<dt> <code>--enable-gnats-service=<var>service-name</var></code></dt>
<dd><p>Set <var>service-name</var> to be the <small>GNATS</small> network service.  Default
name is <var>support</var>.
</p>
<a name="index-_002d_002denable_002dgnats_002duser"></a>
</dd>
<dt> <code>--enable-gnats-user=<var>username</var></code></dt>
<dd><p>Set <var>username</var> to be the user name for <small>GNATS</small>.  Default username
is <var>gnats</var>.
</p>
<a name="index-_002d_002denable_002dgnatsd_002duser_002daccess_002dfile"></a>
</dd>
<dt> <code>--enable-gnatsd-user-access-file=<var>path</var></code></dt>
<dd><p>Set global (across all databases) gnatsd user access file to
<var>path</var>. Default is
&lsquo;<tt><var>/usr/local/etc/gnats/gnatsd.user_access</var></tt>&rsquo;.  Per-database
user access permissions are set in a &lsquo;<tt>gnatsd.user_access</tt>&rsquo; file in
the &lsquo;<tt>gnats-adm</tt>&rsquo; subdirectory of each database.
</p>
<a name="index-_002d_002denable_002dgnatsd_002dhost_002daccess_002dfile"></a>
</dd>
<dt> <code>--enable-gnatsd-host-access-file=<var>path</var></code></dt>
<dd><p>Set global (across all databases) gnatsd host access file to
<var>path</var>. Default is
&lsquo;<tt>/usr/local/etc/gnats/gnatsd_host.access</tt>&rsquo;.  There is currently
no way to specify host access permissions on a per-database basis.
</p>
<a name="index-_002d_002denable_002dgnats_002ddblist_002dfile"></a>
</dd>
<dt> <code>--enable-gnats-dblist-file=<var>path</var></code></dt>
<dd><p>Specify the file containing the list of databases.
</p>
<p>Default is &lsquo;<tt><var>prefix</var>/etc/gnats/databases</tt>&rsquo;.
</p>
<a name="index-_002d_002denable_002dgnats_002ddefault_002ddb"></a>
</dd>
<dt> <code>--enable-gnats-default-db=<var>path</var></code></dt>
<dd><p>Specify the default database to use when <small>GNATS</small> tools are invoked
without the <code>-d</code> or <code>--databasename</code> option, and when the
<var>GNATSDB</var> envrionment variable hasn&rsquo;t been set. Default is
&lsquo;<tt>/<var>prefix</var>/com/gnatsdb</tt>&rsquo;.
</p>
<a name="index-_002d_002dwith_002dkerberos"></a>
</dd>
<dt> <code>--with-kerberos</code></dt>
<dd><p>Include code for Kerberos authentication.
</p>
<a name="index-_002d_002dwith_002dkrb4"></a>
</dd>
<dt> <code>--with-krb4</code></dt>
<dd><p>Support Kerberos 4.
</p>
</dd>
<dt> <code>--verbose</code></dt>
<dd><p>Give verbose output while <code>configure</code> runs.
</p></dd>
</dl>

<p><code>configure</code> supports several more options which allow you to
specify in great detail where files are installed. For a complete list
of options, run <code>./configure --help</code> in the source directory.
</p>
<a name="index-building-in-a-different-directory"></a>
<a name="index-objdir"></a>
<p>You can build <small>GNATS</small> in a different directory (<var>objdir</var>) from the
source code by calling the <code>configure</code> program from the new
directory, as in
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">mkdir <var>objdir</var>
cd <var>objdir</var>
<var>srcdir</var>/configure &hellip;
</pre></td></tr></table>

<p>By default, <code>make</code> compiles the programs in the same directory
as the sources (<var>srcdir</var>).
</p>
</li><li>
Make sure you have <small>GNU</small> <code>make</code>, then run 

<table><tr><td>&nbsp;</td><td><pre class="smallexample">make all info
</pre></td></tr></table>

<p>from the directory where <code>configure</code> created a &lsquo;<tt>Makefile</tt>&rsquo;
(this is <var>objdir</var> if you used it, otherwise <var>srcdir</var>.)  These
targets indicate:
</p>
<dl compact="compact">
<dt> <code>all</code></dt>
<dd><p>Compile all programs
</p>
</dd>
<dt> <code>info</code></dt>
<dd><p>Create &lsquo;<samp>info</samp>&rsquo; files using <code>makeinfo</code>.
</p></dd>
</dl>
</li></ol>

<hr size="6">
<a name="Installing-utils"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Configure-and-make" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Setting-up-the-default-database" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Installing-the-utilities"></a>
<h2 class="section">3.2 Installing the utilities</h2>
<a name="index-installing-the-utilities"></a>

<p>The following steps are necessary for a complete installation.  You may
need <code>root</code> access for these.
</p>
<ol>
<li>
Install the utilities by invoking

<table><tr><td>&nbsp;</td><td><pre class="smallexample">make install install-info
</pre></td></tr></table>

<p>These targets indicate:
</p>
<dl compact="compact">
<dt> <code>install</code></dt>
<dd><p>Installs all programs into their configured locations
(see section <a href="#Locations">Where <small>GNATS</small> lives</a>).
</p>
</dd>
<dt> <code>install-info</code></dt>
<dd><p>Installs &lsquo;<samp>info</samp>&rsquo; files into their configured locations
(see section <a href="#Locations">Where <small>GNATS</small> lives</a>).
</p></dd>
</dl>

<p>After you have installed <small>GNATS</small>, you can remove the object files with
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">make clean
</pre></td></tr></table>

<a name="index-autoload-commands"></a>
<a name="index-loading-_002eel-files"></a>
<a name="index-Emacs-functions"></a>
</li><li>
If you do not have Emacs installed on your <small>GNATS</small> server, this step
should be skipped.

<p>Place the following lines in the file &lsquo;<tt>default.el</tt>&rsquo; in your Emacs
lisp library, or instruct your local responsible parties to place the
lines in their &lsquo;<tt>.emacs</tt>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(autoload 'send-pr &quot;gnats&quot;
   &quot;Command to create and send a problem report.&quot; t)
(autoload 'edit-pr &quot;gnats&quot; 
   &quot;Command to edit a problem report.&quot; t)
(autoload 'view-pr &quot;gnats&quot;
   &quot;Command to view a problem report.&quot; t)
(autoload 'query-pr &quot;gnats&quot;
   &quot;Command to query information about problem reports.&quot; t)
(autoload 'unlock-pr &quot;gnats&quot;
   &quot;Unlock a problem report.&quot; t)
(autoload 'gnats-dbconfig-mode &quot;gnats&quot;
  &quot;Major mode for editing the `dbconfig' GNATS configuration file.&quot; t)
(add-to-list 'auto-mode-alist '(&quot;\\&lt;dbconfig$&quot; . gnats-dbconfig-mode))  
</pre></td></tr></table>

<a name="index-prepare-send_002dpr_002econf"></a>
</li><li>
If you want people who are logged into the <small>GNATS</small> server itself to
be able to use the <code>send-pr</code> tool to submit problem reports, you
need to create a configuration file for <code>send-pr</code> on the server.
See section <a href="#send_002dpr_002econf-file">The send-pr.conf configuration file</a>.

</li></ol>

<hr size="6">
<a name="Setting-up-the-default-database"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Installing-utils" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Setting-up-periodic-jobs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Installing-the-default-database"></a>
<h2 class="section">3.3 Installing the default database</h2>

<p>For the following steps, log in as the user <code>gnats</code>.
</p>
<p>We are now going to initialize the default <small>GNATS</small> database.  Run the
following command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">mkdb default
</pre></td></tr></table>

<p>This creates a database named <code>default</code>, with all its data stored
below the directory &lsquo;<tt><var>prefix</var>/com/gnatsdb</tt>&rsquo;, in a default
installation this corresponds to &lsquo;<tt>/usr/local/com/gnatsdb</tt>&rsquo;.  If
you specified the <code>--enable-gnats-default-db</code> option when running
configure, the default database will be created under the directory you
specified instead.  <code>mkdb</code> creates the database directory itself,
together with three different subdirectories<a name="DOCF2" href="#FOOT2">(2)</a>:
</p>
<ul>
<li> A directory for the mandatory <small>GNATS</small> category <var>pending</var>.

</li><li> A &lsquo;<tt>gnats-queue</tt>&rsquo; directory for queueing new messages to
<small>GNATS</small> before they are processed by <code>file-pr</code>.

</li><li> The administrative directory &lsquo;<tt>gnats-adm</tt>&rsquo;. This directory is
populated with default configuration files from the
&lsquo;<tt><var>prefix</var>/etc/gnats/defaults</tt>&rsquo; directory.
</li></ul>

<p>The next configuration step is to edit the default files copied to the
database&rsquo;s &lsquo;<tt>gnats-adm</tt>&rsquo; directory by <code>mkdb</code>.
</p>
<p>The default &lsquo;<tt>dbconfig</tt>&rsquo; file installed by <code>mkdb</code> provides a
good basis for many <small>GNATS</small> databases. The default file causes
similar behaviour to the 3.x versions of <small>GNATS</small>. However, even if
this might be precisely what you want, you should still go through the
file and check that the default settings suit your needs.
See section <a href="#dbconfig-file">The &lsquo;<tt>dbconfig</tt>&rsquo; file</a>.
</p>
<p>Then edit the files &lsquo;<tt>categories</tt>&rsquo;, &lsquo;<tt>responsible</tt>&rsquo;, and
&lsquo;<tt>submitters</tt>&rsquo; in the &lsquo;<tt>gnats-adm</tt>&rsquo; directory (see section <a href="#Other-config-files">Other database-specific config files</a>) to reflect your
local needs.  For special configurations, you may also have to edit the
&lsquo;<tt>states</tt>&rsquo; and &lsquo;<tt>classes</tt>&rsquo; files.
</p>
<p>If you used the <code>--enable-gnats-default-db</code> option in the pre-build
configure to change the location of the default database, you need to
edit the &lsquo;<tt>databases</tt>&rsquo; config file, see <a href="#databases-file">The &lsquo;<tt>databases file</tt>&rsquo;</a>.  This file is by default located in the
&lsquo;<tt><var>prefix</var>/etc/gnats</tt>&rsquo; directory, but may have been changed
by the option <code>--enable-gnats-dblist-file</code> option during configure.
</p>
<a name="index-cron"></a>
<a name="index-at"></a>
<hr size="6">
<a name="Setting-up-periodic-jobs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Setting-up-the-default-database" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Aliases" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Setting-up-periodic-jobs-1"></a>
<h2 class="section">3.4 Setting up periodic jobs</h2>

<p>Allow the new user <code>gnats</code> access to <code>cron</code> and <code>at</code>.  To
do this, add the name <code>gnats</code> to the files &lsquo;<tt>cron.allow</tt>&rsquo; and
&lsquo;<tt>at.allow</tt>&rsquo;, which normally reside in the directory
&lsquo;<tt>/var/spool/cron</tt>&rsquo;.  If these files do not exist, make sure
<code>gnats</code> does not appear in either of the files &lsquo;<tt>cron.deny</tt>&rsquo;
and &lsquo;<tt>at.deny</tt>&rsquo; (in the same directory).  If you changed the name
of the <small>GNATS</small> user during configure, remember to substitute as
appropriate in the previous steps.
</p>
<a name="index-crontab"></a>
<p>Create a <code>crontab</code> entry that periodically runs the program
<code>queue-pr</code> with the &lsquo;<samp>--run</samp>&rsquo; option
(see section <a href="#queue_002dpr"><code>queue-pr</code></a>).  For example, to run
&lsquo;<samp>queue-pr --run</samp>&rsquo; every ten minutes, create a file called
&lsquo;<tt>.mycron</tt>&rsquo; in the home directory of the user <code>gnats</code> which
contains the line:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">0,10,20,30,40,50 * * * * <var>exec-prefix</var>/libexec/gnats/queue-pr --run
</pre></td></tr></table>

<p>(Specify the full path name for <code>queue-pr</code>.)  Then run
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">crontab .mycron
</pre></td></tr></table>

<p>See the <code>man</code> pages for <code>cron</code> and <code>crontab</code> for details
on using <code>cron</code>.
</p>
<hr size="6">
<a name="Aliases"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Setting-up-periodic-jobs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installing-the-daemon" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Setting-up-mail-aliases"></a>
<h2 class="section">3.5 Setting up mail aliases</h2>
<a name="index-mail-aliases"></a>
<a name="index-aliases"></a>

<p>The following mail aliases must be added on the machine where the
<small>GNATS</small> server is installed.  The instructions below are for Sendmail
or Sendmail-like mail systems.  If these instructions don&rsquo;t fit your
system, particularly if you do not have an &lsquo;<tt>aliases</tt>&rsquo; file, ask your
mail administrator for advice.
</p>
<p>The following aliases should be placed in the file
&lsquo;<tt>/etc/aliases</tt>&rsquo;. Yoy may need <code>root</code> access to add these
aliases:
</p>
<ul>
<li>
<a name="index-gnats_002dadmin-alias"></a>
Create an alias for the <small>GNATS</small> administrator.  This address should
point to the address of the person in charge of administrating
<small>GNATS</small>:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">gnats-admin:  <var>address</var>
</pre></td></tr></table>

</li><li>
<a name="index-bug-alias"></a>
<a name="index-incoming-alias-for-Problem-Reports"></a>
<a name="index-alias-for-incoming-Problem-Reports"></a>
<a name="index-queue_002dpr-_002dq"></a>
Create an alias to redirect incoming Problem Reports.  This alias should
redirect incoming mail via a <em>pipe</em> to the program &lsquo;<samp>queue-pr
-q</samp>&rsquo;.  For example, if Problem Reports coming to your site are to arrive
at the address &lsquo;<samp>bugs@your.company.com</samp>&rsquo;, create an alias to the
effect of:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">bugs:  &quot;| <var>exec-prefix</var>/libexec/gnats/queue-pr -q&quot;
</pre></td></tr></table>

<p>This places incoming Problem Reports in
the &lsquo;<tt><var>gnats-queue</var></tt>&rsquo; directory of your database.  Remember to
fill in the full path of the <code>queue-pr</code> command as appropriate for
your installation.
</p>
</li><li>
You may also wish to forward a copy of each incoming Problem Report to a
log.  This can be accomplished with something like:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">bug-q: &quot;| <var>exec-prefix</var>/libexec/gnats/queue-pr -q&quot;
bug-log:  /some/path/bugs.log
bugs:      bug-q, bug-log
</pre></td></tr></table>

<p>This configuration archives incoming Problem Reports in the file
&lsquo;<tt>bug.log</tt>&rsquo;, and also feeds them to the program <code>queue-pr</code>.
(Remember, &lsquo;<tt>bug.log</tt>&rsquo; needs to be world-writable, and should be
pruned regularly; see section <a href="#Management"><small>GNATS</small> Administration</a>.)  In
order for the log file to protect fully against data loss in case a disk
runs full, try to place it on a different disk volume than the
<small>GNATS</small> database.
</p>
</li><li>
If you want your users to be able to query the database by mail, use the
following alias:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr: &quot;| <var>exec-prefix</var>/libexec/gnats/mail-query&quot;
</pre></td></tr></table>

<p>The <code>mail-query</code> program uses &lsquo;<samp>--restricted</samp>&rsquo; to search on the
database, and by default only searches for PRs that aren&rsquo;t closed
(see section <a href="#query_002dpr">Querying the database</a>).
</p>
</li></ul>

<hr size="6">
<a name="Installing-the-daemon"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Aliases" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installing-tools" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Installing-the-daemon-1"></a>
<h2 class="section">3.6 Installing the daemon</h2>
<a name="index-daemon"></a>
<a name="index-using-GNATS-over-a-network"></a>

<p>By default, the daemon and clients are set to use port 1529.  Add the line
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">support		1529/tcp			# GNATS
</pre></td></tr></table>

<p>to your &lsquo;<tt>/etc/services</tt>&rsquo; file.  If you want a different service
name, configure <small>GNATS</small> with
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">--enable-gnats-service=<var>servicename</var>
</pre></td></tr></table>

<p>In your &lsquo;<tt>inetd.conf</tt>&rsquo; file, add the line
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">support	stream	tcp	nowait	gnats	/usr/local/libexec/gnats/gnatsd gnatsd
</pre></td></tr></table>

<p>adjusting the path accordingly if you used configure options to make
changes to the defaults.  To make <code>inetd</code> start spawning the
<small>GNATS</small> daemon when connected on that port, send it a hangup signal
(<code>HUP</code>).
</p>
<p>Some operating systems have replaced <code>inetd</code> with the more modern
<code>xinetd</code>. Instead of editing &lsquo;<tt>inetd.conf</tt>&rsquo;, you should create
the file &lsquo;<tt>/etc/xinetd.d/support</tt>&rsquo;, containing something like the
following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">service support
{
   disable = no
   socket_type = stream
   protocol = tcp
   wait = no
   user = gnats
   server = /usr/local/libexec/gnats/gnatsd
}
</pre></td></tr></table>

<p>If you specified a different service name when running <code>configure</code>,
you need to give the file the same name as the service name, and you
need to adjust the <code>service</code> line above.  If the <code>--prefix</code> or
<code>--exec-prefix</code> options were passed to <code>configure</code>, adjust the
<code>server</code> line above, and if you used the <code>--enable-gnats-user</code>
option, adjust the <code>user</code> line.
</p>
<p>Then restart <code>xinetd</code> to make the new configuration current.
</p>
<p>If you use an Internet superserver different from <code>inetd</code> or
<code>xinetd</code>, please refer to its documentation for information how
to configure it.
</p>
<p>At this point, you will probably want to set the access permissions of
the different hosts that are going to be accessing your databases.  The
access permissions can currently only be set on a global scale (that is,
across all the databases on a <small>GNATS</small> server).  The location and name
of the global host access configuration file can be set during the
pre-build configure as shown above, but by default the file is
&lsquo;<tt>/usr/local/etc/gnats/gnatsd_host.access</tt>&rsquo;.  It lists the hosts
allowed to access your server, and what their default access levels are.
Each line in the file denotes one server, or one part of a network
domain.  There are three fields on each line, but only two are currently
used.  To grant all hosts from the domain <var>site.com</var> edit access,
use this line:
</p>
<p><var>site.com</var>:<var>edit</var>
</p>
<p>If you run a <small>GNATS</small> web interface or similar tool on the same
machine as the server is running on, you probably want to grant
<var>localhost</var> edit access:
</p>
<p><var>localhost</var>:<var>edit</var>
</p>
<p>If you are using Kerberos, the &lsquo;<tt>gnatsd_host.access</tt>&rsquo; file shows the
sites that don&rsquo;t require Kerberos authentication.
</p>
<p>The third field might in the future be used for things like controlling
what categories, submitter-id&rsquo;s PRs, etc., can be accessed from that
site.  Access attempts that are denied are logged to the syslog messages
file (&lsquo;<tt>/var/adm/messages</tt>&rsquo; on many systems).
</p>

<hr size="6">
<a name="Installing-tools"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Installing-the-daemon" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#User-tools-on-a-local-network" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Installing-the-user-tools"></a>
<h2 class="section">3.7 Installing the user tools</h2>
<a name="index-networks"></a>
<a name="index-using-GNATS-over-a-network-1"></a>
<a name="index-configuring-GNATS-on-a-network"></a>

<p>When you install the <small>GNATS</small> utilities, the user tools
<code>send-pr</code>, <code>query-pr</code> and <code>edit-pr</code> are installed on the
server machine.  If your machine is part of a network, however, you may
wish to install the user tools on each machine in the network so that
responsible parties on those machines can submit new Problem Reports,
query the database, and edit existing PRs.  In the following discussion,
machines with the <small>GNATS</small> user tools installed are referred to as
<em>client</em> machines.  In general, there are three distinct types of
client that a <small>GNATS</small> server may have to cater for:
</p>
<ul class="toc">
<li>- Machines that are on the same local network as the
<small>GNATS</small> server, i.e. machines that are under the same
administrative control.

</li><li>- Machines on the general, open Internet.

</li><li>- Machines behind firewalls etc. which deny direct access
over the network to the <small>GNATS</small> server.
</li></ul>

<p>Each type of client requires a different approach when it comes to
providing access.
</p>
<hr size="6">
<a name="User-tools-on-a-local-network"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Installing-tools" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#User-tools-for-remote-users" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installing-tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection">3.7.1 User tools on a local network</h3>
<a name="index-using-GNATS-over-a-local-network"></a>
<a name="index-configuring-GNATS-on-a-local-network"></a>

<p>If all the machines involved reside on the same local network as the
<small>GNATS</small> server, you can simply share out the directories on the
server that contain the user tools, by default &lsquo;<tt>/usr/local/bin</tt>&rsquo; and
the directory which contains the &lsquo;<tt>send-pr.conf</tt>&rsquo; configuration file
(see section <a href="#send_002dpr_002econf-file">The send-pr.conf configuration file</a>), by
default &lsquo;<tt>/usr/local/etc/gnats</tt>&rsquo;.  If you have a heterogeneous
environment, i.e. hosts running different operating systems, you need to
create several shared <small>GNATS</small> installations, one for each platform.
The &lsquo;<tt>send-pr.conf</tt>&rsquo; file is platform-independent, though.
</p>
<p>In order to submit a new PR, <code>send-pr</code> would then be invoked as
follows on the client machines:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">send-pr -d <var>hostname:port:database:username:password</var>
</pre></td></tr></table>

<p>Or by first setting the environment variable <code>GNATSDB</code> as follows
(the exact syntax will vary depending on what shell you use):
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">export GNATSDB=<var>hostname:port:database:username:password</var>
</pre></td></tr></table>

<p>Then, <code>send-pr</code> can simply be invoked without any options.
</p>
<p>The other tools, <code>query-pr</code> and <code>edit-pr</code>, work in similar
ways, honoring the <code>-d</code> option as well as the <code>GNATSDB</code>
environment variable.  See section <a href="#GNATS-user-tools">The <small>GNATS</small> User Tools</a>.
</p>
<hr size="6">
<a name="User-tools-for-remote-users"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#User-tools-on-a-local-network" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installing-tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection">3.7.2 User tools for remote users</h3>
<a name="index-using-GNATS-remotely"></a>
<a name="index-configuring-GNATS-for-remote-users"></a>

<p>When client machines reside on the general Internet, both security and
practical considerations may make it impossible to provide a shared
installation of the <small>GNATS</small> tools.  In this case, you may choose to
only provide access through a web interface such as Gnatsweb.  For
clients that need the <small>GNATS</small> tools, the following needs to be
carried out on the remote machines:
</p>
<ol>
<li> Configure and build <small>GNATS</small> on the client machine

</li><li> Configure <code>send-pr</code> on the client machine
</li></ol>

<p>You should unpack the distribution and run <code>configure</code> on the
client machine in the same way as described in <a href="#Configure-and-make">Configuring and compiling the software</a>.  Note, however, that you
do not need to create a <code>gnats</code> user on the client and you should
not use the <code>make all info</code> command to build.  Instead, issue the
following commands from the top level directory of the source
distribution:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">cd gnats
make install-tools
cd ../send-pr
make all install
</pre></td></tr></table>

<p>This builds and installs the <code>send-pr</code>, <code>query-pr</code> and
<code>edit-pr</code> tools on the client machine.  You should now configure
<code>send-pr</code> by editing the &lsquo;<tt>send-pr.conf</tt>&rsquo; file
(see section <a href="#send_002dpr_002econf-file">The send-pr.conf configuration file</a>.)
</p>
<p>Users on the client machine can now either use the send-pr syntax or the
<code>GNATSDB</code>environment variable described in the previous section.
</p>
<p>For sites that need to submit Problem Reports by having send-pr send
e-mail instead of speaking directly over the network to the <small>GNATS</small>
server, you need to create a problem report template on the <small>GNATS</small>
server and have that template copied to a suitable location on the
client machine (any filename and any location will do, as long as
<code>send-pr</code> on the client machine can read the file).  On the
<small>GNATS</small> server, use the command
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">send-pr -p &gt; &lsquo;<tt>filename</tt>&rsquo;
</pre></td></tr></table>

<p>The file &lsquo;<tt>filename</tt>&rsquo; now contains a PR template for your database.
Copy this file to the client.  Then edit the &lsquo;<tt>send-pr.conf</tt>&rsquo; file
that you created on the client, set the <code>TEMPLATE</code> variable to
point to the template file (see section <a href="#send_002dpr_002econf-file">The send-pr.conf configuration file</a>) and make sure that the <code>MAILPROG</code> and
<code>MAILADDR</code> varables in &lsquo;<tt>send-pr.conf</tt>&rsquo; are correctly set.  You
should now have a working remote tool installation.
</p>
<p>For clients that have no direct network access to your <small>GNATS</small>
server, such as those that are located behind strict firewalls, you
either need to set up a web interface such as Gnatsweb (provided that
the firewall lets web traffic through) or use the procedure above which
sets up <code>send-pr</code> to submit Problem Reports by e-mail.  In order to
query PRs, users on the remote machines will then have to use the the
e-mail functionality of <code>query-pr</code> (see section <a href="#Invoking-query_002dpr">Invoking <code>query-pr</code></a>.
Editing PRs by e-mail is not possible, so clients in this group who need
edit access have to get access through a web interface if possible.
</p>
<p>Note that when <code>send-pr</code> is set up to work over e-mail, the
<code>GNATSDB</code> environment variable and the <code>-d</code> command line
option have no effect since <code>send-pr</code> is tied to a specific
database by way of the value of <code>MAILADDR</code> in the
&lsquo;<tt>send-pr.conf</tt>&rsquo; file.
</p>
<hr size="6">
<a name="Upgrading"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#User-tools-for-remote-users" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Overview-3" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Upgrading-from-older-versions"></a>
<h2 class="section">3.8 Upgrading from older versions</h2>
<a name="index-upgrading-from-older-versions"></a>

<p>The following procedure covers an upgrade from all <small>GNATS</small> 3 versions
newer than 3.108.  If your installation is an older 3.10x version, or
even the ancient 3.2 version, you need to review the
&lsquo;<tt>UPGRADING.old</tt>&rsquo; file in the <small>GNATS</small> distribution before carrying
out the steps detailed here.
</p>
<hr size="6">
<a name="Overview-3"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Upgrading" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading-1" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection">3.8.1 Overview</h3>
<a name="index-upgrading_002c-overview"></a>

<p>Although almost all of the <small>GNATS</small> internals have been redesigned and
rewritten for <small>GNATS</small> 4, little has changed in the format and
structure of the database data.  The only change that needs to be taken
into account when upgrading is the fact that the database index format
is binary in a default installation of <small>GNATS</small> 4.  Thus, you will
need to regenerate your database index by using the <code>gen-index</code>
tool.  In addition, if your old <small>GNATS</small> installation was so-called
&ldquo;release-based&rdquo;, you need to make some simple modifications to the
database setup file &lsquo;<tt>dbconfig</tt>&rsquo;.  See below for details.
</p>
<p>Apart from building and installing new binaries, the major changes which
impinge on the upgrade procedure are all on the configuration side.  The
main database configuration file, &lsquo;<tt>dbconfig</tt>&rsquo;, is far more complex
and powerful than the old &lsquo;<tt>config</tt>&rsquo; file, and while the installation
process creates a sensible set of default values which are similar to
<small>GNATS</small> 3.11x&rsquo;s defaults, you still need to migrate any changes you
may have made to your own local configuration.
</p>
<p>Another aspect which needs consideration are remote submitter sites.
Such sites either need to be instructed to upgrade their locally
installed copies of the <small>GNATS</small> user tools (<code>send-pr</code>,
<code>edit-pr</code> and <code>query-pr</code>), or they should be given access
through interfaces such as Gnatsweb.
</p>
<p>Since the <small>GNATS</small> network daemon has been completely reworked, with
an entirely new command set, all network-based interfaces, such as
Gnatsweb and TkGnats need to be upgraded to versions that support
<small>GNATS</small> 4.  The &lsquo;<tt>contrib</tt>&rsquo; directory of this distribution
contains some third-party interfaces, and the &lsquo;<tt>README</tt>&rsquo; file
contains pointers to where you can obtain the newest versions of these
tools.
</p>
<p>This document only deals with upgrading <small>GNATS</small> itself.  Third-party
tools should have separate upgrading instructions in their
distributions.
</p>
<hr size="6">
<a name="Upgrading-1"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Overview-3" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection">3.8.2 Upgrading</h3>
<a name="index-upgrade_002c-procedure"></a>

<ol>
<li>
Before you begin, make a backup of your entire <small>GNATS</small> database
directory hierarchy, the <small>GNATS</small> executables directory and the
<small>GNATS</small> user tools (<code>send-pr</code>, <code>query-pr</code> etc.)  The
locations of these may vary, but in a default <small>GNATS</small> 3 installation,
the database(s) reside under &lsquo;<tt>/usr/local/share/gnats</tt>&rsquo;, the
executables are located in &lsquo;<tt>/usr/local/libexec/gnats</tt>&rsquo; and the
user tools reside in &lsquo;<tt>/usr/local/bin</tt>&rsquo;.

</li><li>
(optional) In order to avoid confusing your users, you may want to
remove the old <small>GNATS</small> 3 executables and tools, escpecially if you
plan to install <small>GNATS</small> 4 in a different location than version 3.

</li><li>
Build and install <small>GNATS</small> 4.  See section <a href="#Installation">Installing <small>GNATS</small></a>.  It is recommended that you use the
<code>--enable-gnats-default-db</code> option when running <code>configure</code>,
in order to set the default database to be one of your already existing
<small>GNATS</small> 3 databases.

</li><li>
Edit the <small>GNATS</small> &lsquo;<tt>databases</tt>&rsquo; file and add entries for all your
old <small>GNATS</small> 3 databases.  In a default <small>GNATS</small> 4 installation
the file is in &lsquo;<tt>/usr/local/etc/gnats</tt>&rsquo;.  See section <a href="#databases-file">The &lsquo;<tt>databases</tt>&rsquo; file</a>.

</li><li>
In <small>GNATS</small> 3, the file &lsquo;<tt>gnatsd.conf</tt>&rsquo; specifies minimum access
levels for the different hosts accessing the <small>GNATS</small> daemon,
<code>gnatsd</code>.  There is one &lsquo;<tt>gnatsd.conf</tt>&rsquo; for each database.  In
<small>GNATS</small> 4, these files have been replaced by a single file named
&lsquo;<tt>gnatsd.host_access</tt>&rsquo; which contains settings that apply across all
the databases on the server.  This file is located in the same directory
as the &lsquo;<tt>databases</tt>&rsquo; file.  You need to combine the host access
settings from all your <small>GNATS</small> 3 databases and add them to the
&lsquo;<tt>gnatsd.host_access</tt>&rsquo; file.  Note that you are no longer able to
control host access on a per-database basis.  Optionally, you may delete
the old &lsquo;<tt>gnatsd.conf</tt>&rsquo; files.  See section <a href="#Access-Control">Controlling access to <small>GNATS</small> databases</a>.

</li><li>
Next, you need to migrate the settings in the old &lsquo;<tt>config</tt>&rsquo; files of
your databases to corresponding &lsquo;<tt>dbconfig</tt>&rsquo; files.  The database you
specified with the <code>--enable-gnats-default-db</code> configure option
got a default &lsquo;<tt>dbconfig</tt>&rsquo; installed.  This default file contains
field definitions etc. which makes this version of <small>GNATS</small> behave
almost exactly like older versions.  Copy this default file to the
&lsquo;<tt>gnats-adm</tt>&rsquo; directories of any other <small>GNATS</small> databases that
you may have on your host before you proceed to migrate your old
configuration settings.

<p>The following is a list of the configuration directives that may be
present in a &lsquo;<tt>config</tt>&rsquo; file and their counterparts (if any) in
<small>GNATS</small> 4.
</p>
<dl compact="compact">
<dt> <var>GNATS_ADDR</var></dt>
<dd><p>This setting has no counterpart in <small>GNATS</small> 4, since <small>GNATS</small> no
longer needs to know its own mail address.
</p>
</dd>
<dt> <var>GNATS_ADMIN</var></dt>
<dd><p>This setting is now set in the &lsquo;<tt>responsible</tt>&rsquo; file in the
&lsquo;<tt>gnats-adm</tt>&rsquo; directory of your database(s).
</p>
</dd>
<dt> <var>GNATS_SITE</var></dt>
<dd><p><small>GNATS</small> 4 has no concept of a named &lsquo;site&rsquo;, so this directive is
obsolete.
</p>
</dd>
<dt> <var>SUBMITTER</var></dt>
<dd><p>Obsolete, since it relates to <var>GNATS_SITE</var>.
</p>
</dd>
<dt> <var>DEFAULT_RELEASE</var></dt>
<dt> <var>DEFAULT_ORGANIZATION</var></dt>
<dd><p>The <small>GNATS</small> 4 &lsquo;<tt>dbconfig</tt>&rsquo; file has separate configuration
sections for each defined field.  Field defaults are set with the
<code>default</code> keyword in these sections.  See section <a href="#dbconfig-file">The &lsquo;<tt>dbconfig</tt>&rsquo; file</a>.
</p>
</dd>
<dt> <var>NOTIFY</var></dt>
<dd><p>Controlled by the <code>notify-about-expired-prs</code> setting in the
&lsquo;<tt>dbconfig</tt>&rsquo; file.
</p>
</dd>
<dt> <var>ACKNOWLEDGE</var></dt>
<dd><p>Controlled by the <code>send-submitter-ack</code> setting in the
&lsquo;<tt>dbconfig</tt>&rsquo; file.
</p>
</dd>
<dt> <var>DEFAULT_SUBMITTER</var></dt>
<dd><p>The default submitter is now always the first entry in the
&lsquo;<tt>submitters</tt>&rsquo; file of your database.
</p>
</dd>
<dt> <var>KEEP_RECEIVED_HEADERS</var></dt>
<dd><p>Controlled by the <code>keep-all-received-headers</code> setting in the
&lsquo;<tt>dbconfig</tt>&rsquo; file.
</p>
</dd>
<dt> <var>DEBUG_MODE</var></dt>
<dd><p>Controlled by the <code>debug-mode</code> setting in the &lsquo;<tt>dbconfig</tt>&rsquo; file.
</p>
</dd>
<dt> <var>BDAY_START</var></dt>
<dt> <var>BDAY_END</var></dt>
<dt> <var>BWEEK_START</var></dt>
<dt> <var>BWEEK_END</var></dt>
<dd><p>Controlled by the settings <code>business-day-hours</code> and
<code>business-week-days</code> in the &lsquo;<tt>dbconfig</tt>&rsquo; file.
</p>
</dd>
<dt> <var>DEFINE_CATEGORY</var></dt>
<dd><p>The default category for PRs that arrive without one is now the first
category listed in the &lsquo;<tt>categories</tt>&rsquo; file of your database.
</p></dd>
</dl>

<p>After your are done migrating the settings, you may optionally delete
the old &lsquo;<tt>config</tt>&rsquo; files.  Since there are many more configuration
settings available in the <small>GNATS</small> 4 &lsquo;<tt>dbconfig</tt>&rsquo; file, you should
take some time to review them all before proceeding.  See section <a href="#dbconfig-file">The &lsquo;<tt>dbconfig</tt>&rsquo; file</a>.
</p>
<p>If your old <small>GNATS</small> installations was release-based, i.e. it included
the fields Quarter, Keywords and Date-Required, you need to define those
fields in the &lsquo;<tt>dbconfig</tt>&rsquo; file by following the instructions in
<a href="#release_002dbased-support">Supporting old <small>GNATS</small> &ldquo;release-based&rdquo; fields</a>.
</p>
</li><li>
The file &lsquo;<tt>gnatsd.access</tt>&rsquo; has been renamed to &lsquo;<tt>gnatsd.user_access</tt>&rsquo;.
Furthermore, <small>GNATS</small> 4 uses a different password format in the
&lsquo;<tt>gnatsd.user_access</tt>&rsquo; file than older versions, since it supports
<code>crypt()</code> and MD5 passwords (see section <a href="#Access-Control">Controlling access to <small>GNATS</small> databases</a>).  You need to translate your old
&lsquo;<tt>gnatsd.user_access</tt>&rsquo; files to the new format by using the
<code>gnats-pwconv</code> tool which was installed in the
&lsquo;<tt><var>EXEC-PREFIX</var>/libexec/gnats</tt>&rsquo; directory, typically
&lsquo;<tt>/usr/local/libexec/gnats</tt>&rsquo;.  See section <a href="#gnats_002dpwconv">Managing user passwords</a>.

</li><li>
The final step involves regenerating the indexes of your databases.  For
this, log in as the user <code>gnats</code>.  Then run the <code>gen-index</code>
command for each of your databases.  See <a href="#Admin-utils">Administrative Utilities</a> for details on how to use
<code>gen-index</code>.

</li><li>
Sit back and enjoy your new <small>GNATS</small> 4 setup...
</li></ol>



<hr size="6">
<a name="Management"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Upgrading-1" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNATS-configuration" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GNATS-Administration"></a>
<h1 class="chapter">4. <small>GNATS</small> Administration</h1>
<a name="index-administering-GNATS"></a>
<a name="index-managing-GNATS"></a>
<a name="index-GNATS-management"></a>
<a name="index-duties-for-gnats_002dadmin"></a>

<p>In daily usage, <small>GNATS</small> is self-maintaining.  However, there are
various administrative duties which need to be performed periodically.
Also, requirements may change with time, so it may be necessary to
make changes to the <small>GNATS</small> configuration at some point:
</p>
<dl compact="compact">
<dt> <em>emptying the <code>pending</code> directory</em></dt>
<dd><a name="index-emptying-the-pending-directory"></a>
<p>If a Problem Report arrives with a <code>Category</code> value that is
unrecognized by the &lsquo;<tt>categories</tt>&rsquo; file, or if that field is missing,
<small>GNATS</small> places the PR in the &lsquo;<tt>pending</tt>&rsquo; directory
(see section <a href="#Locations">Where <small>GNATS</small> lives</a>).  PRs
submitted in free-form by email will always be filed in the
&lsquo;<tt>pending</tt>&rsquo; directory.  If so configured, <small>GNATS</small> sends a
notice to the <code>gnats-admin</code> and to the party responsible for that
submitter (as listed in the &lsquo;<tt>submitters</tt>&rsquo; file) when this occurs.
</p>
<p>To have these &quot;categoryless&quot; PRs filed correctly, you can then use a
<small>GNATS</small> tool such as <code>edit-pr</code> to set the correct category of
each PR in the &lsquo;<tt>pending</tt>&rsquo; directory.
</p>
<p>In order to protect yourself from problems caused by full disks, you
should arrange to have all mail that is sent to the <small>GNATS</small> database
copied to a log file (<a href="#Aliases">Setting up mail aliases</a>).  Then,
should you run out of disk space, and an empty file ends up in the
database&rsquo;s &lsquo;<tt>pending</tt>&rsquo; directory, you need only look in the log file,
which should still contain the full message that was submitted.
</p>
</dd>
<dt> <em>adding another database</em></dt>
<dd><a name="index-adding-another-database"></a>
<a name="index-mkdb"></a>
<p><small>GNATS</small> supports multiple databases.  If you find at some point that
you need to add another database to your server, the <code>mkdb</code> tool
does most of the work for you.  See section <a href="#mkdb">Adding another database</a>.
</p>
</dd>
<dt> <em>adding new categories</em></dt>
<dd><a name="index-adding-a-problem-category"></a>
<a name="index-mkcat"></a>
<p>Most installations of <small>GNATS</small> will only require you to add a new line
to the &lsquo;<tt>categories</tt>&rsquo; file.  The category directory will then be
created automatically as needed.  However, if automatic directory
creation has been switched off in the &lsquo;<tt>dbconfig</tt>&rsquo; file
(see section <a href="#dbconfig-file">The <code>dbconfig</code> file</a>), you need to use the
&lsquo;<tt>mkcat</tt>&rsquo; program.
</p>
</dd>
<dt> <em>removing categories</em></dt>
<dd><a name="index-removing-a-problem-category"></a>
<a name="index-rmcat"></a>
<p>To remove a category, you need to make sure the relevant subdirectory is
empty (in other words, make sure no PRs exist for the category you wish
to remove).  You can then remove the category listing from the
&lsquo;<tt>categories</tt>&rsquo; file, and invoke 
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">rmcat <var>category&hellip;</var>
</pre></td></tr></table>

<p>to remove <var>category</var> (any number of categories may be specified on
the command line to <code>rmcat</code>, so long as they abide by the above
constraints).
</p>
</dd>
<dt> <em>adding and removing maintainers</em></dt>
<dd><a name="index-adding-and-removing-maintainers"></a>
<p>Edit the &lsquo;<tt>responsible</tt>&rsquo; file to add a new maintainer or to remove an
existing maintainer.  See section <a href="#responsible-file">The <code>responsible</code> file</a>.
</p>
</dd>
<dt> <em>building a new index</em></dt>
<dd><a name="index-building-a-new-index"></a>
<a name="index-gen_002dindex"></a>
<p>If your index becomes corrupted, or if you wish to generate a new one
for some reason, use the program <code>gen-index</code>
(see section <a href="#gen_002dindex">Regenerating the index</a>).
</p>
</dd>
<dt> <em>pruning log files</em></dt>
<dd><a name="index-pruning-log-files"></a>
<p>Log files often grow to unfathomable proportions.  As with gardening, it
is best to prune these as they grow, lest they take over your disk and
leave you with no room to gather more Problem Reports.  If you keep log
files, be sure to keep an eye on them.  (See section <a href="#Aliases">Setting up mail aliases</a>.)
</p>
</dd>
<dt> <em>BACKING UP YOUR DATA</em></dt>
<dd><a name="index-BACK-UP-YOUR-DATA"></a>
<p>Any database is only useful if its data remains uncorrupted and safe.
Performing periodic backups ensures that problems like disk crashes and
data corruption are reversible.
</p>
</dd>
</dl>

<p>See section <a href="#Locations">Where <small>GNATS</small> lives</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   Overview of GNATS configuration
</td></tr>
<tr><td align="left" valign="top"><a href="#databases-file">4.2 The <code>databases</code> file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        The databases file
</td></tr>
<tr><td align="left" valign="top"><a href="#dbconfig-file">4.3 The <code>dbconfig</code> file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         The dbconfig file
</td></tr>
<tr><td align="left" valign="top"><a href="#Other-config-files">4.4 Other database-specific config files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    Configuration files
</td></tr>
<tr><td align="left" valign="top"><a href="#send_002dpr_002econf-file">4.5 The &lsquo;<tt>send-pr.conf</tt>&rsquo; file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     The send-pr.conf file
</td></tr>
<tr><td align="left" valign="top"><a href="#Admin-files">4.6 Administrative data files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Admin-utils">4.7 Administrative utilities</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Internal-utils">4.8 Internal utilities</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="GNATS-configuration"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Management" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#databases-file" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Overview-of-GNATS-configuration"></a>
<h2 class="section">4.1 Overview of <small>GNATS</small> configuration</h2>
<a name="index-GNATS-configuration"></a>
<a name="index-Overview-of-GNATS-configuration"></a>

<p>See section <a href="#Locations">Where <small>GNATS</small> lives</a>.
</p>
<p><small>GNATS</small> has two, well, actually three, different kinds of
configuration file.  The <em>site-wide</em> configuration files determine
overall behaviour across all the databases on your machine, while the
<em>database-specific</em> configuration files determine how <small>GNATS</small>
behaves when dealing with a specific database.  In addition, there is
a single file that needs to be set up for the <code>send-pr</code> tool to
work properly.  These files can be edited at any time &mdash; the next
time a <small>GNATS</small> tool is invoked, the new parameters will take
effect.
</p>
<p>These are the site-wide configuration files used by <small>GNATS</small>:
</p>
<a name="index-Site-wide-configuration-files"></a>
<dl compact="compact">
<dt> <code>databases</code></dt>
<dd><a name="index-databases"></a>
<p>Specifies database names and their associated parameters, such as in
which directory they are located.  This file is used by the <small>GNATS</small>
clients to determine the location of a database referred to by name.
See section <a href="#databases-file">The <code>databases</code> file</a>.
</p>
</dd>
<dt> <code>defaults</code></dt>
<dd><a name="index-defaults"></a>
<p>This directory contains the set of default per-database configuration
files used when a new database is created with <code>mkdb</code>.
</p>
</dd>
<dt> <code>gnatsd.host_access</code></dt>
<dd><a name="index-gnatsd_002ehost_005faccess"></a>
<p>Controls access levels for the different machines that will do lookups
in the databases on this machine.  See section <a href="#Access-Control"><small>GNATS</small> access control</a>.
</p>
</dd>
<dt> <code>gnatsd.user_access</code></dt>
<dd><a name="index-gnatsd_002euser_005faccess"></a>
<p>Controls user access levels for the databases on this server. The
settings apply to all databases (there is also a database-specific
user access level file).  See section <a href="#Access-Control"><small>GNATS</small> access control</a>.
</p></dd>
</dl>

<p>The database-specific configuration is determined by the
following files in the &lsquo;<tt>gnats-adm</tt>&rsquo; subdirectory of the database
directory.
</p>
<dl compact="compact">
<dd><a name="index-dbconfig-file"></a>
</dd>
<dt> <code>dbconfig</code></dt>
<dd><p>Controls most aspects of how <small>GNATS</small> behaves when dealing with your
database.  See section <a href="#dbconfig-file">The <code>dbconfig</code> file</a>.
</p>
<a name="index-categories-file"></a>
</dd>
<dt> <code>categories</code></dt>
<dd><p>The list of categories that <small>GNATS</small> accepts as valid for the
<code>Category</code> field, and the maintainers responsible for each
category.  Update this file whenever you have a new category, or
whenever a category is no longer valid.  You must also update this file
whenever responsibility for a category changes, or if a maintainer is
no longer valid.  See section <a href="#categories-file">The <code>categories</code> file</a>.
</p>
<a name="index-responsible-file"></a>
</dd>
<dt> <code>responsible</code></dt>
<dd><p>An alias list mapping names to their associated mailing addresses.  The
names in this list can have multiple email addresses associated with
them.  If a responsible user does not show up in this list, they are
assumed to be a user local to the system.  This list is not associated
with just the responsible user field; all email addresses are mapped
through this file whenever mail is sent from <small>GNATS</small>.
See section <a href="#responsible-file">The <code>responsible</code> file</a>.
</p>
<a name="index-submitters-file"></a>
</dd>
<dt> <code>submitters</code></dt>
<dd><p>Lists sites from whom <small>GNATS</small> accepts Problem Reports.  The existence
of this file is mandatory, although the feature it provides is not; see
<a href="#submitters-file">The <code>submitters</code> file</a>.
</p>
<a name="index-addresses-file"></a>
</dd>
<dt> <code>addresses</code></dt>
<dd><p>Mappings between submitter IDs and submitters&rsquo; e-mail addresses.  Use of
this file is optional.  If you get Problem reports where the
<code>Submitter</code> field is not filled in, <small>GNATS</small> will use entries in
this file to try to derive the submitter ID from the e-mail headers.
See section <a href="#addresses-file">The <code>addresses</code> file</a>.
</p>
<a name="index-states-file"></a>
</dd>
<dt> <code>states</code></dt>
<dd><p>Lists the possible states for Problem Reports, typically ranging from
<em>open</em> to <em>closed</em>.  See section <a href="#addresses-file">The <code>states</code> file</a>.
</p>
<a name="index-classes-file"></a>
</dd>
<dt> <code>classes</code></dt>
<dd><p>Lists the possible classes of Problem Report.  This provides an easy way
to have &ldquo;subcategories&rdquo;, for example by setting up classes such as
<code>sw-bug</code>, <code>doc-bug</code>, <code>change-request</code> etc.
See section <a href="#classes-file">The <code>classes</code> file</a>.
</p>
<a name="index-gnatsd_002euser_005faccess-file"></a>
</dd>
<dt> <code>gnatsd.user_access</code></dt>
<dd><p>Specify the access levels for different users to your database.
See section <a href="#Access-Control"><small>GNATS</small> access control</a>.
</p>
</dd>
</dl>

<p>The last file in this menagerie is the <code>send-pr</code> configuration
file &lsquo;<tt>send-pr.conf</tt>&rsquo;.  This file contains some defaults that need
to be known in order for <code>send-pr</code> to work.  The file needs to
be present on all hosts where <code>send-pr</code> is to be used.
See section <a href="#send_002dpr_002econf-file">the &lsquo;<tt>send-pr.conf</tt>&rsquo; file</a>.
</p>
<hr size="6">
<a name="databases-file"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#GNATS-configuration" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#dbconfig-file" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-databases-file"></a>
<h2 class="section">4.2 The <code>databases</code> file</h2>
<a name="index-databases-file"></a>

<p>The &lsquo;<tt>databases</tt>&rsquo; configuration file is a site-wide configuration
file containing the list of <small>GNATS</small> databases that are available
either on the host itself or remotely over the network, together with
some parameters associated with each database.
</p>
<p>The file contains one line for each database. For databases located on
the host itself, each line consists of three fields separated by colons:
</p>
<p><var>database name:short description of database:path/to/database</var>
</p>
<p>The first field is the database name.  This is the name used to identify
the database when invoking programs such as <code>query-pr</code> or
<code>send-pr</code>, either by using the <code>--database</code> option of the
program or by setting the <var>GNATSDB</var> environment variable to the name
of the database.  The second field is a short human-readable description
of the database contents, and the final field is the directory where the
database contents are kept.
</p>
<p>For a database that is located across a network, but which should be
accessible from this host, the entry for the database should look
like this:
</p>
<p><var>database name:short description of database::hostname:port</var>
</p>
<p>The first two fields are the same as for local databases, the third
field is empty (notice the two adjacent &lsquo;<samp>:</samp>&rsquo; symbols, indicating an
empty field), the fourth field is the hostname of the remote <small>GNATS</small>
server, and the fifth field is the port number that the remote
<small>GNATS</small> is running on.
</p>
<p>If <small>GNATS</small> was built with default options, the &lsquo;<tt>databases</tt>&rsquo; file
will be located in the &lsquo;<tt>/usr/local/etc/gnats</tt>&rsquo; directory.
However, if the option <code>--enable-gnats-dblist-file</code> was used during building
of <small>GNATS</small>, the &lsquo;<tt>databases</tt>&rsquo; file has the name and location given
to this option.  A sample &lsquo;<tt>databases</tt>&rsquo; file is installed together
with <small>GNATS</small>.
</p>
<p>Note that if you add a new local database, you must create its data
directory, including appropriate subdirectories and administrative
files.  This is best done using the <code>mkdb</code> tool, See section <a href="#mkdb">Adding another database</a>.
</p>

<hr size="6">
<a name="dbconfig-file"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#databases-file" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Overall-database-configuration" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-dbconfig-file"></a>
<h2 class="section">4.3 The <code>dbconfig</code> file</h2>
<a name="index-dbconfig-file-1"></a>

<p>The &lsquo;<tt>dbconfig</tt>&rsquo; configuration file controls the configuration of a
<small>GNATS</small> database.  Each database has its own individual copy of this
file, which is located in the &lsquo;<tt>gnats-adm</tt>&rsquo; subdirectory of the
database.
</p>
<p>The file consists of standard plain text.  Whitespace is completely
optional and is ignored. Sets of braces &lsquo;<samp>@</samp>&rsquo; are used to delimit the
different sections, and all non-keyword values must be surrounded with
double quotes.  The values in &lsquo;<tt>dbconfig</tt>&rsquo; can be changed at any time;
the new values take effect for all subsequent iterations of <small>GNATS</small>
tools.
</p>
<p>The &lsquo;<tt>dbconfig</tt>&rsquo; file contains 6 major sections, which must appear in the
following order:
</p>
<ul>
<li> Overall database configuration
</li><li> Individual field configuration
</li><li> Named query definitions
</li><li> Audit-trail and outgoing email formats
</li><li> Index file description
</li><li> Initial Problem Report input fields
</li></ul>

<p>The different sections are described below.  While reading the following
sections, it will be useful to refer to the sample &lsquo;<tt>dbconfig</tt>&rsquo; file
which is installed when a new database is initialized with the
<code>mkdb</code> tool.  In fact, the sample file provides a configuration
that should be usable for a great range of sites, since it reproduces
the behaviour of the older, less customizable 3.x versions of
<small>GNATS</small>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Overall-database-configuration">4.3.1 Overall database configuration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Field-datatypes">4.3.3 Field datatypes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Edit-controls">4.3.4 Edit controls</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  Trigger on certain edit actions.
</td></tr>
<tr><td align="left" valign="top"><a href="#Named-query-definitions">4.3.5 Named query definitions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Define and name standard queries.
</td></tr>
<tr><td align="left" valign="top"><a href="#Audit_002dtrail-formats">4.3.6 Audit-trail formats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Specify formatting of the audit-trail.
</td></tr>
<tr><td align="left" valign="top"><a href="#Outgoing-email-formats">4.3.7 Outgoing email formats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Specify contents and formatting of
                                   messages sent out by GNATS.
</td></tr>
<tr><td align="left" valign="top"><a href="#Index-file-description">4.3.8 Index file description</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Specify the general format and
                                   contents of the database index.
</td></tr>
<tr><td align="left" valign="top"><a href="#Initial-PR-input-fields">4.3.9 Initial PR input fields</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Which fields should be present on
                                   initial PR entry.
</td></tr>
</table>

<hr size="6">
<a name="Overall-database-configuration"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#dbconfig-file" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Individual-field-configuration" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#dbconfig-file" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Overall-database-configuration-1"></a>
<h3 class="subsection">4.3.1 Overall database configuration</h3>
<a name="index-Overall-database-configuration"></a>

<p>The overall database options are controlled by settings in the
<code>database-info</code> section of the &lsquo;<tt>dbconfig</tt>&rsquo; file.  The following
is the general format of this section:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">database-info {
  [options]
}
</pre></td></tr></table>

<p>The following options and values may be used in the <code>database-info</code>
section:
</p>
<dl compact="compact">
<dd><a name="index-debug_002dmode"></a>
</dd>
<dt> <code>debug-mode&nbsp;&nbsp;<var>true | false</var></code></dt>
<dd><p>If set to <code>true</code>, the database is placed into debug mode.  This causes all
outgoing email to be sent to the <em>gnats-admin</em> user listed in the
&lsquo;<tt>responsible</tt>&rsquo; file of the database.  The default value is <code>false</code>.
</p>
<a name="index-keep_002dall_002dreceived_002dheaders"></a>
</dd>
<dt> <code>keep-all-received-headers&nbsp;&nbsp;<var>true | false</var></code></dt>
<dd><p>If set to <code>true</code>, all of the Received: headers for PRs submitted
via email are kept in the PR.  Otherwise, only the first one is kept.  The
default value is <code>false</code>.
</p>
<a name="index-notify_002dabout_002dexpired_002dprs"></a>
</dd>
<dt> <code>notify-about-expired-prs&nbsp;&nbsp;<var>true | false</var></code></dt>
<dd><p>If set to <code>true</code>, notification email about expired PRs is sent via
the <code>at-pr</code> command.  Otherwise, required times for PR fixes are not
used.  The default value is <code>false</code>.
</p>
<a name="index-send_002dsubmitter_002dack"></a>
</dd>
<dt> <code>send-submitter-ack&nbsp;&nbsp;<var>true | false</var></code></dt>
<dd><p>When new PRs are submitted to the database, an acknowledgment email will
be sent to the submitter of send-submitter-ack is set to <code>true</code>.
This is in addition to the normal notification mail to the person(s)
responsible for the new PR.  The default value is <code>false</code>.
</p>
<a name="index-libexecdir"></a>
</dd>
<dt> <code>libexecdir&nbsp;&nbsp;<var>&quot;directory&quot;</var></code></dt>
<dd><p>Specifies the directory where the <small>GNATS</small> administrative executables
are located.  In particular, <code>at-pr</code> and <code>mail-pr</code> are invoked
from this directory.  The default value is the empty string, which is
unlikely to be useful.
</p>
<a name="index-business_002dday_002dhours"></a>
</dd>
<dt> <code>business-day-hours&nbsp;&nbsp;<var>day-start - day-end</var></code></dt>
<dd><p>Used to specify the hours that define a business day.  The values are
inclusive and should be given in 24-hour format, with a dash separating
them.  <small>GNATS</small> uses these values to determine whether the required
completion time for a PR has passed.  The default values are 8 for
<code>day-start</code> and 17 for <code>day-end</code>.
</p>
<a name="index-business_002dweek_002ddays"></a>
</dd>
<dt> <code>business-week-days&nbsp;&nbsp;<var>week-start - week-end</var></code></dt>
<dd><p>Specifies the start and ending days of the business week, where 0 is
Sunday, 1 is Monday, etc.  The days are inclusive, and the values should
be given with a dash separating them.  <small>GNATS</small> uses these values to
determine whether the required completion time for a PR has passed.  The
default values are 1 for <code>week-start</code> and 5 for <code>week-end</code>.
</p>
<a name="index-create_002dcategory_002ddirs"></a>
</dd>
<dt> <code>create-category-dirs&nbsp;&nbsp;<var>true | false</var></code></dt>
<dd><p>If set to <code>true</code>, database directories for categories are
automatically created as needed.  Otherwise, they must be created
manually (usually with the <code>mkcat</code> script).  It is recommended that
the default value of <code>true</code> be kept.
</p>
<a name="index-category_002ddir_002dperms"></a>
</dd>
<dt> <code>category-dir-perms&nbsp;&nbsp;<var>mode</var></code></dt>
<dd><p>Standard octal mode-specification specifying the permissions to be set
on auto-created category directories. Default is <code>0750</code>, yielding
user read, write and execute, and group read and execute.  Note that
if you have local users on the <small>GNATS</small> server itself, running for
instance <code>query-pr</code>, you may need to change the permissions to
<code>0755</code>.
</p></dd>
</dl>

<hr size="6">
<a name="Individual-field-configuration"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Overall-database-configuration" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Field-datatypes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#dbconfig-file" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Individual-field-configuration-1"></a>
<h3 class="subsection">4.3.2 Individual field configuration</h3>
<a name="index-Individual-field-configuration"></a>

<p>Each type of field in a PR must be described with a <code>field</code> section
in the &lsquo;<tt>dbconfig</tt>&rsquo; file.  These sections have the following general
structure:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">field &quot;fieldname&quot; {
  description &quot;string&quot;
  [ field-options ... ]
  datatype [ datatype-options ... ]
  [ on-change { edit-options ... } ]
}
</pre></td></tr></table>

<p><code>fieldname</code> is used as the field header in the PR.  The characters <code>&gt;</code>
and <code>:</code> are used internally as field markers by <small>GNATS</small>, so they must
not be used in fieldnames.
</p>
<p>The order in which the <code>field</code> sections appear in the
&lsquo;<tt>dbconfig</tt>&rsquo; file determines the order in which they appear in the PR
text.  There is no required order, unlike previous versions of <small>GNATS</small>
&mdash; the Unformatted field and multitext fields may appear anywhere in
the PR.
</p>
<p>The following <code>field-options</code> may be present within a <code>field</code> section:
</p>
<dl compact="compact">
<dd><a name="index-builtin_002dname"></a>
</dd>
<dt> <code>builtin-name&nbsp;&nbsp;<var>&quot;name&quot;</var></code></dt>
<dd><p>Indicates that this field corresponds to one of the <small>GNATS</small> built-in
fields.
</p>
<p><small>GNATS</small> has several fields which are required to be present in a PR,
and this option is used to map their external descriptions to their
internal usage.  The external field names are:
</p>
<dl compact="compact">
<dt> <code>arrival-date</code></dt>
<dd><a name="index-arrival_002ddate"></a>
<p>The arrival date of the PR
</p>
</dd>
<dt> <code>audit-trail</code></dt>
<dd><a name="index-audit_002dtrail"></a>
<p>The audit-trail recording changes to the PR
</p>
</dd>
<dt> <code>category</code></dt>
<dd><a name="index-category"></a>
<p>The category that the PR falls into
</p>
</dd>
<dt> <code>closed-date</code></dt>
<dd><a name="index-closed_002ddate"></a>
<p>The date that the PR was closed
</p>
</dd>
<dt> <code>confidential</code></dt>
<dd><a name="index-confidential"></a>
<p>If set to <code>yes</code>, the PR is confidential
</p>
</dd>
<dt> <code>description</code></dt>
<dd><a name="index-description"></a>
<p>A description of the problem
</p>
</dd>
<dt> <code>last-modified</code></dt>
<dd><a name="index-last_002dmodified"></a>
<p>The date the PR was last modified
</p>
</dd>
<dt> <code>number</code></dt>
<dd><a name="index-number"></a>
<p>The PR&rsquo;s unique numeric identifier
</p>
</dd>
<dt> <code>originator</code></dt>
<dd><a name="index-originator"></a>
<p>The originator of the PR
</p>
</dd>
<dt> <code>priority</code></dt>
<dd><a name="index-priority"></a>
<p>Priority of the PR
</p>
</dd>
<dt> <code>responsible</code></dt>
<dd><a name="index-responsible"></a>
<p>The person responsible for handling the PR
</p>
</dd>
<dt> <code>severity</code></dt>
<dd><a name="index-severity"></a>
<p>Severity of the problem described by the PR
</p>
</dd>
<dt> <code>state</code></dt>
<dd><a name="index-state"></a>
<p>The current state of the PR
</p>
</dd>
<dt> <code>submitter-id</code></dt>
<dd><a name="index-submitter_002did"></a>
<p>The user that submitted the PR
</p>
</dd>
<dt> <code>synopsis</code></dt>
<dd><a name="index-synopsis"></a>
<p>The one-line description of the PR
</p>
</dd>
<dt> <code>unformatted</code></dt>
<dd><a name="index-unformatted"></a>
<p>PR text which cannot be parsed and associated with other fields.
</p></dd>
</dl>

<p>For these built-in fields, a matching field description <em>must</em>
appear in the &lsquo;<tt>dbconfig</tt>&rsquo; file. Otherwise, the configuration will
be considered invalid, and errors will be generated from the
<small>GNATS</small> clients and <code>gnatsd</code>.  We also recommend that you
leave the actual fieldnames of these fields at their default values
(i.e. capitalized versions of their built-in names), since some
clients may depend on these names.
</p>
</dd>
<dt> <code>description&nbsp;&nbsp;<var>&quot;description text&quot;</var></code></dt>
<dd><p>A one-line human-readable description of the field.  Clients can use
this string to describe the field in a help dialog.  The string is
returned from the FDSC command in gnatsd and is also available via the
<code>--field-description</code> option in <code>query-pr</code>.
</p>
<p>This entry must be present in the field description, and there is no
default value.
</p>
</dd>
<dt> <code>query-default&nbsp;&nbsp;<var>exact-regexp | inexact-regexp</var></code></dt>
<dd><p>Used to specify the default type of searches performed on this field.
This is used when the <code>^</code> search operator appears in a query, and 
is also used for queries in <code>query-pr</code> that use the old
<code>--field</code> query options.
</p>
<p>If the option is not given, the default search is <code>exact-regexp</code>.
</p>
</dd>
<dt> <code>textsearch</code></dt>
<dd><p>If this option is present, the field will be searched when the user
performs a <code>--text</code> search from <code>query-pr</code>.  The field is
also flagged as a <code>textsearch</code> field in the set of field flags
returned by the <code>FIELDFLAGS</code> command in gnatsd.
</p>
<p>By default, fields are not marked as <code>textsearch</code> fields.
</p>
</dd>
<dt> <code>read-only</code></dt>
<dd><p>When this option is present, the field contents may not be edited &mdash; they
must be set when the PR is initially created.  In general, this should
only be used for fields that are given as internal values rather than
fields supplied by the user.
</p>
<p>By default, editing is allowed.
</p></dd>
</dl>

<hr size="6">
<a name="Field-datatypes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Individual-field-configuration" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Edit-controls" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#dbconfig-file" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Field-datatypes-1"></a>
<h3 class="subsection">4.3.3 Field datatypes</h3>
<a name="index-Field-datatypes"></a>
<p>Each field description has to contain a datatype declaration which
describes what data are to be store in the field.  The general format for
such a declaration is
</p>
<dl compact="compact">
<dd><a name="index-datatype"></a>
</dd>
<dt> <code>datatype&nbsp;&nbsp;[ options ... ]</code></dt>
</dl>

<p>The available datatypes are:
</p>
<dl compact="compact">
<dd><a name="index-text"></a>
</dd>
<dt> <code>text&nbsp;&nbsp;[ matching { &quot;regexp&quot; [ &quot;regexp&quot; ... ] } ]</code></dt>
<dd><p>The <code>text</code> datatype is the most commonly used type; it is a
one-line text string.
</p>
<p>If the <code>matching</code> qualifier is present, the data in the field must
match at least one of the specified regexps.  This provides an easy and
flexible way to limit what text is allowed in a field.  If no
<code>matching</code> qualifier is present, no restriction is placed on
what values may appear in the field.
</p>
<a name="index-multitext"></a>
</dd>
<dt> <code>multitext&nbsp;&nbsp;[ { default &quot;string&quot; } ]</code></dt>
<dd><p>The field can contain multiple lines of text.
</p>
<p>If the <code>default</code> option is present, the field will default to the
specified <code>string</code> if the field is not given a value when the PR is
initially created.  Otherwise, the field will be left empty.
</p>
<a name="index-enum"></a>
</dd>
<dt> <code>enum&nbsp;&nbsp;{</code></dt>
<dt> <code>&nbsp;&nbsp;values {</code></dt>
<dt> <code>&nbsp;&nbsp;&nbsp;&nbsp;&quot;string&quot; [ &quot;string&quot; ... ]</code></dt>
<dt> <code>&nbsp;&nbsp;}</code></dt>
<dt> <code>&nbsp;&nbsp;[ default &quot;string&quot; ]</code></dt>
<dt> <code>}</code></dt>
<dd><p>Defines an enumerated field, where the values in the PR field must match
an entry from a list of specified values.  The list of allowed values is
given with the <code>values</code> option. The <code>values</code> option is
required for an enumerated field.
</p>
<p>If a <code>default</code> option is present, it is used to determine the
initial value of the field if no entry for the field appears in an
initial OR (or if the value in the initial PR is not one of the
acceptable values).  However, the value in the <code>default</code> statement
is not required to be one of the accepted values; this can be used to
allow the field to be initially empty, for example.
</p>
<p>If no <code>default</code> option is specified, the default value for the
field is the first value in the <code>values</code> section.
</p>
<a name="index-multienum"></a>
</dd>
<dt> <code>multienum&nbsp;&nbsp;{</code></dt>
<dt> <code>&nbsp;&nbsp;values {</code></dt>
<dt> <code>&nbsp;&nbsp;&nbsp;&nbsp;&quot;string&quot; [ &quot;string&quot; ... ]</code></dt>
<dt> <code>&nbsp;&nbsp;}</code></dt>
<dt> <code>&nbsp;&nbsp;[ separators &quot;string&quot; ]</code></dt>
<dt> <code>&nbsp;&nbsp;[ default &quot;string&quot; ]</code></dt>
<dt> <code>}</code></dt>
<dd><p>The <code>multienum</code> datatype is similar to the <code>enum</code> datatype,
except that the field can contain multiple values, separated by one or
more characters from the <code>separators</code> list.  If no <code>separators</code>
option is present, the default separators are space (&lsquo;<samp> </samp>&rsquo;) and colon
(&lsquo;<samp>:</samp>&rsquo;).
</p>
<p>The values in the <code>default</code> string for this field type should be
separated by one of the defined separators.  An example clarifies this.
If we have a field named <code>ingredients</code> where the default values
should be &lsquo;<samp>sugar</samp>&rsquo;, &lsquo;<samp>flour</samp>&rsquo; and &lsquo;<samp>baking powder</samp>&rsquo; and the
separator is a colon &lsquo;<samp>:</samp>&rsquo;, the following sets these defaults:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">default &quot;sugar:flour:baking powder&quot;
</pre></td></tr></table>

<a name="index-enumerated_002din_002dfile"></a>
</dd>
<dt> <code>enumerated-in-file&nbsp;{</code></dt>
<dt> <code>&nbsp;&nbsp;path &quot;filename&quot;</code></dt>
<dt> <code>&nbsp;&nbsp;fields {</code></dt>
<dt> <code>&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot; [ &quot;name&quot; ... ]</code></dt>
<dt> <code>&nbsp;&nbsp;} key &quot;name&quot;</code></dt>
<dt> <code>&nbsp;&nbsp;[ allow-any-value ]</code></dt>
<dt> <code>}</code></dt>
<dd><p><a name="administrative-files"></a>The <code>enumerated-in-file</code> type is used
to describe an enumerated field with an associated <em>administrative
file</em> which lists the legal values for the field, and may optionally
contain additional fields that can be examined by query clients or used
for other internal purposes.  It is similar to the <code>enum</code> datatype,
except that the list of legal values is stored in a separate file.  An
example of this kind of field is the built-in Category field with its
associeted &lsquo;<tt>categories</tt>&rsquo; administrative file.
</p>
<p><code>filename</code> is the name of a file in the &lsquo;<tt>gnats-adm</tt>&rsquo;
administrative directory for the database.
</p>
<p>The format of the administrative file should be simple ASCII.
<em>Subfields</em> within the file are separated with colons (&lsquo;<samp>:</samp>&rsquo;).
Lines beginning with a hash sign (&lsquo;<samp>#</samp>&rsquo;) are ignored as comments.
Records within the file are separated with newlines.
</p>
<p>The <code>field</code> option is used to name the subfields in the
administrative file.  There must be at least one subfield, which is used
to list the legal values for the field.  If the administrative file is
empty (or does not contain any non-empty non-comment lines), the PR
field must be empty.
</p>
<p>The <code>key</code> option is used to designate which field in the
administrative file should be used to list the legal values for the PR
field.  The value must match one of the field names in the <code>field</code>
option.
</p>
<p>If the <code>allow-any-value</code> option is present, the value of the PR
field is not required to appear in the administrative file &mdash; any value
will be accepted.
</p>
<p>Note that there is no <code>default</code> keyword for
<code>enumerated-in-file</code>.  These fields get their default value from
the <em>first</em> entry in the associated administrative file.
</p>
<a name="index-multi_002denumerated_002din_002dfile"></a>
</dd>
<dt> <code>multi-enumerated-in-file&nbsp;{</code></dt>
<dt> <code>&nbsp;&nbsp;path &quot;filename&quot;</code></dt>
<dt> <code>&nbsp;&nbsp;fields {</code></dt>
<dt> <code>&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot; [ &quot;name&quot; ... ]</code></dt>
<dt> <code>&nbsp;&nbsp;} key &quot;name&quot;</code></dt>
<dt> <code>&nbsp;&nbsp;[ default &quot;string&quot; ]</code></dt>
<dt> <code>&nbsp;&nbsp;[ allow-any-value ]</code></dt>
<dt> <code>&nbsp;&nbsp;[ separators &quot;string&quot; ]</code></dt>
<dt> <code>}</code></dt>
<dd>
<p><code>multi-enumerated-in-file</code> is to <code>multienum</code> what
<code>enumerated-in-file</code> is to <code>enum</code>.  Its options have the
same meaning as their counterparts in the <code>multienum</code> and
<code>enumerated-in-file</code> fields.
</p>
<p><em>NOTE</em>: Keywords may appear in any sequence, with one exception &ndash;
the <code>separators</code> keyword, if present, has to come last.  This rule
only applies to fields of type <code>multi-enumerated-in-file</code>.
</p>
<a name="index-date"></a>
</dd>
<dt> <code>date</code></dt>
<dd><p>The <code>date</code> datatype is used to hold dates.  Date fields must either be
empty or contain a correctly formatted date.
</p>
<p>No defaults or other options are available.  The field is left empty if
no value for the field is given in the initial PR.
</p>
<a name="index-integer"></a>
</dd>
<dt> <code>integer&nbsp;&nbsp;[ { default &quot;integer&quot; } ]</code></dt>
<dd><p>Integer fields are used to hold numbers.  They must either be empty or
contain a value composed entirely of digits, with an optional leading
sign.
</p>
<p>If the <code>default</code> option is present, the field will have the value
of <code>integer</code> if the field is not given a value when the PR is
initially created.  Otherwise, the field will be left empty.
</p></dd>
</dl>

<hr size="6">
<a name="Edit-controls"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Field-datatypes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Named-query-definitions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#dbconfig-file" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Edit-controls-1"></a>
<h3 class="subsection">4.3.4 Edit controls</h3>
<a name="index-edit-controls"></a>

<p>The <code>on-change</code> subsection of a <code>fields</code> section specifies one
or more actions to be performed when the field value is edited by the
user.  It has the general form
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">on-change [ &quot;query-expression&quot; ] {
&nbsp;&nbsp;[ add-audit-trail ]
&nbsp;&nbsp;[ audit-trail-format {
&nbsp;&nbsp;&nbsp;&nbsp;format &quot;formatstring&quot;
&nbsp;&nbsp;&nbsp;&nbsp;[ fields { &quot;fieldname&quot; ... } ]
&nbsp;&nbsp;} ]
&nbsp;&nbsp;[ require-change-reason ]
&nbsp;&nbsp;[ set-field | append-to-field &quot;fieldname&quot; {
&nbsp;&nbsp;&nbsp;&nbsp;&quot;format-string&quot; [ fieldlist ]
&nbsp;&nbsp;} ]
&nbsp;&nbsp;[ require { &quot;fieldname&quot; ... } ]
}
</pre></td></tr></table>

<p>The optional <code>query-expression</code> controls whether or not the actions
in the <code>on-change</code> section are taken.  If the expression fails to
match, the actions are skipped.
</p>
<p>The <code>add-audit-trail</code> option indicates that an entry should be
appended to the PR&rsquo;s audit-trail when this field is changed.  The format
of the entry is controlled by the optional <code>audit-trail-format</code>
section within the field, or by the global <code>audit-trail-format</code>
section. See <a href="#Audit_002dtrail-formats">Audit-trail formats</a> and <a href="#Outgoing-email-formats">Outgoing email formats</a>.
</p>
<p>The <code>require-change-reason</code> option specifies that a change reason
must be present in the PR when this field is edited.  This option only
makes sense if an audit-trail entry is required, as the change reason is
otherwise unused.
</p>
<p>The <code>set-field</code> and <code>append-to-field</code> options are used to
change the value of the field <code>fieldname</code> in the PR.  The supplied
format is used to format the value that will be placed in the field.
</p>
<p><code>append-to-field</code> appends the resulting formatted string to the
existing, while <code>set-field</code> completely replaces the contents.
</p>
<p>Any field may be edited by the <code>set-field</code> or
<code>append-to-field</code> option (the <code>read-only</code> option on a field is
ignored).  However, the changes are subject to the usual field content
checks.
</p>
<p>The <code>require</code> option specifies that one or more fields must have
a (non-blank) value when this field is changed.
</p>
<p>A field may be enforced to have a (non-blank) value at all times by
including it in the set of fields required for the initial PR, see
<a href="#Initial-PR-input-fields">Initial PR input fields</a>, as well as in the set of fields
required on change of the field itself.
</p>
<p>There is also a global <code>on-change</code> section that is executed once
for each PR edit.  A typical use for such a section is to set the
last-modified date of the PR.
</p>
<hr size="6">
<a name="Named-query-definitions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Edit-controls" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Audit_002dtrail-formats" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#dbconfig-file" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Named-query-definitions-1"></a>
<h3 class="subsection">4.3.5 Named query definitions</h3>
<a name="index-Named-query-definitions"></a>

<p>When queries are performed via <code>query-pr</code>, they can refer to a
query format described by a <code>query</code> section in the &lsquo;<tt>dbconfig</tt>&rsquo;
file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">query &quot;queryname&quot; {
&nbsp;&nbsp;format &quot;formatstring&quot;
&nbsp;&nbsp;[fields { &quot;fieldname&quot; [ &quot;fieldname&quot; ... ] } ]
}
</pre></td></tr></table>

<p><code>formatstring</code> is as described in <a href="#Formatting-query_002dpr-output">Formatting <code>query-pr</code> output</a>.
It basically contains a string with printf-like % escapes.  The output
of the query is formatted as specified by this format string.
</p>
<p>The <code>fields</code> option lists the fields to be used with the format
string.  If the <code>fields</code> option is present without a <code>format</code>
option, the contents of the listed fields are printed out, separated by
newlines.
</p>
<p>The named query formats <em>full</em>, <em>standard</em> amd <em>summary</em>
must be present in the &lsquo;<tt>dbconfig</tt>&rsquo; file.  <em>full</em> and
<em>summary</em> correspond to the <code>query-pr</code> options <code>--full</code>
and <code>--summary</code>, while <em>standard</em> is used when no format
option is given to <code>query-pr</code>.
</p>
<hr size="6">
<a name="Audit_002dtrail-formats"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Named-query-definitions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Outgoing-email-formats" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#dbconfig-file" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Audit_002dtrail-formats-1"></a>
<h3 class="subsection">4.3.6 Audit-trail formats</h3>
<a name="index-Audit_002dtrail-format"></a>

<p>These formats are similar to the named query formats, but they include
more options.  They are used for formatting audit-trail entries and for
outgoing email messages.
</p>
<p>There is currently only one audit-trail format, defined by the
<code>audit-trail-format</code> option:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">audit-trail-format {
&nbsp;&nbsp;format &quot;formatstring&quot;
&nbsp;&nbsp;[ fields { &quot;fieldname&quot; [ &quot;fieldname&quot; ... ] } ]
}
</pre></td></tr></table>

<p>For those fields that require an audit-trail entry, the audit-trail text
to be appended is formatted as described by this format.  The per-field
<code>audit-trail-format</code> is used in preference to this one, if it
exists.
</p>
<p><code>formatstring</code> and <code>fieldname</code> are similar to those used by
the named query format.  <code>fieldname</code> may also be a <em>format
parameter</em>, which is a context-specific value.  (Format parameters are
distinguished from fieldnames by a leading dollar sign (&lsquo;<samp>$</samp>&rsquo;)).
</p>
<p>The following format parameters are defined for
<code>audit-trail-format</code> entries:
</p>
<dl compact="compact">
<dd><a name="index-format-parameters"></a>
</dd>
<dt> <code>$Fieldname</code></dt>
<dd><p>The name of the field for which an audit-trail entry is being created.
</p>
</dd>
<dt> <code>$OldValue</code></dt>
<dd><p>The old value of the field.
</p>
</dd>
<dt> <code>$NewValue</code></dt>
<dd><p>The new field value.
</p>
</dd>
<dt> <code>$EditUserEmailAddr</code></dt>
<dd><p>The email address of the user editing the field.  Set by the
<code>EDITADDR</code> <code>gnatsd</code> command or from the &lsquo;<tt>responsible</tt>&rsquo;
file; if not available, user&rsquo;s local address is used.
</p>
</dd>
<dt> <code>$CurrentDate</code></dt>
<dd><p>The current date.
</p>
</dd>
<dt> <code>$ChangeReason</code></dt>
<dd><p>The reason for the change; may be blank if no reason was supplied.
</p></dd>
</dl>

<p>These parameters may be used anywhere a <code>fieldname</code> can appear.
</p>
<hr size="6">
<a name="Outgoing-email-formats"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Audit_002dtrail-formats" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Index-file-description" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#dbconfig-file" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Outgoing-email-formats-1"></a>
<h3 class="subsection">4.3.7 Outgoing email formats</h3>
<a name="index-Outgoing-email-formats"></a>

<p>During the life of a PR, <small>GNATS</small> can be configured to send out a
range of email messages.  When a PR first arrives, an acknowledgment
message is sent out if the <code>send-submitter-ack</code> parameter above is
set to <code>true</code>.  Certain edits to the PR may also cause email to be
sent out to the various parties, and if a PR is deleted, <small>GNATS</small> may
send notification email.
</p>
<p>The formats of the email messages are controlled by <code>mail-format</code>
sections in the &lsquo;<tt>dbconfig</tt>&rsquo; file.  The general structure of a
<code>mail-format</code> section is as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">mail-format &quot;format-name&quot; {
&nbsp;&nbsp;from-address {
&nbsp;&nbsp;&nbsp;&nbsp;[ fixed-address &quot;address&quot; ]
&nbsp;&nbsp;&nbsp;&nbsp;[ email-header-name | [ mail-header-name | ... ] ]
&nbsp;&nbsp;}
&nbsp;&nbsp;to-address {
&nbsp;&nbsp;&nbsp;&nbsp;[ fixed-address &quot;address&quot; ] 
&nbsp;&nbsp;&nbsp;&nbsp;[ &quot;email-header-name&quot; | [ &quot;mail-header-name&quot; | ... ] ]
&nbsp;&nbsp;}
&nbsp;&nbsp;reply-to {
&nbsp;&nbsp;&nbsp;&nbsp;[ fixed-address &quot;address&quot; ]
&nbsp;&nbsp;&nbsp;&nbsp;[ &quot;email-header-name&quot; | ... ] | [ &quot;gnats-field-name&quot; | ... ]
&nbsp;&nbsp;}
&nbsp;&nbsp;header {
&nbsp;&nbsp;&nbsp;&nbsp;format &quot;formatstring&quot;
&nbsp;&nbsp;&nbsp;&nbsp;[ fields { &quot;fieldname&quot; [ &quot;fieldname&quot; ... ] } ]
&nbsp;&nbsp;}
&nbsp;&nbsp;body {
&nbsp;&nbsp;&nbsp;&nbsp;format &quot;formatstring&quot;
&nbsp;&nbsp;&nbsp;&nbsp;[ fields { &quot;fieldname&quot; [ &quot;fieldname&quot; ... ] } ]
&nbsp;&nbsp;}
}
</pre></td></tr></table>

<p><code>gnats</code> recognizes and uses 6 different <code>format-name</code> values:
</p>
<dl compact="compact">
<dd><a name="index-format_002dname"></a>
</dd>
<dt> <code>initial-response-to-submitter</code></dt>
<dd><a name="index-initial_002dresponse_002dto_002dsubmitter"></a>
<p>Format of the message used when mailing an initial response back to the
PR submitter.  This message will only be sent if
<code>send-submitter-ack</code> in the overall database configuration is set
to <code>true</code>.
</p>
</dd>
<dt> <code>initial-pr-notification</code></dt>
<dd><a name="index-initial_002dpr_002dnotification"></a>
<p>Format of the message sent to the responsible parties when a new PR with
category different from &ldquo;pending&rdquo; arrives.
</p>
</dd>
<dt> <code>initial-pr-notification-pending</code></dt>
<dd><a name="index-initial_002dpr_002dnotification_002dpending"></a>
<p>Format of the message sent to the responsible parties when a new PR that
ends up with category &ldquo;pending&rdquo; arrives.
</p>
</dd>
<dt> <code>appended-email-response</code></dt>
<dd><a name="index-appended_002demail_002dresponse"></a>
<p>Format of the notification message sent out when a response to a PR is
received via email.
</p>
</dd>
<dt> <code>audit-mail</code></dt>
<dd><a name="index-audit_002dmail"></a>
<p>Format of the message sent out when a PR edit generates an Audit-Trail
entry.
</p>
</dd>
<dt> <code>deleted-pr-mail</code></dt>
<dd><a name="index-deleted_002dpr_002dmail"></a>
<p>Format of the message sent out when a PR is deleted.
</p></dd>
</dl>

<p>The <code>from-address</code>, <code>to-address</code> and <code>reply-to</code>
subsections of a mail-format section specify the contents of the <code>To:</code>,
<code>From:</code> and <code>Reply-To:</code> headers in outgoing email.  There are
two ways to specify the contents: by using a <code>fixed-address</code>
specification, or by specifying <code>email-header-name</code>s or
<code>gnats-field-name</code>s.
</p>
<p>When an <code>email-header-name</code> or <code>gnats-field-name</code> value is
given, <small>GNATS</small> will attempt to extract an email address from the
specified location.  If several values are given on the same line,
separated by &lsquo;<samp>|</samp>&rsquo; characters, <small>GNATS</small> will try to extract an address
from each location in turn until it finds a header or field which is
nonempty.  The following example should clarify this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">mail-format &quot;initial-response-to-submitter&quot; {
&nbsp;&nbsp;from-address {
&nbsp;&nbsp;&nbsp;&nbsp;fixed-address &quot;gnats-admin&quot;
&nbsp;&nbsp;}
&nbsp;&nbsp;to-addresses {
&nbsp;&nbsp;&nbsp;&nbsp;&quot;Reply-To:&quot; | &quot;From:&quot; | &quot;Submitter-Id&quot;
&nbsp;&nbsp;} &hellip;
</pre></td></tr></table>

<p>This partial <code>mail-format</code> section specifies the format of the
address headers in the email message that is sent out as an
acknowledgment of a received PR.  The <code>From:</code> field of the message
will contain the email address of the <small>GNATS</small> administrator, as
specified by the <code>gnats-admin</code> line in the &lsquo;<tt>responsible</tt>&rsquo; file.
To fill in the <code>To:</code> header, <small>GNATS</small> will first look for the
mail header <code>Reply-To:</code> in the PR and use the contents of that, if
any.  If that header doesn&rsquo;t exist or is empty, it will look for the
contents of the <code>From:</code> email header, and if that yields nothing,
it will look for the <small>GNATS</small> <code>Submitter-Id</code> field and use the
contents of that.
</p>
<p>Other email headers to be included in messages sent out by <small>GNATS</small>
can be specified by <code>header</code> subsections of the <code>mail-header</code>
section.  <code>formatstring</code> and <code>fieldname</code> are similar to those
used by the named query format. Each header line must have a newline
character (&lsquo;<samp>\n</samp>&rsquo;) at the end.
</p>
<p>The email message body is specified in the <code>body</code> subsection of the
<code>mail-format</code> section. Just as for a <code>header</code> section, the
<code>body</code> section must contain a <code>formatstring</code> and
<code>fieldname</code> values.
</p>
<p>For some of the formats that <small>GNATS</small> recognizes, special variables
are available for use. The following table lists the formats that
provide special variables. See the example below for an illustration of
how they are used.
</p>
<dl compact="compact">
<dt> <code>appended-email-response</code></dt>
<dd><dl compact="compact">
<dt> <code>$MailFrom</code></dt>
<dd><p>The From: line of the original message.
</p>
</dd>
<dt> <code>$MailTo</code></dt>
<dd><p>The To: line of the original message.
</p>
</dd>
<dt> <code>$MailSubject</code></dt>
<dd><p>The Subject: line of the original message.
</p>
</dd>
<dt> <code>$MailCC</code></dt>
<dd><p>The CC: line of the original message.
</p>
</dd>
<dt> <code>$NewAuditTrail</code></dt>
<dd><p>The text of the new audit trail entry (corresponds to the body of the
message).
</p></dd>
</dl>

</dd>
<dt> <code>audit-mail</code></dt>
<dd><dl compact="compact">
<dt> <code>$EditUserEmailAddr</code></dt>
<dd><p>The email address of the user editing the PR.  Set by the
<code>EDITADDR</code> <code>gnatsd</code> command or from the &lsquo;<tt>responsible</tt>&rsquo;
file; if not available, user&rsquo;s local address is used.
</p>
</dd>
<dt> <code>$OldResponsible</code></dt>
<dd><p>The previous Responsible field entry, if it was changed.
</p>
</dd>
<dt> <code>$NewAuditTrail</code></dt>
<dd><p>The Audit-Trail: entries that have been appended by the edits.
</p></dd>
</dl>

</dd>
<dt> <code>deleted-pr-mail</code></dt>
<dd><dl compact="compact">
<dt> <code>$EditUserEmailAddr</code></dt>
<dd><p>The email address of the user deleting the PR.  Set by the
<code>EDITADDR</code> <code>gnatsd</code> command or from the &lsquo;<tt>responsible</tt>&rsquo;
file; if not available, user&rsquo;s local address is used.
</p>
</dd>
<dt> <code>$PRNum</code></dt>
<dd><p>The number of the PR that was deleted.
</p></dd>
</dl>
</dd>
</dl>

<p>The following example illustrates the use of these special variables:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">mail-format &quot;deleted-pr-mail&quot; {
&nbsp;&nbsp;from-address {
&nbsp;&nbsp;&nbsp;&nbsp;&quot;$EditUserEmailAddr&quot;
&nbsp;&nbsp;}
&nbsp;&nbsp;to-addresses {
&nbsp;&nbsp;&nbsp;&nbsp;fixed-address &quot;gnats-admin&quot;
&nbsp;&nbsp;}
&nbsp;&nbsp;header {
&nbsp;&nbsp;&nbsp;&nbsp;format &quot;Subject: Deleted PR %s\n&quot;
&nbsp;&nbsp;&nbsp;&nbsp;fields { &quot;$PRNum&quot; }
&nbsp;&nbsp;}
&nbsp;&nbsp;body {
&nbsp;&nbsp;&nbsp;&nbsp;format &quot;PR %s was deleted by user %s.\n&quot;
&nbsp;&nbsp;&nbsp;&nbsp;fields { &quot;$PRNum&quot; &quot;$EditUserEmailAddr&quot; }
&nbsp;&nbsp;}
}
</pre></td></tr></table>

<p>This <code>mail-format</code> section specifies the format of the email
message that is sent out when a PR is deleted. The <code>From:</code> field is
set to the email address field of the user who deleted the PR, the
subject of the message contains the number of the deleted PR, and the
message body contains both the PR number and the user&rsquo;s email address.
</p>
<hr size="6">
<a name="Index-file-description"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Outgoing-email-formats" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Initial-PR-input-fields" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#dbconfig-file" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Index-file-description-1"></a>
<h3 class="subsection">4.3.8 Index file description</h3>
<a name="index-Index-file-description"></a>

<p>The <code>index</code> section of the &lsquo;<tt>dbconfig</tt>&rsquo; file lists the fields
that appear in the database index.  The index is always keyed by PR
number.  The general format for the <code>index</code> section is
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">index {
&nbsp;&nbsp;path &quot;file&quot;
&nbsp;&nbsp;fields { &quot;fieldname&quot; [ &quot;fieldname&quot; ... ] }
&nbsp;&nbsp;binary-index true | false
&nbsp;&nbsp;[ separator &quot;symbol&quot; ]
}
</pre></td></tr></table>

<p>The <code>path</code> parameter gives the name of the index file in the
&lsquo;<tt>gnats-adm</tt>&rsquo; directory of the database.  Only one index is allowed
per database, so only one <code>path</code> entry is allowed.
</p>
<p>The <code>fields</code> parameter controls what fields will appear, and in
what order, in the index.  Fields are listed by their names, separated by
spaces (&lsquo;<samp> </samp>&rsquo;).  Fields will appear in the order they are listed.
</p>
<p>The <code>binary-index</code> parameter controls whether the index is supposed
to be in plaintext or binary format.  Binary format is recommended, as it
avoids potential problems when field separators appear as bona-fide
field contents.
</p>
<p>When plaintext format is used, by setting <code>binary-index false</code>, the
symbol (&lsquo;<samp>|</samp>&rsquo;) is used as a field separator in the index, unless
the optional <code>separator</code> parameter is used to redefine the
separator character.
</p>
<hr size="6">
<a name="Initial-PR-input-fields"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Index-file-description" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Other-config-files" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#dbconfig-file" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Initial-PR-input-fields-1"></a>
<h3 class="subsection">4.3.9 Initial PR input fields</h3>
<a name="index-Initial-PR-input-fields"></a>

<p>An <code>initial-entry</code> section in the &lsquo;<tt>dbconfig</tt>&rsquo; file is used to
describe which fields should be present on initial PR entry; this is
used by tools such as send-pr to determine which fields to include in a
&ldquo;blank&rdquo; PR template. An optional <code>require</code> parameter can be
defined to specify a subset of the <code>intial-entry</code> fields which must
be assigned a value upon initial creation of the PR.
</p>
<p>The general format for the <code>initial-entry</code> section is
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">initial-entry {
&nbsp;&nbsp;fields { &quot;fieldname&quot; [ &quot;fieldname&quot; ... ] }
&nbsp;&nbsp;[ require { &quot;fieldname&quot; [ &quot;fieldname&quot; ... ] } ]
}
</pre></td></tr></table>

<hr size="6">
<a name="Other-config-files"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Initial-PR-input-fields" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#categories-file" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Other-database_002dspecific-config-files"></a>
<h2 class="section">4.4 Other database-specific config files</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#categories-file">4.4.1 The <code>categories</code> file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#responsible-file">4.4.2 The <code>responsible</code> file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#submitters-file">4.4.3 The <code>submitters</code> file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#states-file">4.4.4 The <code>states</code> file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#addresses-file">4.4.5 The <code>addresses</code> file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#classes-file">4.4.6 The <code>classes</code> file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="categories-file"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Other-config-files" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#responsible-file" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Other-config-files" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-categories-file"></a>
<h3 class="subsection">4.4.1 The <code>categories</code> file</h3>
<a name="index-categories-file-1"></a>

<p>The &lsquo;<tt>categories</tt>&rsquo; file contains a list of problem categories,
specific to the database, which <small>GNATS</small> tracks.  This file also
matches responsible people with these categories.  You must edit this
file initially, creating valid categories.  In most installations,
<small>GNATS</small> is configured to create directories on disk for valid
categories automatically as needed (see section <a href="#Overall-database-configuration">Overall database configuration</a>). If <small>GNATS</small> isn&rsquo;t set
up to do this, you need to run <code>mkcat</code> to create the corresponding
subdirectories of the database directory. For instructions on running
<code>mkcat</code>, see <a href="#mkcat">Adding a problem category</a>.
</p>
<p>To create a new category, log in as <small>GNATS</small>, add a line to this file,
and run <code>mkcat</code> if applicable.  Lines beginning with &lsquo;<samp>#</samp>&rsquo; are
ignored.
</p>
<p>A line in the &lsquo;<tt>categories</tt>&rsquo; file consists of four fields delimited
by colons, as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><var>category</var>:<var>description</var>:<var>responsible</var>:<var>notify</var>
</pre></td></tr></table>

<dl compact="compact">
<dt> <var>category</var></dt>
<dd><p>A unique category name, made up of text characters.  This name cannot
contain spaces or any of the following characters:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">! $ &amp; * ( ) { } [ ] ` ' &quot; ; : &lt; &gt; ~
</pre></td></tr></table>

<p>Ideally, category names should not contain commas or begin with periods.
Each line has a corresponding subdirectory in the database directory.
</p>
</dd>
<dt> <var>description</var></dt>
<dd><p>A terse textual description of the category.
</p>
</dd>
<dt> <var>responsible</var></dt>
<dd><p>The name tag of the party responsible for this category of problems, as
listed in the &lsquo;<tt>responsible</tt>&rsquo; file (see section <a href="#responsible-file">The <code>responsible</code> file</a>).
</p>
</dd>
<dt> <var>notify</var></dt>
<dd><p>One or more other parties which should be notified when a Problem Report
with this category arrives, such as a project manager, other members of
the same project, other interested parties, or even log files.  These
should be separated with commas.
</p></dd>
</dl>

<p>A good strategy for configuring this file is to have a different
category for each product your organization supports or wishes to track
information for.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">rock:ROCK program:me:myboss,fred
stone:STONE utils:barney:fred
iron:IRON firewall:me:firewall-log
</pre></td></tr></table>

<p>In the above example, the nametags &lsquo;<samp>myboss</samp>&rsquo;, &lsquo;<samp>me</samp>&rsquo;,
&lsquo;<samp>fred</samp>&rsquo;, and &lsquo;<samp>barney</samp>&rsquo; must be defined in the &lsquo;<tt>responsible</tt>&rsquo;
file (see section <a href="#responsible-file">The <code>responsible</code> file</a>).
</p>
<p>Problem Reports with a category of &lsquo;<samp>rock</samp>&rsquo; are sent to the local
mail address (or alias) &lsquo;<samp>me</samp>&rsquo;, and also sent to the addresses
&lsquo;<samp>myboss</samp>&rsquo; and &lsquo;<samp>fred</samp>&rsquo;.  PRs with a category of &lsquo;<samp>stone</samp>&rsquo; are
sent to the local addresses &lsquo;<samp>barney</samp>&rsquo; and &lsquo;<samp>fred</samp>&rsquo; only, while
PRs with the category &lsquo;<samp>iron</samp>&rsquo; are sent only to &lsquo;<samp>me</samp>&rsquo;, and are
also filed in <code>firewall-log</code> (in this case, a mail alias should be set
up, see section <a href="#Aliases">Setting up mail aliases</a>.
</p>
<p>If you want to separate PRs in each problem category into specific
subsets, say <em>documentation</em> and <em>software bugs</em>,
using the &lsquo;<tt>classes</tt>&rsquo; file is recommended.  See section <a href="#classes-file">The &lsquo;<tt>classes</tt>&rsquo; file</a>.
</p>
<p>Only one category <em>must</em> be present for <small>GNATS</small> to function:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">pending:Non-categorized PRs:gnats-admin:
</pre></td></tr></table>

<a name="index-pending-file"></a>
<p>The &lsquo;<tt>pending</tt>&rsquo; directory is created automatically when you run
<code>mkdb</code> to initialize a new database.  (see section <a href="#Configure-and-make">Configuring and compiling the software</a>).
</p>
<hr size="6">
<a name="responsible-file"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#categories-file" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#submitters-file" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Other-config-files" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-responsible-file"></a>
<h3 class="subsection">4.4.2 The <code>responsible</code> file</h3>
<a name="index-responsible-file-1"></a>

<p>This file contains a list of the responsible parties.  Lines beginning
with &lsquo;<samp>#</samp>&rsquo; are ignored.  Each entry contains three fields, separated
by colons:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><var>responsible</var>:<var>full-name</var>:<var>mail-address</var>
</pre></td></tr></table>

<dl compact="compact">
<dt> <var>responsible</var></dt>
<dd><p>A name-tag description of the party in question, such as her or his user
name, or the name of the group.  This name is listed in the PR in
the <code>Responsible</code> field.
</p>
</dd>
<dt> <var>full-name</var></dt>
<dd><p>The full name of the party (&ldquo;Charlotte Bronte&rdquo;; &ldquo;Compiler Group&rdquo;).
</p>
</dd>
<dt> <var>mail-address</var></dt>
<dd><p>The full, valid mail address of the party.  This field is only necessary
if the responsible party has no local mail address or alias.
</p></dd>
</dl>

<p>A sample &lsquo;<tt>responsible</tt>&rsquo; listing might be:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">ren:Ren Hoek:
stimpy:Stimpson J. Cat:stimpy@lederhosen.org
</pre></td></tr></table>

<p>Here, <code>ren</code> is a local user.  <code>stimpy</code> is remote, so his full
address must be specified.
</p>
<p>The following entry <em>must</em> be present for <small>GNATS</small> to function:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">gnats-admin:GNATS administrator:
</pre></td></tr></table>

<p><code>gnats-admin</code> is usually defined as a mail alias when <small>GNATS</small> is
installed, so for this purpose <code>gnats-admin</code> is a local address.
However, this line can alos be used to redefine the email address of the
<small>GNATS</small> administrator, by adding the desired address at the end of
the line.
</p>
<hr size="6">
<a name="submitters-file"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#responsible-file" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#states-file" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Other-config-files" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-submitters-file"></a>
<h3 class="subsection">4.4.3 The <code>submitters</code> file</h3>
<a name="index-submitters-file-1"></a>

<p>This is a database of sites which submit bugs to your support site.  It
contains six fields delineated by colons.  Lines beginning with &lsquo;<samp>#</samp>&rsquo;
will be ignored.
</p>
<p>Entries are of the format:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><var>submitter-id</var>:<var>name</var>:<var>type</var>:<var>resp-time</var>:<var>contact</var>:<var>notify</var>
</pre></td></tr></table>

<dl compact="compact">
<dt> <var>submitter-id</var></dt>
<dd><p>A unique identifier for a specific site or other entity who submits
Problem Reports. The first <code>submitter-id</code> listed in the file will
be the default for PRs that arrive with invalid or empty submitter
fields.
</p>
</dd>
<dt> <var>name</var></dt>
<dd><p>The full name or a description of this entity.
</p>
</dd>
<dt> <var>type</var></dt>
<dd><p>Optional description for the type of relationship of this submitter to
your support site.  This could indicate a contract type, a level of
expertise, etc., or it can remain blank.
</p>
</dd>
<dt> <var>resp-time</var></dt>
<dd><p>Optional quoted response time in <em>business hours</em>.  If the
database &lsquo;<tt>dbconfig</tt>&rsquo; file has the <code>notify-about-expired-prs</code>
entry set to <var>true</var> (see section <a href="#Overall-database-configuration">Overall database configuration</a>, <small>GNATS</small> will use
this field to schedule when it should notify the gnats-admin,
responsible person and submitter contact that the PR wasn&rsquo;t analyzed
within the agreed response time.  Business hours and business-week
days are set in the &lsquo;<tt>dbconfig</tt>&rsquo; file.  For information on
<code>at-pr</code>, the program which sends out this reminder, see
<a href="#at_002dpr">Timely Reminders</a>.
</p>
</dd>
<dt> <var>contact</var></dt>
<dd><p>The name tag of the main <em>contact</em> at the Support Site for this
submitter.  This contact should be in the &lsquo;<tt>responsible</tt>&rsquo; file
(see section <a href="#responsible-file">The <code>responsible</code> file</a>).  Incoming bugs
from <var>submitter</var> are sent to this contact.  Optionally, this field
can be left blank.
</p>
</dd>
<dt> <var>notify</var></dt>
<dd><p>Any other parties who should receive copies of Problem Reports sent in
by <var>submitter</var>.  They need not be listed in the &lsquo;<tt>responsible</tt>&rsquo; file.
</p></dd>
</dl>

<p>A few example entries in the &lsquo;<tt>submitters</tt>&rsquo; file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">univ-hell:University of Hades:eternal:3:beelzebub:lucifer
tta:Telephones and Telegraphs of America:support:720:dave:
</pre></td></tr></table>

<p>In this example, when a PR comes in from the University of Hades (who
has an eternal contract), it should have &lsquo;<samp>univ-hell</samp>&rsquo; in its
<code>Submitter-Id</code> field.  This Problem Report goes to <code>beelzebub</code>
(who should be in the &lsquo;<tt>responsible</tt>&rsquo; file), and if it is not
analyzed within three business hours a reminder message is sent.
<code>lucifer</code> also receives a copy of the bug, and a copy of the
reminder message as well (if it is sent).  When Telephones and
Telegraphs of America utilizes their support contract and submits a bug,
a copy is sent only to <code>dave</code>, who has 720 business hours to return
an analysis before a reminder is sent.
</p>
<a name="index-disabling-submitter_002did"></a>
<p>To disable the feature of <small>GNATS</small> which tracks the
<code>Submitter-Id</code>, simply alter the &lsquo;<tt>submitters</tt>&rsquo; file to only
contain one <var>submitter-id</var> value, and instruct your submitters to
ignore the field.
</p>
<hr size="6">
<a name="states-file"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#submitters-file" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#addresses-file" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Other-config-files" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-states-file"></a>
<h3 class="subsection">4.4.4 The <code>states</code> file</h3>
<a name="index-states-file-1"></a>

<p>This file lists the possible states for Problem Reports.  Each entry
has up to three fields, separated by colons.  Lines beginning with
&lsquo;<samp>#</samp>&rsquo; will be ignored.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><var>state</var>:<var>type</var>:<var>description</var>
</pre></td></tr></table>

<dl compact="compact">
<dt> <var>state</var></dt>
<dd><p>The name of the state.  It may contain alphanumerics as well as
&lsquo;<samp>-</samp>&rsquo; (hyphen), &lsquo;<samp>_</samp>&rsquo; (underscore), or &lsquo;<samp>.</samp>&rsquo; (period), but no
other characters.
</p>
</dd>
<dt> <var>type</var></dt>
<dd><p>This is the type of the state.  This field is optional and it may
contain alphanumerics as well as &lsquo;<samp>-</samp>&rsquo; (hyphen), &lsquo;<samp>_</samp>&rsquo;
(underscore), or &lsquo;<samp>.</samp>&rsquo; (period), but no other characters.
</p>
<p>The concept of the type of a state recognizes that there may for
instance be several possible states for a Problem Report which
effectively means that the PR is closed and that there may be certain
actions that need to be taken when a PR reaches a &ldquo;closed state&rdquo;.
The problem may have been resolved, it might have been decided that
the problem is unsolvable or simply that it won&rsquo;t be solved.  Some
organizations may for instance wish to consider the &ldquo;suspended&rdquo;
state as a state of type &ldquo;closed&rdquo;.
</p>
<p>Currently, the only defined state types are &ldquo;open&rdquo; and &ldquo;closed&rdquo;,
the &ldquo;open&rdquo; type isn&rsquo;t currently used for anything while the
&ldquo;closed&rdquo; type is only used to control the Closed-Date field of PRs.
Changing the state of a PR to any state of type &ldquo;closed&rdquo; will set
the Closed-Date field with a time stamp and changing the state of a PR
from one &ldquo;closed&rdquo; state to another will leave the Closed-Date field
as it was.  Changing the state of a PR from any state of type
&ldquo;closed&rdquo; to a non-closed state will clear the Closed-Date field.
</p>
<p>The <code>--skip-closed</code> option of <code>query-pr</code> refers to all
states of type &ldquo;closed&rdquo;, not to a specific state name of &ldquo;closed&rdquo;.
</p>
</dd>
<dt> <var>description</var></dt>
<dd><p>This is is an optional one-line description of what the state means.
Any character is okay in the description; a newline ends it.
<small>GNATS</small> itself does not currently use the description for anything,
but certain external tools (such as TkGnats and Gnatsweb) look for it,
so it&rsquo;s a good idea to include one for every state.
</p></dd>
</dl>

<p>The first state listed will be the state automatically assigned to
Problem Reports when they arrive; by default this is named &ldquo;open&rdquo;.
The last state listed is the end state for Problem Reports &mdash; one
should usually assume that a PR in this state is not being actively
worked on; by default this state is named &ldquo;closed&rdquo;.  Even if a
different name has been chosen for this state, <small>GNATS</small> will force
this state to be of type &ldquo;closed&rdquo;.
</p>
<p>It is recommended that you keep the default names of &ldquo;open&rdquo; and
&ldquo;closed&rdquo; for the first and last states respectively, since there may
be external tools that depend on these names.
</p>
<hr size="6">
<a name="addresses-file"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#states-file" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#classes-file" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Other-config-files" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-addresses-file"></a>
<h3 class="subsection">4.4.5 The <code>addresses</code> file</h3>
<a name="index-addresses-file-1"></a>

<p>This file contains mappings between submitter IDs and corresponding e-mail 
addresses.
</p>
<p>When a PR comes in without a submitter ID (if someone sends unformatted
e-mail to the PR submission email address), <small>GNATS</small> will try to
derive the submitter ID from the address in the &quot;From:&quot; header.  The
entries in this file consist of two fields, separated by a colon:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><var>submitter-id</var>:<var>address-fragment</var>
</pre></td></tr></table>

<dl compact="compact">
<dt> <var><var>submitter-id</var></var></dt>
<dd><p>A valid submitter ID
</p>
</dd>
<dt> <var><var>address-fragment</var></var></dt>
<dd><p>Part of, or all of the e-mail address to be matched
</p></dd>
</dl>

<p>Here is an example of an <code>addresses</code> file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"># Addresses for Yoyodine Inc
yoyodine:yoyodine.com
yoyodine:yoyodine.co.uk
# Addresses for Foobar Inc.
foobar1:sales.foobar.com
foobar2:admin.foobar.com
foobar3:clark@research.foobar.com
</pre></td></tr></table>

<p><small>GNATS</small> checks each line in the <code>addresses</code> file, comparing 
<var>address-fragment</var> to the end of the &quot;From:&quot; header, until it finds
a match.  If no match is found, <small>GNATS</small> uses the default submitter ID.
</p>
<p>You can only have one address fragment per line, but you can have more than
one line for a given submitter ID.  An address fragment can be a domain
(i.e. yoyodine.com), a machine location (admin.foobar.com), or a full e-mail
address (clark@research.foobar.com).
</p>
<p><small>GNATS</small> can match addresses in three e-mail formats:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>From: name@address.com</samp>&rsquo;</dt>
<dd><p>The address by itself without a full name, not enclosed in brackets
</p>
</dd>
<dt> &lsquo;<samp>From: Real Person &lt;name@address.com&gt;</samp>&rsquo;</dt>
<dd><p>A full name (optional, with or without quotation marks), followed by the 
address enclosed in angle brackets
</p>
</dd>
<dt> &lsquo;<samp>From: name@address.com (Real Person)</samp>&rsquo;</dt>
<dd><p>An address, followed by a name or comment in parentheses
</p></dd>
</dl>

<p>If <small>GNATS</small> sees other e-mail address formats, it uses the default
submitter ID.
</p>
<hr size="6">
<a name="classes-file"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#addresses-file" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#send_002dpr_002econf-file" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Other-config-files" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-classes-file"></a>
<h3 class="subsection">4.4.6 The <code>classes</code> file</h3>
<a name="index-classes-file-1"></a>
<p>This file lists the possible classes of Problem Reports.  Each line
consists of a class name, followed by a colon and an optional class type
name (the class type name is not used for anything in the current
implementation of <small>GNATS</small>, so it may be left blank.  The <code>class</code>
and <code>class-type-name</code> fields may only contain alphanumerics,
&lsquo;<samp>-</samp>&rsquo;, &lsquo;<samp>_</samp>&rsquo;, and &lsquo;<samp>.</samp>&rsquo;, but no other
characters.
</p>
<p>Then comes another colon, followed by an optional one-line
description of the class.  <small>GNATS</small> itself does not use the class
description, but external tools such as Gnatsweb and TkGnats may use it.
Therefore, a line in this file should at least contain the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">class::class description
</pre></td></tr></table>

<p>Lines beginning with &lsquo;<samp>#</samp>&rsquo; will be ignored, and the first listed
class is the default class for an incoming Problem Report.
</p>
<hr size="6">
<a name="send_002dpr_002econf-file"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#classes-file" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Admin-files" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-send_002dpr_002econf-file"></a>
<h2 class="section">4.5 The &lsquo;<tt>send-pr.conf</tt>&rsquo; file</h2>
<a name="index-send_002dpr_002econf-file"></a>
<p>This file contains some default values that need to be known in order
for <code>send-pr</code> to work properly.  This file needs to be copied to
all hosts where <code>send-pr</code> will be used.
</p>
<p>If <small>GNATS</small> was built with default options, the &lsquo;<tt>send-pr.conf</tt>&rsquo;
file should be placed in the &lsquo;<tt>/usr/local/etc/gnats</tt>&rsquo; directory.
However, if the option <code>--sysconfdir</code> was used during building of
<small>GNATS</small>, the &lsquo;<tt>send-pr.conf</tt>&rsquo; file resides at the location
given to this option.
</p>
<p>Entries in this file are on the format
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">variable=<var>value</var>
</pre></td></tr></table>

<p>The valid variables are:
</p>
<dl compact="compact">
<dt> <code>SUBMITTER</code></dt>
<dd><p>The default value to be used for the Submitter-Id field when
<code>send-pr</code> is invoked.
</p>
</dd>
<dt> <code>DEFAULT_RELEASE</code></dt>
<dd><p>The default value to be used for the Release field (only applicable if
the Release field is defined in the &lsquo;<tt>dbconfig</tt>&rsquo; file.
</p>
</dd>
<dt> <code>DEFAULT_ORGANIZATION</code></dt>
<dd><p>The default value to be used for the Organization field.  (only
applicable if the Organization field is defined in the &lsquo;<tt>dbconfig</tt>&rsquo;
file.
</p>
</dd>
<dt> <code>MAILPROG</code></dt>
<dd><p>If the <small>GNATS</small> server can&rsquo;t be reached directly over the network,
i.e. it is behind a firewall or suchlike, <code>send-pr</code> can be set up
to submit Problem Reports by e-mail.  This is done by setting the
<code>MAILPROG</code> variable to point to a mailer such as Sendmail.  If
<code>MAILPROG</code> needs to have the address that the mail is being sent
to specified on the command line, it should be specified here as well
(for example, &lsquo;<samp>MAILPROG=''mail bugs@foo.bar.com''</samp>&rsquo; should work).
If Sendmail is used, use &lsquo;<samp>MAILPROG=''/usr/lib/sendmail -oi
-t''</samp>&rsquo;.  See also <code>MAILADDR</code> and <code>TEMPLATE</code> below.
</p>
</dd>
<dt> <code>MAILADDR</code></dt>
<dd><p>If using e-mail to submit PRs, this is the address that PRs should be
sent to.
</p>
</dd>
<dt> <code>TEMPLATE</code></dt>
<dd><p>When invoked, <code>send-pr</code> communicates directly over the network
with the <small>GNATS</small> server to determine what fields to include in a
correctly formatted Problem Report so that it can present the user
with a template.  If the <small>GNATS</small> server can&rsquo;t be reached directly
over the network, a template must be provided.  Set the
<code>TEMPLATE</code> variable to point to a template file created on the
<small>GNATS</small> server by using the command <code>send-pr -p</code>.
See section <a href="#Installing-tools">Installing the user tools</a>.
</p></dd>
</dl>

<hr size="6">
<a name="Admin-files"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#send_002dpr_002econf-file" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#index-file" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Administrative-data-files"></a>
<h2 class="section">4.6 Administrative data files</h2>
<a name="index-admin-files"></a>
<a name="index-files-used-for-GNATS-administration"></a>

<p>The following files are database-specific and are located in the
&lsquo;<tt>gnats-adm</tt>&rsquo; subdirectory of the database directory.  These files
are maintained by <small>GNATS</small>; you should never need to touch them.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#index-file">4.6.1 The <code>index</code> file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      The &lsquo;index&rsquo; file
</td></tr>
<tr><td align="left" valign="top"><a href="#current-file">4.6.2 The <code>current</code> file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    The &lsquo;current&rsquo; file
</td></tr>
</table>

<hr size="6">
<a name="index-file"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Admin-files" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#current-file" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Admin-files" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-index-file"></a>
<h3 class="subsection">4.6.1 The <code>index</code> file</h3>
<a name="index-index-file"></a>

<p>The index is used to accelerate searches on the database by
<code>query-pr</code> and <code>edit-pr</code>.  This file is not created until the
first PR comes in.  It is then kept up to date by <small>GNATS</small>; you should
never touch this file.
</p>
<p>Searches on subjects contained in the index are much faster than
searches which depend on data not in the index.  Inexes come in two
different formats: <em>binary</em> and <em>plain-text</em>.  Binary indexes
are safer, in that they avoid certain problems that may crop up if the
field separators used by plain-text indexes appear in field data.
</p>
<p>A plain-text index contains single-line entries for all PR fields
except for the multitext fields such as Description, How-To-Repeat,
etc. Fields are separated by bars (&lsquo;<samp>|</samp>&rsquo;) except for
<code>Category</code> and <code>Number</code>, which are separated by a slash
(&lsquo;<samp>/</samp>&rsquo;).
</p>
<p>Binary indexes are not meant to be human-readable, but they are safer
than the plain-text variety, in that they avoid certain problems that may
crop up if the field separators used by plain-text indexes appear in
field data.
</p>
<p>The format of the index for a database is set in the &lsquo;<tt>dbconfig</tt>&rsquo;
file. See section <a href="#Index-file-description">Index file description</a>.
</p>
<p>Should the &lsquo;<tt>index</tt>&rsquo; file become corrupted, the <code>gen-index</code>
utility can be used to regenerate it. See section <a href="#gen_002dindex">Regenerating the index</a>.
</p>
<hr size="6">
<a name="current-file"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#index-file" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Admin-utils" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Admin-files" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-current-file"></a>
<h3 class="subsection">4.6.2 The <code>current</code> file</h3>
<a name="index-current-file"></a>

<p>This file contains the last serial number assigned to an incoming PR.
It is used internally by <small>GNATS</small>; you need never touch this file.
</p>
<hr size="6">
<a name="Admin-utils"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#current-file" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#mkdb" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Administrative-utilities"></a>
<h2 class="section">4.7 Administrative utilities</h2>
<a name="index-administrative-utilities"></a>

<p>These tools are used by the <small>GNATS</small> administrator as part of the
periodic maintenance and configuration of <small>GNATS</small>.
See section <a href="#Management"><small>GNATS</small> Administration</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#mkdb">4.7.1 Adding another database</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#mkcat">4.7.2 Adding a problem category</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#rmcat">4.7.3 Removing a problem category</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#gen_002dindex">4.7.4 Regenerating the index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#check_002ddb">4.7.5 Checking database health</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#gnats_002dpwconv">4.7.6 Managing user passwords</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="mkdb"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Admin-utils" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#mkcat" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Admin-utils" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Adding-another-database"></a>
<h3 class="subsection">4.7.1 Adding another database</h3>
<a name="index-mkdb-1"></a>
<a name="index-initializing-a-database"></a>
<a name="index-new-database"></a>

<p>To initialize a new <small>GNATS</small> database:
</p>
<ol>
<li>
Add a line for the new database in the &lsquo;<tt>databases</tt>&rsquo; file
(see section <a href="#Locations">Where <small>GNATS</small> lives</a>.

</li><li>
Run <code>mkdb</code>, using

<table><tr><td>&nbsp;</td><td><pre class="smallexample">mkdb <var>database</var>
</pre></td></tr></table>

<p>where <var>database</var> is the database you specified in the
&lsquo;<tt>databases</tt>&rsquo; file.  <code>mkdb</code> creates the database directory and
populates it with the directories &lsquo;<tt>pending</tt>&rsquo;, &lsquo;<tt>gnats-queue</tt>&rsquo;
and &lsquo;<tt>gnats-adm</tt>&rsquo;.  A full set of sample configuration files is
copied to the &lsquo;<tt>gnats-adm</tt>&rsquo; directory.
</p></li></ol>

<hr size="6">
<a name="mkcat"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#mkdb" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#rmcat" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Admin-utils" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Adding-a-problem-category"></a>
<h3 class="subsection">4.7.2 Adding a problem category</h3>
<a name="index-mkcat-1"></a>
<a name="index-adding-a-problem-category-1"></a>
<a name="index-new-problem-categories"></a>
<a name="index-categories-file-2"></a>

<p>To add new categories to the database:
</p>
<ol>
<li> 
Add a line to for each new category to the &lsquo;<tt>categories</tt>&rsquo; file in the
gnats-adm directory of the database. See section <a href="#categories-file">The <code>categories</code> file</a>.

</li><li>
Run <code>mkcat</code> If applicable.  If <code>create-category-dirs</code> is set
to <code>false</code> in the database &lsquo;<tt>dbconfig</tt>&rsquo; file, you need to create
category directories with <code>mkcat</code>.  <code>mkcat</code> creates a
subdirectory under the database directory for any new categories which
appear in the &lsquo;<tt>categories</tt>&rsquo; file.
</li></ol>

<hr size="6">
<a name="rmcat"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#mkcat" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gen_002dindex" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Admin-utils" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Removing-a-problem-category"></a>
<h3 class="subsection">4.7.3 Removing a problem category</h3>
<a name="index-rmcat-1"></a>
<a name="index-removing-a-problem-category-1"></a>
<a name="index-categories-file-3"></a>

<p>To remove a category from the database:
</p>
<ol>
<li>
Remove the Problem Reports from the subdirectories corresponding to the
categories you wish to remove, or assign the PRs to new categories.  All
PRs for a given category reside in a subdirectory of the database
directory, with the same name as the category.

</li><li>
Run <code>rmcat</code> using

<table><tr><td>&nbsp;</td><td><pre class="smallexample">rmcat <var>category</var> [ <var>category&hellip;</var> ]
</pre></td></tr></table>

<p>where <var>category</var> is the category you wish to remove.  You can
specify as many categories as you wish as long as each category has no
PRs associated with it.  <code>rmcat</code> removes the directory where the
Problem Reports for that category had been stored.
</p></li></ol>


<hr size="6">
<a name="gen_002dindex"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#rmcat" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#check_002ddb" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Admin-utils" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Regenerating-the-index"></a>
<h3 class="subsection">4.7.4 Regenerating the index</h3>
<a name="index-gen_002dindex-1"></a>
<a name="index-index-file-1"></a>

<p>If your &lsquo;<tt>index</tt>&rsquo; file becomes corrupted, or if you need a copy of
the current index for some reason, use
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">gen-index [ -n | --numeric ]
          [ -d <var>databasename</var> | --database=<var>databasename</var> ]
          [ -o <var>filename</var> | --outfile=<var>filename</var> ]
          [ -i | --import ] [ -e | --export ]
          [ -h | --help] [ -V | --version ]
</pre></td></tr></table>

<p>With no options, <code>gen-index</code> generates an index that is sorted by
the order that the categories appear in the &lsquo;<tt>categories</tt>&rsquo; file. The
index is generated in plaintext or binary format according to the value
of <code>binary-index</code> in the &lsquo;<tt>dbconfig</tt>&rsquo; file (see section <a href="#Index-file-description">Index file description</a>).  The results are printed to
standard output.  The options are:
</p>
<dl compact="compact">
<dt> <code>-n</code></dt>
<dt> <code>--numeric</code></dt>
<dd><p>Sorts index entries numerically.
</p>
</dd>
<dt> <code>-d <var>databasename</var></code></dt>
<dt> <code>--database=<var>databasename</var></code></dt>
<dd><p>Specifies the database to index.  If this option is left out,
<code>gen-index</code> attempts to index the database with name taken from the
the <var>GNATSDB</var> environment variable, and if that is undefined, the
default database, as set when <small>GNATS</small> was built (usually
<code>default</code>).
</p>
</dd>
<dt> <code>-o <var>filename</var></code></dt>
<dt> <code>--outfile=<var>filename</var></code></dt>
<dd><p>Places output in <var>filename</var> rather than sending it to standard
output.
</p>
</dd>
<dt> <code>-i</code></dt>
<dt> <code>--import</code></dt>
<dd><p>Import the existing index file instead of re-indexing the database.
</p>
</dd>
<dt> <code>-e</code></dt>
<dt> <code>--export</code></dt>
<dd><p>Force plaintext output.
</p>
</dd>
<dt> <code>-h</code></dt>
<dt> <code>--help</code></dt>
<dd><p>Prints the usage for <code>gen-index</code>.
</p>
</dd>
<dt> <code>-V</code></dt>
<dt> <code>--version</code></dt>
<dd><p>Prints the version number for <code>gen-index</code>.
</p></dd>
</dl>

<hr size="6">
<a name="check_002ddb"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#gen_002dindex" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnats_002dpwconv" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Admin-utils" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Checking-database-health"></a>
<h3 class="subsection">4.7.5 Checking database health</h3>
<a name="index-check_002ddb"></a>

<p>The &lsquo;<tt>check-db</tt>&rsquo; script is useful for performing periodic checks on
database health.  It accepts the following options:
</p>
<dl compact="compact">
<dt> <code>-d <var>databasename</var></code></dt>
<dt> <code>--database=<var>databasename</var></code></dt>
<dd><p>Determines the database which to operate on.
</p>
</dd>
<dt> <code>--all-databases</code></dt>
<dd><p>Check all <small>GNATS</small> databases on the system.  This option takes
precedence over the <code>--database</code> option.
</p></dd>
</dl>

<p>If no option is given, the default database is checked.
</p>
<p>During its operation, <code>check-db</code> first attempts to lock
<var>database</var>.  If this is not possible, it repeats the locking
attempts for five minutes; if it fails, it sends a mail message
notifying the administrator of the failure and exits.
</p>
<p>Once the database is locked, the script searches the database for lock
files that are more than 24 hours old.  Any old lock files are reported
to the administrator in a mail message.
</p>
<p>After checking for old lock files, it calls <code>gen-index</code>
(see section <a href="#gen_002dindex">Regenerating the index</a>) and compares the
results with the current &lsquo;<tt>index</tt>&rsquo; file of the database; any
inconsistencies are reported to the administrators in a mail message.
</p> 
<p>After checking the index file for inconsistencies, the script unlocks
the database and exits.
</p>
<hr size="6">
<a name="gnats_002dpwconv"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#check_002ddb" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Internal-utils" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Admin-utils" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Managing-user-passwords"></a>
<h3 class="subsection">4.7.6 Managing user passwords</h3>
<a name="index-gnats_002dpwconv"></a>

<p>Older versions of <small>GNATS</small>, up to and including version 3.x, stored
user passwords in plaintext in the &lsquo;<tt>gnatsd.user_access</tt>&rsquo; files. Version 4
has the options of storing the password as MD5 or standard DES
<code>crypt()</code> hashes (as most UNIX versions do in the system password
files) as well as in plaintext. Since the password strings require a
prefix to indicate how they are encrypted, one is forced to convert the
old password files to a new format when upgrading to <small>GNATS</small> version
4. See section <a href="#Upgrading">Upgrading from older versions</a>.
</p>
<p>The <code>gnats-pwconv</code> tool takes care of converting the old password
files to the new format:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">gnats-pwconv [ -c | --crypt ] [ -m | --md5 ] [ -p | --plaintext ]
         [ -h | --help] [ -V | --version ] <var>INFILE</var> [<var>OUTFILE</var>]
</pre></td></tr></table>

<p>Unless the <code>--version</code> or <code>--help</code> options are given, exactly
one encryption method must be specified, as well as an input file. The
output file parameter is optional. If one is not specified, results will
be printed on standard output.
</p>
<hr size="6">
<a name="Internal-utils"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#gnats_002dpwconv" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#queue_002dpr" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Management" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Internal-utilities"></a>
<h2 class="section">4.8 Internal utilities</h2>
<a name="index-internal-utilities"></a>

<p>These tools are used internally by <small>GNATS</small>.  You should never need to
run these by hand; however, a complete understanding may help you locate
problems with the <small>GNATS</small> tools or with your local implementation.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#queue_002dpr">4.8.1 Handling incoming traffic</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#file_002dpr">4.8.2 Processing incoming traffic</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#at_002dpr">4.8.3 Timely reminders</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#pr_002dedit">4.8.4 The <code>edit-pr</code> driver</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     The edit-pr driver
</td></tr>
<tr><td align="left" valign="top"><a href="#diff_002dprs">4.8.5 The <code>diff-prs</code> tool</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#pr_002dage">4.8.6 The <code>pr-age</code> tool</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="queue_002dpr"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Internal-utils" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#file_002dpr" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Internal-utils" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Handling-incoming-traffic"></a>
<h3 class="subsection">4.8.1 Handling incoming traffic</h3>
<a name="index-queue_002dpr"></a>
<a name="index-handling-incoming-traffic"></a>

<p>The program <code>queue-pr</code> handles traffic coming into <small>GNATS</small>.
<code>queue-pr</code> queues incoming Problem Reports in the
&lsquo;<tt>gnats-queue</tt>&rsquo; directory of the database, and then periodically (via
<code>cron</code>) passes them on to <code>file-pr</code> to be filed in the
<small>GNATS</small> database.  See section <a href="#Installation">Installing <small>GNATS</small></a>.
</p>
<p>The usage for <code>queue-pr</code> is as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">queue-pr [ -q | --queue ] [ -r | --run ]
         [ -f <var>filename</var> | --file=<var>filename</var> ]
         [ -m <var>kbytes</var> | --max-size=<var>kbytes</var> ]
         [ -d <var>databasename</var> | --database=<var>databasename</var> ]
         [ -h | --help] [ -V | --version ]
</pre></td></tr></table>

<p>One of &lsquo;<samp>-q</samp>&rsquo; or &lsquo;<samp>-r</samp>&rsquo; (or their longer-named counterparts) must
be present upon each call to <code>queue-pr</code>.  These options provide
different functions, as described below.
</p>
<dl compact="compact">
<dt> <code>-q</code></dt>
<dt> <code>--queue</code></dt>
<dd><p>Accepts standard input as an incoming mail message, placing this
message in an incrementally numbered file in the
&lsquo;<tt>gnats-queue</tt>&rsquo; directory under the database directory
(see section <a href="#Locations">Where <small>GNATS</small> lives</a>).
</p>
</dd>
<dt> <code>-r</code></dt>
<dt> <code>--run</code></dt>
<dd><p>Redirects files in the &lsquo;<tt>gnats-queue</tt>&rsquo; directory into the program
<code>file-pr</code> one by one.
</p>
</dd>
<dt> <code>-f <var>filename</var></code></dt>
<dt> <code>--file=<var>filename</var></code></dt>
<dd><p>Used with &lsquo;<samp>-q</samp>&rsquo; (or &lsquo;<samp>--queue</samp>&rsquo;), accepts the file denoted by
<var>filename</var> as input rather than reading from standard input.
</p>
</dd>
<dt> <code>-m <var>kbytes</var></code></dt>
<dt> <code>--max-size=<var>kbytes</var></code></dt>
<dd><p>Do not process messages larger then <var>kbytes</var> kilobytes.  Files
larger than the limit are left for human intervention.
</p>
</dd>
<dt> <code>-d <var>databasename</var></code></dt>
<dt> <code>--directory=<var>databasename</var></code></dt>
<dd><p>Specifies database to operate on.  If this option is left out, the value
of the <var>GNATSDB</var> environment variable is used, and if that is
undefined, the default database name set when <small>GNATS</small> was built is
used (usually <code>default</code>).
</p>
</dd>
<dt> <code>-h</code></dt>
<dt> <code>--help</code></dt>
<dd><p>Prints the usage for <code>gen-index</code>.
</p>
</dd>
<dt> <code>-V</code></dt>
<dt> <code>--version</code></dt>
<dd><p>Prints the version number for <code>gen-index</code>.
</p></dd>
</dl>

<hr size="6">
<a name="file_002dpr"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#queue_002dpr" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#at_002dpr" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Internal-utils" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Processing-incoming-traffic"></a>
<h3 class="subsection">4.8.2 Processing incoming traffic</h3>
<a name="index-file_002dpr"></a>
<a name="index-processing-incoming-traffic"></a>

<p><code>queue-pr</code> hands off queued Problem Reports to <code>file-pr</code> one
at a time.  <code>file-pr</code> checks each Problem Report for correct
information in its fields (particularly a correct <code>Category</code>),
assigns it an identification number, and files it in the database under
the appropriate category.
</p>
<p>If the <code>Category</code> field does not contain a valid category value
(i.e., matching a line in the <code>categories</code> file; see section <a href="#categories-file">The <code>categories</code> file</a>), the PR is assigned to the default
category, as set in the <code>dbconfig</code> file.  If there is no default
category defined, the PR is given a <code>Category</code> value of
&lsquo;<samp>pending</samp>&rsquo; and is placed in the &lsquo;<tt>pending</tt>&rsquo; directory.  The
<small>GNATS</small> administrator is notified of the unplaceable PR.
</p>
<p><code>file-pr</code> assigns the Problem Report an identification number,
files it in the <small>GNATS</small> database (under the default, if the
<code>Category</code> field contains an invalid category), and sends
acknowledgments to appropriate parties.  For the default <small>GNATS</small>
configuration, the person responsible for that category of problem
(see section <a href="#categories-file">The <code>categories</code> file</a>) and the person
responsible for the submitter site where the PR originated
(see section <a href="#submitters-file">The <code>submitters</code> file</a>) receive a copy of
the PR in its entirety.  Optionally, the originator of the PR receives
an acknowledgment that the PR arrived and was filed (see section <a href="#GNATS-configuration">Changing your <small>GNATS</small> configuration</a>).
</p>
<p>The usage for <code>file-pr</code> is as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">file-pr [ -f <var>filename</var> | --file=<var>filename</var> ]
        [ -d <var>databasename</var> | --database=<var>databasename</var> ]
	    [ -h | --help ] [ -V | --version ]
 
       network options:
        [ -H <var>host</var> | --host=<var>host</var> ]
        [ -P <var>port</var> | --port=<var>port</var> ]
        [ -v <var>username</var> | --user=<var>username</var> ]
        [ -w <var>password</var> | --passwd=<var>password</var> ]
</pre></td></tr></table>

<p><code>file-pr</code> requires no options in order to operate, and takes input
from standard input (normally, the output of &lsquo;<samp>queue-pr -r</samp>&rsquo;)
unless otherwise specified.  The options include:
</p>
<dl compact="compact">
<dt> <code>-f <var>filename</var></code></dt>
<dt> <code>--filename=<var>filename</var></code></dt>
<dd><p>Uses <var>filename</var> as input rather than standard input.
</p>
</dd>
<dt> <code>-d <var>databasename</var></code></dt>
<dt> <code>--database=<var>databasename</var></code></dt>
<dd><p>Performs refiling operations on <var>database</var>.  If this option is left
out, the value of the <var>GNATSDB</var> environment variable is used, and if
that is undefined, the default database name set when <small>GNATS</small> was
built is used (usually <code>default</code>).
</p>
</dd>
<dt> <code>-h</code></dt>
<dt> <code>--help</code></dt>
<dd><p>Prints the usage for <code>file-pr</code>.
</p>
</dd>
<dt> <code>-V</code></dt>
<dt> <code>--version</code></dt>
<dd><p>Prints the version number for <code>file-pr</code>.
</p></dd>
</dl>

<p><code>file-pr</code> can file PRs across a network, talking to a remote
gnatsd. The following options relate to network access:
</p>
<dl compact="compact">
<dt> <code>-H <var>host</var></code></dt>
<dt> <code>--host=<var>host</var></code></dt>
<dd><p>Hostname of the <small>GNATS</small> server.
</p>
</dd>
<dt> <code>-P <var>port</var></code></dt>
<dt> <code>--port=<var>port</var></code></dt>
<dd><p>The port that the <small>GNATS</small> server runs on.
</p>
</dd>
<dt> <code>-v <var>username</var></code></dt>
<dt> <code>--username=<var>username</var></code></dt>
<dd><p>Username used to log into the <small>GNATS</small> server.
</p>
</dd>
<dt> <code>-w <var>password</var></code></dt>
<dt> <code>--passwd=<var>password</var></code></dt>
<dd><p>Password used to log into the <small>GNATS</small> server.
</p></dd>
</dl>

<hr size="6">
<a name="at_002dpr"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#file_002dpr" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#pr_002dedit" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Internal-utils" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Timely-reminders"></a>
<h3 class="subsection">4.8.3 Timely reminders</h3>
<a name="index-at_002dpr"></a>
<a name="index-timely-reminders"></a>
<a name="index-automatic-notification-1"></a>
<a name="index-notification-of-overdue-PRs"></a>

<p><code>at-pr</code> creates a queued job using <code>at</code> which, after an
allotted <em>response time</em> is past, checks the PR to see if its state
has changed from &lsquo;<samp>open</samp>&rsquo;. When the PR is originally filed,
<code>file-pr</code> checks the <code>notify-about-expired-prs</code> parameter in
the &lsquo;<tt>dbconfig</tt>&rsquo; file. If this parameter is set to <code>true</code>,
<code>file-pr</code> calls <code>at-pr</code>, which sets up the expiry check.
</p>
<p>The &lsquo;<tt>submitters</tt>&rsquo; file contains the response time for each
<code>&gt;Submitter-Id:</code> (see section <a href="#submitters-file">The <code>submitters</code> file</a>).  The time is determined in <em>business hours</em>, which are
defined in the database&rsquo;s &lsquo;<tt>dbconfig</tt>&rsquo; file (see section <a href="#Overall-database-configuration">Overall database configuration</a>).
</p>
<p>If the PR is urgent and is still open after the requisite time period
has passed, <code>at-pr</code> sends a reminder to the <small>GNATS</small>
administrator, to the maintainer responsible for that submitter, and
to the maintainer responsible for the PR with the following message:
</p>
<a name="index-reminder-message"></a>
<a name="index-at_002dpr-1"></a>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">To: <var>submitter-contact</var> <var>responsible</var> <var>gnats-admin</var>
Subject: PR <var>gnats-id</var> not analyzed in <var>#hours</var> hours

PR <var>gnats-id</var> was not analyzed within the acknowledgment period
of <var>#hours</var> business hours.  The pertinent information is:

 Submitter-Id: <var>submitter</var>
 Originator: <var>full name of the submitter</var>
 Synopsis: <var>synopsis</var>
 Person responsible for the PR: <var>responsible</var>

--
The GNU Problem Report Management System (GNATS)
</pre></td></tr></table>

<p>The PR is <em>urgent</em> if its priority is &lsquo;<samp>critical</samp>&rsquo; or if its
priority is &lsquo;<samp>serious</samp>&rsquo; and the severity is &lsquo;<samp>high</samp>&rsquo;.
</p>

<hr size="6">
<a name="pr_002dedit"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#at_002dpr" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#diff_002dprs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Internal-utils" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-edit_002dpr-driver"></a>
<h3 class="subsection">4.8.4 The <code>edit-pr</code> driver</h3>
<a name="index-pr_002dedit"></a>
<a name="index-edit_002dpr-driver"></a>
<a name="index-driver-for-edit_002dpr"></a>

<p><code>pr-edit</code> does the background work for <code>edit-pr</code>, including
error-checking and refiling newly edited Problem Reports, handling file
and database locks and deletion of PRs.  It can be called interactively,
though it has no usable editing interface.
</p>
<p>The usage for <code>pr-edit</code> is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">pr-edit   [ -l <var>username</var> | --lock=<var>username</var> ] [ -u | --unlockdb ]
          [ -L | --lockdb ] [ -U | --unlockdb ] [ -c | --check ]
          [ -C | --check-initial ] [ -s | --submit [ --show-prnum ] ]
          [ -a <var>field</var> | --append field=<var>field</var> ]
          [ -r <var>field</var> | --replace=<var>field</var> ] [ --delete-pr ]
          [ -R <var>reason</var> | --reason=<var>reason</var> ]
          [ -p <var>process-id</var> | --process=<var>process-id</var> ]
          [ -d <var>databasename</var> | --database=<var>databasename</var> ]
          [ -f <var>filename</var> | --filename=<var>filename</var> ]
          [ -V | --version ]
          [ -h | --help ] [ -v <var>username</var> | --user=<var>username</var> ]
          [ -w <var>passwd</var> | --passwd=<var>passwd</var> ]
          [ -H <var>host</var> | --host=<var>host</var> ]
          [ -P <var>port</var> | --port=<var>port</var> ]
          [ -D | --debug ] [ <var>PR number</var> ]
</pre></td></tr></table>

<a name="index-PR-locks"></a>
<a name="index-locks"></a>
<p>A <em>lock</em> is placed on a Problem Report while the PR is being edited.
The lock is simply a file in the &lsquo;<tt>locks</tt>&rsquo; subdirectory of the
&lsquo;<tt>gnats-adm</tt>&rsquo; directory of the database, with the name
&lsquo;<tt><var>gnats-id</var>.lock</tt>&rsquo;, which contains the name of the
user who created the lock.  <var>user</var> then &ldquo;owns&rdquo; the
lock, and must remove it before the PR can be locked again, even by the
same <var>user</var><a name="DOCF3" href="#FOOT3">(3)</a>.  If a PR is already
locked when you attempt to edit it, <code>pr-edit</code> prints an error
message giving the name of the user who is currently editing the
PR.
</p>
<p>If you do not specify <var>PR number</var>, <code>pr-edit</code> reads from
standard input.  You must specify <var>PR number</var> for the functions
which affect PR locks, &lsquo;<samp>--lock=<var>username</var></samp>&rsquo; and
&lsquo;<samp>--unlock</samp>&rsquo;.
</p>
<dl compact="compact">
<dt> <code>-L</code></dt>
<dt> <code>--lockdb</code></dt>
<dd><p>Locks the database specified with the <code>--database</code> or <code>-d</code>
option.  No PRs may be edited, created or deleted while the database is
locked.  This option is generally used when editing the index file.
</p>
</dd>
<dt> <code>-U</code></dt>
<dt> <code>--unlockdb</code></dt>
<dd><p>Unlocks the specified database.  No check is made that the invoking user
actually had locked the database in the first place; hence, it is
possible for anyone to steal a database lock.
</p>
</dd>
<dt> <code>-c</code></dt>
<dt> <code>--check</code></dt>
<dt> <code>-C</code></dt>
<dt> <code>--check-initial</code></dt>
<dd><p>The <code>--check</code> options are used to verify that a proposed PR&rsquo;s field
contents are valid.  The PR is read in (either from stdin or a file
specified with <code>--filename</code>), and its fields are compared against
the rules specified by the database configuration of the selected
database.  Warnings are given for enumerated fields whose contents do
not contain one of the required values or fields that do not match
required regexps. <code>--check-initial</code> is used to verify initial PRs,
rather than proposed edits of existing PRs.
</p>
</dd>
<dt> <code>-s</code></dt>
<dt> <code>--submit</code></dt>
<dd><p>Used to submit a new PR to the database.  The PR is read in and verified
for content; if the PR is valid as an initial PR, it is then added to
the database.  If the submission is successful a zero exit code is
returned.  Otherwise, the reason(s) for the PR being rejected are
printed, and a non-zero exit code is returned.
</p>
</dd>
<dt> <code>--show-prnum</code></dt>
<dd><p>This option is used with the <code>--submit</code> option to display the PR
number associated with the submitted PR.
</p></dd>
</dl>

<p>The following options require a PR number to be given.
</p>
<dl compact="compact">
<dt> <code>--delete-pr</code></dt>
<dd><p>Deletes the specified PR from the database.  The PR must be in a closed
state, and not locked.  Only the user <em>gnats</em> (or the user name
specified instead of <em>gnats</em> during the building of <small>GNATS</small>) is
permitted to delete PRs.
</p>
</dd>
<dt> <code>-l <var>username</var></code></dt>
<dt> <code>--lock=<var>username</var></code></dt>
<dd><p>Locks the PR.  <var>username</var> is associated with the lock, so the system
administrator can determine who actually placed the lock on the PR.
However, anyone is permitted to remove locks on a PR.  If the optional
<code>--process</code> or <code>-p</code> option is also given, that process-id is
associated with the lock.
</p>
</dd>
<dt> <code>-u</code></dt>
<dt> <code>--unlock</code></dt>
<dd><p>Unlocks the specified PR.
</p>
</dd>
<dt> <code>-a <var>field</var></code></dt>
<dt> <code>--append=<var>field</var></code></dt>
<dt> <code>-r <var>field</var></code></dt>
<dt> <code>--replace=<var>field</var></code></dt>
<dd><p><code>--append</code> and <code>--replace</code> are used to append or replace
content of a specific field within a PR.  The new field content is read
in from stdin (or from the file specified with the <code>--filename</code>
option), and either appended or replaced to the specified field.  The
field contents are verified for correctness before the PR is rewritten.
If the edit is successful, a zero exit status is returned.  If the edit
failed, a non-zero exit status is returned, and the reasons for the
failure are printed to stdout.
</p>
</dd>
<dt> <code>-R <var>reason</var></code></dt>
<dt> <code>--reason=<var>reason</var></code></dt>
<dd><p>Certain PR fields are configured in the database configuration to
require a short text describing the reason of every change that
happens to them, See section <a href="#dbconfig-file">The <code>dbconfig</code> file</a>.  If you edit a problem and
change any of such fields, you must issue a short text, the
<var>reason</var> of the change, through this option.  If the option is
used and no change-reason requiring field is actually changed, the
option has no effect.
</p>
</dd>
<dt> <code>PR number</code></dt>
<dd><p>If only a <code>PR number</code> is specified with no other options, a
replacement PR is read in (either from stdin or the file specified with
<code>--filename</code>).  If the PR contents are valid and correct, the
existing PR is replaced with the new PR contents.  If the edit is
successful, a zero exit status is re turned.  If the edit failed, a
non-zero exit status is returned, and the reasons for the failure are
printed to stdout.
</p>
</dd>
<dt> <code>-d <var>database</var></code></dt>
<dt> <code>--database=<var>database</var></code></dt>
<dd><p>Specifies the database which is to be manipulated.  If no database is
specified, the default database name set when <small>GNATS</small> was built is
used (usually <code>default</code>).  This option overrides the database
specified in the GNATSDB environment variable.
</p>
</dd>
<dt> <code>-f <var>filename</var></code></dt>
<dt> <code>--filename=<var>filename</var></code></dt>
<dd><p>For actions that require reading in a PR or field content, this
specifies the name of a file to read.  If <code>--filename</code> is not
specified, the PR or field content is read in from stdin.
</p>
</dd>
<dt> <code>-h</code></dt>
<dt> <code>--help</code></dt>
<dd><p>Prints the usage for <code>pr-edit</code>.
</p>
</dd>
<dt> <code>-V</code></dt>
<dt> <code>--version</code></dt>
<dd><p>Prints the version number for <code>pr-edit</code>.
</p></dd>
</dl>

<p><code>pr-edit</code> can edit PRs across a network, talking to a
remote gnatsd. The following options relate to network access:
</p>
<dl compact="compact">
<dt> <code>-H <var>host</var></code></dt>
<dt> <code>--host=<var>host</var></code></dt>
<dd><p>Hostname of the <small>GNATS</small> server.
</p>
</dd>
<dt> <code>-P <var>port</var></code></dt>
<dt> <code>--port=<var>port</var></code></dt>
<dd><p>The port that the <small>GNATS</small> server runs on.
</p>
</dd>
<dt> <code>-v <var>username</var></code></dt>
<dt> <code>--username=<var>username</var></code></dt>
<dd><p>Username used to log into the <small>GNATS</small> server.
</p>
</dd>
<dt> <code>-w <var>password</var></code></dt>
<dt> <code>--passwd=<var>password</var></code></dt>
<dd><p>Password used to log into the <small>GNATS</small> server.
</p>
</dd>
<dt> <code>-D</code></dt>
<dt> <code>--debug</code></dt>
<dd><p>Used to debug network connections.
</p></dd>
</dl>

<hr size="6">
<a name="diff_002dprs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#pr_002dedit" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#pr_002dage" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Internal-utils" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-diff_002dprs-tool"></a>
<h3 class="subsection">4.8.5 The <code>diff-prs</code> tool</h3>
<a name="index-diff_002dprs"></a>

<p>The <code>diff-prs</code> tool is invoked as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">diff-prs <var>prfile1</var> <var>prfile2</var>
</pre></td></tr></table>

<p><code>diff-prs</code> simply reads the PRs contained in <var>prfile1</var> and
<var>prfile2</var> and returns a list of the fields that are different
between the two.  No output is produced if the PRs are identical.
</p>
<hr size="6">
<a name="pr_002dage"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#diff_002dprs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Internal-utils" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-pr_002dage-tool"></a>
<h3 class="subsection">4.8.6 The <code>pr-age</code> tool</h3>
<a name="index-pr_002dage"></a>
<a name="index-age-of-PR"></a>

<p>The <code>pr-age</code> tool reports the time, in days and hours, since the PR
arrived.  Usage is
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">pr-age  [ -d <var>databasename</var> | --database=<var>databasename</var> ]
        [ -H <var>host</var> | --host=<var>host</var> ]
        [ -P <var>port</var> | --port=<var>port</var> ]
        [ -v <var>username</var> | --user=<var>username</var> ]
        [ -w <var>password</var> | --passwd=<var>password</var> ]
        [ -h | --help ] [ -V | --version ]
</pre></td></tr></table>

<p>For an explanation of the arguments listed above, please refer to the
usage description for <code>file-pr</code> (<a href="#file_002dpr"><code>file-pr</code></a>).
</p>

<hr size="6">
<a name="Locations"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#pr_002dage" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#prefix" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Management" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Where-GNATS-lives"></a>
<h1 class="appendix">A. Where <small>GNATS</small> lives</h1>
<a name="index-locations"></a>
<a name="index-where-GNATS-lives"></a>
<a name="index-default-installation-locations"></a>

<p>We use a few conventions when referring to the installation structure
<small>GNATS</small> uses.  These values are adjustable when you build and install
<small>GNATS</small> (see section <a href="#Installation">Installing <small>GNATS</small></a>).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#prefix">A.1 <var>prefix</var></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      
</td></tr>
<tr><td align="left" valign="top"><a href="#exec_002dprefix">A.2 <var>exec-prefix</var></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 
</td></tr>
<tr><td align="left" valign="top"><a href="#gnats_002dadm">A.3 The &lsquo;<tt>gnats-adm</tt>&rsquo; directory</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  
</td></tr>
<tr><td align="left" valign="top"><a href="#defaults">A.4 Default installation locations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="prefix"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Locations" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#exec_002dprefix" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Locations" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="prefix-1"></a>
<h2 class="section">A.1 <var>prefix</var></h2>
<a name="index-prefix-1"></a>

<p><var>prefix</var> corresponds to the variable &lsquo;<samp>prefix</samp>&rsquo; for
<code>configure</code>, which passes it on to the &lsquo;<tt>Makefile</tt>&rsquo; it creates.
<var>prefix</var> sets the root installation directory for
<em>host-independent</em> files as follows:
</p>
<dl compact="compact">
<dt> the directory path of the default database</dt>
<dd><p>&lsquo;<tt><var>prefix</var>/com</tt>&rsquo;<br>
</p>
</dd>
<dt> site-wide configuration files</dt>
<dd><p>&lsquo;<tt><var>prefix</var>/etc/gnats</tt>&rsquo;<br>
</p>
</dd>
<dt> <code>man</code> pages</dt>
<dd><p>&lsquo;<tt><var>prefix</var>/man</tt>&rsquo;
</p>
</dd>
<dt> <code>info</code> documents</dt>
<dd><p>&lsquo;<tt><var>prefix</var>/info</tt>&rsquo;
</p>
</dd>
<dt> <code>include</code> files</dt>
<dd><p>&lsquo;<tt><var>prefix</var>/include</tt>&rsquo;
</p>
</dd>
<dt> <em>etc&hellip;</em></dt>
</dl>

<p>The default value for <var>prefix</var> is &lsquo;<tt>/usr/local</tt>&rsquo;, which can
be changed on the command line to <code>configure</code> using
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">configure --prefix=<var>prefix</var> &hellip;
</pre></td></tr></table>

<p>See section <a href="#Configure-and-make">Configuring and compiling the software</a>.
</p>
<hr size="6">
<a name="exec_002dprefix"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#prefix" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnats_002dadm" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Locations" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="exec_002dprefix-1"></a>
<h2 class="section">A.2 <var>exec-prefix</var></h2>
<a name="index-exec_002dprefix-1"></a>

<p><var>exec-prefix</var> corresponds to the variable &lsquo;<samp>exec-prefix</samp>&rsquo; for
<code>configure</code>, which passes it on to the &lsquo;<tt>Makefile</tt>&rsquo; it creates.
<var>exec-prefix</var> sets the root installation for
<em>host-dependent</em> files as follows:
</p>
<dl compact="compact">
<dt> <small>GNATS</small> user tools</dt>
<dd><p>&lsquo;<tt><var>exec-prefix</var>/bin</tt>&rsquo;
</p>
</dd>
<dt> administrative and support utilities</dt>
<dd><p>&lsquo;<tt><var>exec-prefix</var>/libexec/gnats</tt>&rsquo;
</p>
</dd>
<dt> compiled libraries </dt>
<dd><p>&lsquo;<tt><var>exec-prefix</var>/lib</tt>&rsquo;<br>
</p>
</dd>
<dt> <em>etc&hellip;</em></dt>
</dl>

<p><code>configure</code> supports several more options which allow you to
specify in great detail where different files are installed.  The
locations given in this appendix do not take into account highly
customized installations, but fairly ordinary <small>GNATS</small> installations
should be covered by the material here.  For a complete list of options
accepted by <code>configure</code>, run <code>./configure --help</code> in the
&lsquo;<tt>gnats</tt>&rsquo; subdirectory of the distribution.
</p>
<p>Since most installations are not intended to be distributed around a
network, the default value for <var>exec-prefix</var> is the value of
&lsquo;<samp>prefix</samp>&rsquo;, i.e., &lsquo;<tt>/usr/local</tt>&rsquo;.  However, using
<var>exec-prefix</var> saves space when you are installing a package on
several different platforms for which many files are identical; rather
than duplicate them for each host, these files can be shared in a common
repository, and you can use symbolic links on each host to find the
host-dependent files.
</p>
<p>Use <var>exec-prefix</var> in conjunction with <var>prefix</var> to share
host-independent files, like libraries and <code>info</code> documents.  For
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">   <em>for each host:</em>
configure --prefix=/usr/gnu --exec-prefix=/usr/gnu/H-<var>host</var>
make all install &hellip;
</pre></td></tr></table>

<p>Using this paradigm, all host-dependent binary files are installed into
&lsquo;<tt>/usr/gnu/H-<var>host</var>/bin</tt>&rsquo;, while files which do not depend on
the host type for which they were configured are installed into
&lsquo;<tt>/usr/gnu</tt>&rsquo;.
</p>
<p>You can then use a different symbolic link for &lsquo;<tt>/usr/gnu</tt>&rsquo;
on each host (&lsquo;<tt>/usr</tt>&rsquo; is usually specific to a particular machine;
it is always specific to a particular architecture).
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  <em>on host-1:</em>
ln -s /usr/gnu/H-<var>host-1</var> /usr/gnu
  <em>on host-2:</em>
ln -s /usr/gnu/H-<var>host-2</var> /usr/gnu
</pre></td></tr></table>

<p>To the end user, then, placing &lsquo;<tt>/usr/gnu/bin</tt>&rsquo; in her or his
<code>PATH</code> simply works transparently for each <var>host</var> type.
</p>
<p>You can change <var>exec-prefix</var> on the command line to
<code>configure</code> using
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">configure --exec-prefix=<var>exec-prefix</var> &hellip;
</pre></td></tr></table>

<p>We recommend that you consult <a href="configure.html#Using-configure">(configure)Using configure</a> section &lsquo;Using <code>configure</code>&rsquo; in <cite>Cygnus configure</cite>, before attempting this.
</p>
<hr size="6">
<a name="gnats_002dadm"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#exec_002dprefix" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#defaults" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Locations" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-gnats_002dadm-directory"></a>
<h2 class="section">A.3 The &lsquo;<tt>gnats-adm</tt>&rsquo; directory</h2>
<a name="index-gnats_002dadm"></a>

<p>Each <small>GNATS</small> database located on a server has its own directory, as
listed in the &lsquo;<tt>databases</tt>&rsquo; (see section <a href="#databases-file">The <code>databases</code> file</a> and given when the <code>mkdb</code> utility is invoked
to initialize the database (see section <a href="#mkdb">Initializing a new database</a>).
This directory has several subdirectories, one of which is named
&lsquo;<tt>gnats-adm</tt>&rsquo;.  This directory contains all configuration files
related to this specific database, including the &lsquo;<tt>categories</tt>&rsquo;,
&lsquo;<tt>submitters</tt>&rsquo;, &lsquo;<tt>responsible</tt>&rsquo;, &lsquo;<tt>states</tt>&rsquo;, &lsquo;<tt>classes</tt>&rsquo;,
&lsquo;<tt>dbconfig</tt>&rsquo;, &lsquo;<tt>addresses</tt>&rsquo;, &lsquo;<tt>states</tt>&rsquo; and
&lsquo;<tt>gnatsd.user_access</tt>&rsquo;, as well as two
files generated and maintained by <small>GNATS</small>, &lsquo;<tt>index</tt>&rsquo; and
&lsquo;<tt>current</tt>&rsquo;.
</p>
<hr size="6">
<a name="defaults"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#gnats_002dadm" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Locations" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Locations" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Default-installation-locations"></a>
<h2 class="section">A.4 Default installation locations</h2>
<a name="index-default-installation-locations-1"></a>

<dl compact="compact">
<dt> <var>prefix</var></dt>
<dd><p>defaults to &lsquo;<tt>/usr/local</tt>&rsquo;; change using <code>configure</code>
(see section <a href="#Configure-and-make">Configuring and compiling the software</a>).
</p>
</dd>
<dt> <var>exec-prefix</var></dt>
<dd><p>defaults to <var>prefix</var>; change using <code>configure</code>
(see section <a href="#Configure-and-make">Configuring and compiling the software</a>).
</p></dd>
</dl>

<p><small>GNATS</small> installs tools, utilities, and files into the following
locations.
</p>
<dl compact="compact">
<dt> <code><var>exec-prefix</var>/bin</code></dt>
<dd>
<dl compact="compact">
<dt> <code>send-pr</code></dt>
<dd><p>See section <a href="#send_002dpr">Submitting Problem Reports</a>.
</p></dd>
<dt> <code>edit-pr</code></dt>
<dd><p>See section <a href="#edit_002dpr">Editing existing Problem Reports</a>.
</p></dd>
<dt> <code>query-pr</code></dt>
<dd><p>See section <a href="#query_002dpr">Querying the database</a>.
</p></dd>
</dl>

</dd>
<dt> <code><var>exec-prefix</var>/libexec/gnats</code></dt>
<dd>
<dl compact="compact">
<dt> <code>at-pr</code></dt>
<dd><p>See section <a href="#at_002dpr">Timely reminders</a>.
</p>
</dd>
<dt> <code>check-db</code></dt>
<dd><p>See section <a href="#check_002ddb">Checking database health</a>.
</p>
</dd>
<dt> <code>delete-pr</code></dt>
<dd><p>Tool for deleting PRs.  Deprecated.  Use the &ndash;delete-pr option of
<code>pr-edit</code> instead (see section <a href="#pr_002dedit">The edit-pr driver</a>).
</p>
</dd>
<dt> <code>diff-prs</code></dt>
<dd><p>See section <a href="#diff_002dprs">The <code>diff-prs</code> tool</a>.
</p>
</dd>
<dt> <code>file-pr</code></dt>
<dd><p>See section <a href="#file_002dpr">Interface to pr-edit for filing new PRs</a>.
</p>
</dd>
<dt> <code>gen-index</code></dt>
<dd><p>See section <a href="#gen_002dindex">Regenerating the index</a>.
</p>
</dd>
<dt> <code>gnatsd</code></dt>
<dd><p>The <small>GNATS</small> daemon.
</p>
</dd>
<dt> <code>gnats-pwconv</code></dt>
<dd><p>See section <a href="#gnats_002dpwconv">Converting old password files</a>.
</p>
</dd>
<dt> <code>mail-query</code></dt>
<dd><p>See section <a href="#Aliases">Setting up mail aliases</a>.
</p>
</dd>
<dt> <code>mkcat</code></dt>
<dd><p>See section <a href="#mkcat">Adding a problem category</a>.
</p>
</dd>
<dt> <code>mkdb</code></dt>
<dd><p>See section <a href="#mkdb">Script for creating new databases</a>.
</p>
</dd>
<dt> <code>pr-age</code></dt>
<dd><p>See section <a href="#pr_002dage">The <code>pr-age</code> tool</a>.
</p>
</dd>
<dt> <code>pr-edit</code></dt>
<dd><p>See section <a href="#pr_002dedit">The main PR processor</a>.
</p>
</dd>
<dt> <code>queue-pr</code></dt>
<dd><p>See section <a href="#queue_002dpr">Handling incoming traffic</a>.
</p>
</dd>
<dt> <code>rmcat</code></dt>
<dd><p>See section <a href="#rmcat">Removing categories</a>.
</p></dd>
</dl>

</dd>
<dt> <code><var>exec-prefix</var>/lib/libiberty.a</code></dt>
<dd><p>The <small>GNU</small> <code>libiberty</code> library.
</p>
</dd>
<dt> <code><var>prefix</var>/etc/gnats</code></dt>
<dd>
<dl compact="compact">
<dt> &lsquo;<tt>databases</tt>&rsquo;</dt>
<dd><p>See section <a href="#databases-file">The &lsquo;<tt>databases</tt>&rsquo; file</a>.
</p>
</dd>
<dt> &lsquo;<tt>defaults</tt>&rsquo;</dt>
<dd><p>See section <a href="#GNATS-configuration">Overview of <small>GNATS</small> configuration</a>.
</p>
</dd>
<dt> &lsquo;<tt>gnatsd.host_access</tt>&rsquo;</dt>
<dd><p>See section <a href="#gnatsd_002ehost_005faccess">The &lsquo;<tt>gnatsd.host_access</tt>&rsquo; file</a>.
</p>
</dd>
<dt> &lsquo;<tt>gnatsd.user_access</tt>&rsquo;</dt>
<dd><p>See section <a href="#gnatsd_002euser_005faccess">The &lsquo;<tt>gnatsd.user_access</tt>&rsquo; file</a>.
</p></dd>
</dl>

</dd>
<dt> <code><var>prefix</var>/share/emacs/site-lisp</code></dt>
<dd>
<dl compact="compact">
<dt> &lsquo;<tt>gnats.el</tt>&rsquo;</dt>
<dt> &lsquo;<tt>gnats.elc</tt>&rsquo;</dt>
<dd><p>The Emacs versions of the programs <code>send-pr</code>, <code>query-pr</code>,
<code>edit-pr</code>, and <code>view-pr</code>.  See section <a href="#GNATS-user-tools">The <small>GNATS</small> user tools</a>.  To change this directory you must change the
<code>lispdir</code> variable in &lsquo;<tt>Makefile.in</tt>&rsquo;; see <a href="#Configure-and-make">Configuring and compiling the software</a>.
</p></dd>
</dl>

</dd>
<dt> <code><var>prefix</var>/info</code></dt>
<dd>
<dl compact="compact">
<dt> &lsquo;<tt>gnats.info</tt>&rsquo;</dt>
<dt> &lsquo;<tt>send-pr.info</tt>&rsquo;</dt>
<dd><p>The <small>GNATS</small> manuals, in a form readable by <code>info</code> (the <small>GNU</small>
hypertext browser).  See <a href="infoman.html#Info">(infoman)Info</a> section &lsquo;Reading GNU Online Documentation&rsquo; in <cite>GNU Online Documentation</cite>.
</p></dd>
</dl>

</dd>
<dt> <code><var>prefix</var>/man/man1</code></dt>
<dt> <code><var>prefix</var>/man/man8</code></dt>
<dd>
<dl compact="compact">
<dt> <code>man</code> pages for all the <small>GNATS</small> tools and utilities.</dt>
<dd><p>See section <a href="#GNATS-user-tools">The <small>GNATS</small> user tools</a>.
</p></dd>
</dl>

</dd>
<dt> <code>Per-database directory</code></dt>
<dd>
<dl compact="compact">
<dt> &lsquo;<tt>gnats-adm</tt>&rsquo;</dt>
<dd><p>Administration and configuration data files that define behaviour of the
particular database.  The files
</p>
<dl compact="compact">
<dt> &lsquo;<tt>categories</tt>&rsquo;</dt>
<dt> &lsquo;<tt>submitters</tt>&rsquo;</dt>
<dt> &lsquo;<tt>responsible</tt>&rsquo;</dt>
<dt> &lsquo;<tt>states</tt>&rsquo;</dt>
<dt> &lsquo;<tt>classes</tt>&rsquo;</dt>
<dt> &lsquo;<tt>dbconfig</tt>&rsquo;</dt>
<dt> &lsquo;<tt>addresses</tt>&rsquo;</dt>
<dt> &lsquo;<tt>states</tt>&rsquo;</dt>
<dt> &lsquo;<tt>gnatsd.user_access</tt>&rsquo;</dt>
<dt> &lsquo;<tt>index</tt>&rsquo;</dt>
<dd><p>(<em>This file is created by <small>GNATS</small>.</em>)
</p>
</dd>
<dt> &lsquo;<tt>current</tt>&rsquo;</dt>
<dd><p>(<em>This file is created by <small>GNATS</small>.</em>)
</p></dd>
</dl>

<p>exist here.
See section <a href="#Other-config-files">Other database-specific config files</a>,
<a href="#Admin-files">Administrative data files</a> and <a href="#Access-Control">Controlling access to databases</a>.
</p>
</dd>
<dt> &lsquo;<tt>gnats-queue</tt>&rsquo;</dt>
<dd><p>Incoming Problem Reports are queued here until the next iteration of
&lsquo;<samp>queue-pr -r</samp>&rsquo; (see section <a href="#queue_002dpr">Handling incoming traffic</a>).
</p>
</dd>
<dt> &lsquo;<tt>pending</tt>&rsquo;</dt>
<dd><p>If no default category is set, problem reports without a category are
reassigned to the category &lsquo;<samp>pending</samp>&rsquo; and placed here pending
intervention by <small>GNATS</small> administrators.
See section <a href="#Management"><small>GNATS</small> administration</a>.
</p>
</dd>
<dt> &lsquo;<tt><var>category</var></tt>&rsquo;</dt>
<dd><p>Each valid category has a corresponding subdirectory in the database.
All Problem Reports associated with that category are kept in that
subdirectory.
</p></dd>
</dl>

</dd>
</dl>

<hr size="6">
<a name="gnatsd"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#defaults" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Description-of-gnatsd" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Locations" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-GNATS-network-server-_002d_002d-gnatsd"></a>
<h1 class="appendix">B. The <small>GNATS</small> network server &ndash; <code>gnatsd</code></h1>
<a name="index-gnatsd"></a>

<p>This section describes in details how the <small>GNATS</small> network daemon
works.  This information is mainly assumed to be useful for developers
of <small>GNATS</small> client software.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Description-of-gnatsd">B.1 Description of <code>gnatsd</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#gnatsd-options">B.2 <code>gnatsd</code> options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#gnatsd-command-protocol">B.3 <code>gnatsd</code> command protocol</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#gnatsd-commands">B.4 <code>gnatsd</code> commands</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#gnatsd-environment-variables">B.5 <code>gnatsd</code> environment variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Description-of-gnatsd"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#gnatsd" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd-options" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Description-of-gnatsd-1"></a>
<h2 class="section">B.1 Description of <code>gnatsd</code></h2>
<a name="index-gnatsd-description"></a>

<p>The <code>gnatsd</code> network daemon is used to service remote <small>GNATS</small>
requests such as querying PRs, PR creation, deletion, and editing, and
miscellaneous database queries.  It uses a simple ASCII-based command
protocol (similar to SMTP or POP3) for communicating with remote
clients.
</p>
<p>It also provides a security model based either on IP-based
authentication (generally considered very weak) or username/passwords,
where passwords may be in cleartext, UNIX crypt or MD5 hash format.
Access through <code>gnatsd</code> is granted according to certain predefined
<em>access levels</em>.  Access levels are further discussed in <a href="#Access-Control">Controlling access to databases</a>.  It should be emphasized that
security has not been a focus of development until now, but future
versions are expected to address this more thoroughly.
</p>
<p>All of the <small>GNATS</small> clients are capable of communicating via the <small>GNATS</small>
remote protocol to perform their functions.
</p>
<p><code>gnatsd</code> is usually started from the inetd facility and should run as
the <code>gnats</code> user (the actual username of this user is configurable
during installation, see section <a href="#Configure-and-make">Configuring and compiling the software</a> for details.)
</p>
<hr size="6">
<a name="gnatsd-options"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Description-of-gnatsd" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd-command-protocol" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="gnatsd-options-1"></a>
<h2 class="section">B.2 <code>gnatsd</code> options</h2>
<a name="index-gnatsd-options"></a>

<p>The daemon supports the following command-line options:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">gnatsd [--database database | -d database]
       [--not-inetd | -n] [--max-access-level <var>level</var> | -m <var>level</var>]
       [--version | -V] [--help | -h]
</pre></td></tr></table>

<a name="index-gnatsd-startup-options"></a>
<dl compact="compact">
<dt> <code>-V, --version</code></dt>
<dd><p>Prints the program version to stdout and exits.
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>Prints a short help text to stdout and exits.
</p>
</dd>
<dt> <code>-d, --database</code></dt>
<dd><p>Specifies the default database which is to be serviced by this
invocation of <code>gnatsd</code>. (The selected database may be changed via
the <code>CHDB</code> command; the name set with this option is simply the
default if no <code>CHDB</code> command is issued.)  If no database is
specified, the database named default is assumed. This option overrides
the database specified in the <code>GNATSDB</code> environment variable.
</p>
</dd>
<dt> <code>-n, --not-inetd</code></dt>
<dd><p>As its name suggests, indicates that <code>gnatsd</code> is not being invoked
from inetd. This can be used when testing <code>gnatsd</code>, or if it is
being run via ssh or some other mechanism.
</p>
<p>This has the effect of using the local hostname where <code>gnatsd</code> is
being invoked for authentication purposes, rather than the remote
address of the connecting client.
</p>
</dd>
<dt> <code>--max-access-level, -m</code></dt>
<dd><p>Specifies the maximum access level that the connecting client can
authenticate to.  Authentication is as normal but if the user or host
authenticates at a higher level, access level is still forced to this
level.  See <a href="#Access-Control">Controlling access to databases</a> for
details on access levels.
</p></dd>
</dl>

<hr size="6">
<a name="gnatsd-command-protocol"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#gnatsd-options" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd-commands" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="gnatsd-command-protocol-1"></a>
<h2 class="section">B.3 <code>gnatsd</code> command protocol</h2>
<a name="index-gnatsd-command-protocol"></a>

<p>Commands are issued to <code>gnatsd</code> as one or more words followed by a
carriage-return/linefeed pair.  For example, the <code>CHDB</code> (change
database) command is sent as &lsquo;<samp>CHDB database&lt;CR&gt;&lt;LF&gt;</samp>&rsquo; (the
<code>CRLF</code> will not be explicitly written for future examples.)
</p>
<p>Replies from <code>gnatsd</code> are returned as one or more response lines
containing a 3-digit numeric code followed by a human-readable string;
the line is terminated with a <code>&lt;CR&gt;&lt;LF&gt;</code> pair.  For example, one
possible response to the <code>CHDB</code> command above would be:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">210 Now accessing GNATS database 'database'.
</pre></td></tr></table>

<p>The three-digit code is normally followed by a single ASCII space
(character 0x20).  However, if additional response lines are to be
returned from the server, there will be a single dash &lsquo;<samp>-</samp>&rsquo; instead
of the space character after the three-digit code.
</p>
<p>Response code values are divided into ranges.  The first digit reflects
the general type of response (such as &rdquo;successful&rdquo; or &rdquo;error&rdquo;), and
the subsequent digits identify the specific type of response.
</p>
<dl compact="compact">
<dt> <var>Codes 200-299</var></dt>
<dd><p>Positive response indicating that the command was successful.  No
subsequent data will be transmitted with the response.  In particular,
code 210 (<code>CODE_OK</code>) is used as the positive result code for most
simple commands.
</p>
<p>Commands that expect additional data from the client (such as
<code>SUBM</code> or <code>VFLD</code>) use a two-step mechanism for sending the
data.  The server will respond to the initial command with either a 211
(<code>CODE_SEND_PR</code>) or 212 (<code>CODE_SEND_TEXT</code>) response line, or
an error code if an error occurred with the initial command.  The client
is then expected to send the remaining data using the same quoting
mechanism as described for server responses in the 300-349 range.  The
server will then send a final response line to the command.
</p>
</dd>
<dt> <var>Codes 300-399</var></dt>
<dd><p>Positive response indicating that the query request was successful, and
that a PR or other data will follow.  Codes 300-349 are used when
transmitting PRs, and 350-399 are used for other responses.
</p>
<p>Codes in the 300-349 range are followed by a series of
<code>CRLF</code>-terminated lines containing the command response, usually a
PR.  The final line of the result is a single period &lsquo;<samp>.</samp>&rsquo;.  Result
lines that begin with a period have an extra period prepended to them.
</p>
<p>Codes in the 350-399 range use a different scheme for sending their
responses. The three-digit numeric code will be followed by either a
dash &lsquo;<samp>-</samp>&rsquo; or a single space.  If the code is followed by a dash,
that indicates that another response line will follow.  The final line
of the response has a single space after the three-digit code.
</p>
<p>In previous versions of the protocol the first line of a
<code>CODE_INFORMATION</code> (310) response was to be ignored.  This is no
longer the case.  Instead, any lines marked with code
<code>CODE_INFORMATION_FILLER</code> (351) are to be ignored.  This allows the
server to transmit additional headers or other human-readable text that
can be safely ignored by the clients.
</p>
</dd>
<dt> <var>Codes 400-599</var></dt>
<dd><p>An error occurred, usually because of invalid command parameters or
invalid input from the client, missing arguments to the command, or a
command was issued out of sequence.  The human-readable message
associated with the response line describes the general problem
encountered with the command.
</p>
<p>Multiple error messages may be returned from a command; in this case the
&lsquo;<samp>-</samp>&rsquo; continuation character is used on all but the last response
line.
</p>
</dd>
<dt> <var>Codes 600-799</var></dt>
<dd><p>An internal error occurred on the server, a timeout occurred reading
data from the client, or a network failure occurred.  These errors are
of the &rdquo;this should not occur&rdquo; nature, and retrying the operation may
resolve the problem.  Fortunately, most <small>GNATS</small> transactions are
idempotent; unfortunately, locking the database or a PR are not
repeatable actions (we cannot determine if an existing lock is the one
we originally requested, or someone else&rsquo;s).
</p></dd>
</dl>

<hr size="6">
<a name="gnatsd-commands"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#gnatsd-command-protocol" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd-environment-variables" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="gnatsd-commands-1"></a>
<h2 class="section">B.4 <code>gnatsd</code> commands</h2>
<a name="index-gnatsd-commands"></a>
<a name="index-gnatsd-commands-1"></a>

<p>Note that the set of <small>GNATS</small> commands and their responses is somewhat
inconsistent and is very much in flux.  At present the <small>GNATS</small>
clients are rather simple-minded and not very strict about processing
responses.  For example, if the server were to issue a code 300
(<code>CODE_PR_READY</code>) response to a <code>CHDB</code> command, the client
would happily expect to see a PR appear (and would print it out if one
was sent).
</p>
<p>It is thus suggested that any clients that use the <small>GNATS</small> protocol
be equally flexible about the way received responses are handled; in
particular, only the first digit of the response code should be assumed
to be meaningful, although subsequent digits are needed in some cases
(codes 300-399).  No attempt should be made to parse the message strings
on error response lines; they are only intended to be read by humans,
and will be changed on a regular basis.
</p>
<p>Almost every command may result in the response 440
(<code>CODE_CMD_ERROR</code>).  This indicates that there was a problem with
the command arguments, usually because of insufficient or too many
arguments being specified.
</p>
<p>Access to most <code>gnatsd</code> commands requires a certain <em>access
level</em>.  For details of this, see <a href="#Privileged-gnatsd-commands">Privileged <code>gnatsd</code> commands</a>.
</p>
<dl compact="compact">
<dt> <code>USER [<var>userid</var> <var>password</var>]</code></dt>
<dd><p>Specifies the userid and password for database access.  Either both a
username and password must be specified, or they both may be omitted; in
the latter case, the current access level is returned.
</p>
<p>The possible server responses are:
</p>
<p><code>350 (CODE_INFORMATION)</code>
<br>The current access level is specified.
</p>
<p><code>422 (CODE_NO_ACCESS)</code>
<br>A matching username and password could not be found.
</p>
<p><code>200 (CODE_OK)</code>
<br>A matching username and password was found, and the login was
successful.
</p>
</dd>
<dt> <code>QUIT</code></dt>
<dd><p>Requests that the connection be closed. Possible responses:
</p>
<p><code>201 (CODE_CLOSING)</code>
<br>Normal exit.
</p>
<p>The <code>QUIT</code> command has the dubious distinction of being the only command
that cannot fail.
</p>
</dd>
<dt> <code>LIST <var>list type</var></code></dt>
<dd><p>Describes various aspects of the database.  The lists are returned as a
list of records, one per line.  Each line may contain a number of
colon-separated fields.
</p>
<p>Possible values for <var>list type</var> include
</p>
<p><code>Categories</code>
<br>Describes the legal categories for the database.
</p>
<p><code>Submitters</code>
<br>Describes the set of submitters for the database.
</p>
<p><code>Responsible</code>
<br>Lists the names in the responsible administrative file, including
their full names and email addresses.
</p>
<p><code>States</code>
<br>Lists the states listed in the state administrative file, including
the state type (usually blank for most states; the closed state has a
special type).
</p>
<p><code>FieldNames</code>
<br>Lists the entire set of PR fields.
</p>
<p><code>InitialInputFields</code>
<br>Lists the fields that <em>should</em> be present when a PR is
initially entered.
</p>
<p><code>InitialRequiredFields</code>
<br>Lists fields that <em>have</em> to be present and nonempty when a PR
is initially entered (fields containing only blank characters such as
spaces or newlines are considered empty.)
</p>
<p><code>Databases</code>
<br>Lists the set of databases.
</p>
<p>The possible responses are:
</p>
<p><code>301 (CODE_TEXT_READY)</code>
<br>Normal response, followed by the records making up the list as
described above.
</p>
<p><code>416 (CODE_INVALID_LIST)</code>
<br>The requested list does not exist.
</p>
</dd>
<dt> <code>FTYP <var>field</var> [<var>field</var> ...]</code></dt>
<dd><p>Describes the type of data held in the field(s) specified with the
command.  The currently defined data types are:
</p>
<p><code>Text</code>
<br>A plain text field, containing exactly one line.
</p>
<p><code>MultiText</code>
<br>A text field possibly containing multiple lines of text.
</p>
<p><code>Enum</code>
<br>An enumerated data field; the value is restricted to one entry out of
a list of values associated with the field.
</p>
<p><code>MultiEnum</code>
<br>The field contains one or more enumerated values.  Values are
separated with spaces or colons &lsquo;<samp>:</samp>&rsquo;.
</p>
<p><code>Integer</code>
<br>The field contains an integer value, possibly signed.
</p>
<p><code>Date</code>
<br>The field contains a date.
</p>
<p><code>TextWithRegex</code>
<br>The value in the field must match one or more regular expressions
associated with the field.
</p>
<p>The possible responses are:
</p>
<p><code>350 (CODE_INFORMATION)</code>
<br>The normal response; the supplied text is the data type.
</p>
<p><code>410 (CODE_INVALID_FIELD_NAME)</code>
<br>The specified field does not exist.
</p>
<p>If multiple field names were given, multiple response lines will be
sent, one for each field, using the standard continuation protocol; each
response except the last will have a dash &lsquo;<samp>-</samp>&rsquo; immedately after the
response code.
</p>
</dd>
<dt> <code>FTYPINFO <var>field</var> <var>property</var></code></dt>
<dd>
<p>Provides field-type-related information.  Currently, only the property
&lsquo;<samp>separators</samp>&rsquo; for MultiEnum fields is supported.  When
&lsquo;<samp>separators</samp>&rsquo; is specified, the possible return codes are:
</p>
<p><code>350 (CODE_INFORMATION)</code>
A proper MultiEnum <var>field</var> was specified and the returned text is
the string of separators specified for the field in the dbconfig file
(see section <a href="#Field-datatypes">Field datatypes</a>) quoted in <code>'</code>&rsquo;s.
</p>
<p><code>435 (CODE_INVALID_FTYPE_PROPERTY)</code>
The &lsquo;<samp>separators</samp>&rsquo; property is not defined for this field, i.e.  the
specified <var>field</var> is not of type MultiEnum.
</p>
<p>Currently, specifying a different property than &lsquo;<samp>separators</samp>&rsquo;
results in return code 435 as above.
</p>
</dd>
<dt> <code>FDSC <var>field</var> [<var>field</var> ... ]</code></dt>
<dd><p>Returns a human-readable description of the listed field(s).  The
possible responses are:
</p>
<p><code>350 (CODE_INFORMATION)</code>
The normal response; the supplied text is the field description.
</p>
<p><code>410 (CODE_INVALID_FIELD_NAME)</code>
The specified field does not exist.
</p>
<p>Like the <code>FVLD</code> command, the standard continuation protocol will be
used if multiple fields were specified with the command.
</p>
</dd>
<dt> <code>FIELDFLAGS <var>field</var> [<var>field</var> ... ]</code></dt>
<dd><p>Returns a set of flags describing the specified field(s).  The possible
responses are either
</p>
<p><code>410 (CODE_INVALID_FIELD_NAME)</code>
<br>meaning that the specified field is invalid or nonexistent, or
</p>
<p><code>350 (CODE_INFORMATION)</code>
<br>which contains the set of flags for the field.  The flags may be
blank, which indicate that no special flags have been set for this
field.
</p>
<p>Like the <code>FDSC</code> and <code>FTYP</code> commands, multiple field names may
be listed with the command, and a response line will be returned for
each one in the order that the fields appear on the command line.
</p>
<p>The flags include:
</p>
<p><code>textsearch</code>
<br>The field will be searched when a text field search is requested.
</p>
<p><code>allowAnyValue</code>
<br>For fields that contain enumerated values, any legal value may be used
in the field, not just ones that appear in the enumerated list.
</p>
<p><code>requireChangeReason</code>
<br>If the field is edited, a reason for the change must be supplied in
the new PR text describing the reason for the change. The reason must be
supplied as a multitext PR field in the new PR whose name is
<code>field-Changed-Why</code> (where <code>field</code> is the name of the field
being edited).
</p>
<p><code>readonly</code>
<br>The field is read-only, and cannot be edited.
</p>
</dd>
<dt> <code>FVLD <var>field</var></code></dt>
<dd><br><p>Returns one or more regular expressions or strings that describe the
valid types of data that can be placed in field.  Exactly what is
returned is dependent on the type of data that can be stored in the
field.  For most fields a regular expression is returned; for enumerated
fields, the returned values are the list of legal strings that can be
held in the field.
</p>
<p>The possible responses are:
</p>
<p><code>301 (CODE_TEXT_READY)</code>
<br>The normal response, which is followed by the list of regexps or
strings.
</p>
<p><code>410 (CODE_INVALID_FIELD_NAME)</code>
The specified field does not exist.
</p>
</dd>
<dt> <code>VFLD <var>field</var></code></dt>
<dd><p><code>VFLD</code> can be used to validate a given value for a field in the
database.  The client issues the <code>VFLD</code> command with the name of
the field to validate as an argument.  The server will either respond
with <code>212 (CODE_SEND_TEXT)</code>, or <code>410
(CODE_INVALID_FIELD_NAME)</code> if the specified field does not exist.
</p>
<p>Once the <code>212</code> response is received from the server, the client
should then send the line(s) of text to be validated, using the normal
quoting mechanism described for PRs.  The final line of text is followed
by a line containing a single period, again as when sending PR text.
</p>
<p>The server will then either respond with <code>210 (CODE_OK)</code>,
indicating that the text is acceptable, or one or more error codes
describing the problems with the field contents.
</p>
</dd>
<dt> <code>INPUTDEFAULT <var>field</var> [<var>field</var> ... ]</code></dt>
<dd><p>Returns the suggested default value for a field when a PR is initially
created.  The possible responses are either <code>410
(CODE_INVALID_FIELD_NAME)</code>, meaning that the specified field is invalid
or nonexistent, or <code>350 (CODE_INFORMATION)</code> which contains the
default value for the field.
</p>
<p>Like the <code>FDSC</code> and <code>FTYP</code> commands, multiple field names may
be listed with the command, and a response line will be returned for
each one in the order that the fields appear on the command line.
</p>
</dd>
<dt> <code>RSET</code></dt>
<dd><p>Used to reset the internal server state.  The current query expression
is cleared, and the index of PRs may be reread if it has been updated
since the start of the session.  The possible responses are:
</p>
<p><code>200 (CODE_OK)</code>
<br>The state has been reset.
</p>
<p><code>440 (CODE_CMD_ERROR)</code>
<br>One or more arguments were supplied to the command.
</p>
<p><code>6xx (internal error)</code>
<br>There were problems resetting the state (usually because the index could
not be reread).  The session will be immediately terminated.
</p>
</dd>
<dt> <code>LKDB</code></dt>
<dd><p>Locks the main <small>GNATS</small> database.  No subsequent database locks will
succeed until the lock is removed.  Sessions that attempt to write to
the database will fail.  The possible responses are:
</p>
<p><code>200 (CODE_OK)</code>
The lock has been established.
</p>
<p><code>440 (CODE_CMD_ERROR)</code>
One or more arguments were supplied to the command.
</p>
<p><code>431 (CODE_GNATS_LOCKED)</code>
The database is already locked, and the lock could not be obtained after
10 seconds.
</p>
<p><code>6xx (internal error)</code>
An internal error occurred, usually because of permission or other
filesystem-related problems. The lock may or may not have been
established.
</p>
</dd>
<dt> <code>UNDB</code></dt>
<dd>
<p>Unlocks the database.  Any session may steal a database lock; no
checking of any sort is done.  The possible responses are:
</p>
<p><code>200 (CODE_OK)</code>
<br>The lock has been removed.
</p>
<p><code>432 (CODE_GNATS_NOT_LOCKED)</code>
<br>The database was not locked.
</p>
<p><code>440 (CODE_CMD_ERROR)</code>
<br>One or more arguments were supplied to the command.
</p>
<p><code>6xx (internal error)</code>
<br>The database lock could not be removed, usually because of permissions
or other filesystem-related issues.
</p>
</dd>
<dt> <code>LOCK <var>PR user</var> [<var>pid</var>]</code></dt>
<dd><p>Locks the specified <var>PR</var>, marking the lock with the <var>user</var> name
and the optional <var>pid</var>. (No checking is done that the <var>user</var> or
<var>pid</var> arguments are valid or meaningful; they are simply treated as
strings.)
</p>
<p>The <code>EDIT</code> command requires that the PR be locked before it may be
successfully executed.  However, it does not require that the lock is
owned by the editing session, so the usefulness of the lock is simply as
an advisory measure.
</p>
<p>The <code>APPN</code> and <code>REPL</code> commands lock the PR as part of the
editing process, and they do not require that the PR be locked before
they are invoked.
</p>
<p>The possible responses are:
</p>
<p><code>440 (CODE_CMD_ERROR)</code>
<br>Insufficient or too many arguments were specified to the command.
</p>
<p><code>300 (CODE_PR_READY)</code>
<br>The lock was successfully obtained; the text of the PR (using the
standard quoting mechanism for PRs) follows.
</p>
<p><code>400 (CODE_NONEXISTENT_PR)</code>
<br>The PR specified does not exist.
</p>
<p><code>430 (CODE_LOCKED_PR)</code>
<br>The PR is already locked by another session.
</p>
<p><code>6xx (internal error)</code>
<br>The PR lock could not be created, usually because of permissions or
other filesystem-related issues.
</p>
</dd>
<dt> <code>UNLK <var>PR</var></code></dt>
<dd><p>Unlocks <var>PR</var>.  Any user may unlock a PR, as no checking is done to
determine if the requesting session owns the lock.
</p>
<p>The possible responses are:
</p>
<p><code>440 (CODE_CMD_ERROR)</code>
<br>Insufficient or too many arguments were specified to the command.
</p>
<p><code>200 (CODE_OK)</code>
<br>The PR was successfully unlocked.
</p>
<p><code>433 (CODE_PR_NOT_LOCKED)</code>
<br>The PR was not locked.
</p>
<p><code>6xx (internal error)</code>
<br>The PR could not be unlocked, usually because of permission or other
filesystem-related problems.
</p>
</dd>
<dt> <code>DELETE <var>PR</var></code></dt>
<dd><p>Deletes the specified <var>PR</var>. The user making the request must have
admin privileges (see section <a href="#Access-Control">Controlling access to databases</a>).  If successful, the PR is removed from the filesystem and
the index file; a gap will be left in the numbering sequence for PRs.
No checks are made that the PR is closed.
</p>
<p>The possible responses are:
</p>
<p><code>200 (CODE_OK)</code>
<br>The PR was successfully deleted.
</p>
<p><code>422 (CODE_NO_ACCESS)</code>
<br>The user requesting the delete does not have admin privileges.
</p>
<p><code>430 (CODE_LOCKED_PR)</code>
<br>The PR is locked by another session.
</p>
<p><code>431 (CODE_GNATS_LOCKED)</code>
<br>The database has been locked, and no PRs may be updated until the lock
is cleared.
</p>
<p><code>6xx (internal error)</code>
<br>The PR could not be successfully deleted, usually because of
permission or other filesystem-related problems.
</p>
</dd>
<dt> <code>CHEK [initial]</code></dt>
<dd><p>Used to check the text of an entire PR for errors.  Unlike the
<code>VFLD</code> command, it accepts an entire PR at once instead of the
contents of an individual field.
</p>
<p>The <code>initial</code> argument indicates that the PR text to be checked is
for a PR that will be newly created, rather than an edit or replacement
of an existing PR.
</p>
<p>After the <code>CHEK</code> command is issued, the server will respond with
either a <code>440 (CODE_CMD_ERROR)</code> response indicating that the
command arguments were incorrect, or a <code>211 (CODE_SEND_PR)</code>
response code will be sent.
</p>
<p>Once the <code>211</code> response is received from the server, the client
should send the PR using the normal PR quoting mechanism; the final line
of the PR is then followed by a line containing a single period, as
usual.
</p>
<p>The server will then respond with either a <code>200 (CODE_OK)</code>
response, indicating there were no problems with the supplied text, or
one or more error codes listing the problems with the PR.
</p>
</dd>
<dt> <code>EDIT <var>PR</var></code></dt>
<dd><p>Verifies the replacement text for <var>PR</var>.  If the command is
successful, the contents of <var>PR</var> are completely replaced with the
supplied text.  The PR must previously have been locked with the
<code>LOCK</code> command.
</p>
<p>The possible responses are:
</p>
<p><code>431 (CODE_GNATS_LOCKED)</code>
<br>The database has been locked, and no PRs may be updated until the lock
is cleared.
</p>
<p><code>433 (CODE_PR_NOT_LOCKED)</code>
<br>The PR was not previously locked with the <code>LOCK</code> command.
</p>
<p><code>400 (CODE_NONEXISTENT_PR)</code>
<br>The specified PR does not currently exist.  The <code>SUBM</code> command
should be used to create new PRs.
</p>
<p><code>211 (CODE_SEND_PR)</code>
<br>The client should now transmit the replacement PR text using the
normal PR quoting mechanism.  After the PR has been sent, the server
will respond with either <code>200 (CODE_OK)</code> indicating that the edit
was successful, or one or more error codes listing problems either with
the replacement PR text or errors encountered while updating the PR file
or index.
</p>
</dd>
<dt> <code>EDITADDR <var>address</var></code></dt>
<dd><p>Sets the e-mail address of the person communicating with
<code>gnatsd</code>.  The command requires at least the <code>edit</code> access
level.
</p>
<p>The possible responses are:
</p>
<p><code>200 (CODE_OK)</code>
<br>The address was successfully set.
</p>
<p><code>440 (CODE_CMD_ERROR)</code>
<br>Invalid number of arguments were supplied.
</p>
</dd>
<dt> <code>APPN <var>PR</var> <var>field</var></code></dt>
<dt> <code>REPL <var>PR</var> <var>field</var></code></dt>
<dd><p>Appends to or replaces the contents of <var>field</var> in <var>PR</var> with the
supplied text.  The command returns a <code>201 (CODE_SEND_TEXT)</code>
response; the client should then transmit the new field contents using
the standard PR quoting mechanism.  After the server has read the new
contents, it then attempts to make the requested change to the PR.
</p>
<p>The possible responses are:
</p>
<p><code>200 (CODE_OK)</code>
<br>The PR field was successfully changed.
</p>
<p><code>400 (CODE_NONEXISTENT_PR)</code>
<br>The PR specified does not exist.
</p>
<p><code>410 (CODE_INVALID_FIELD_NAME)</code>
<br>The specified field does not exist.
</p>
<p><code>402 (CODE_UNREADABLE_PR)</code>
<br>The PR could not be read.
</p>
<p><code>431 (CODE_GNATS_LOCKED)</code>
<br>The database has been locked, and no PRs may be updated until the lock
is cleared.
</p>
<p><code>430 (CODE_LOCKED_PR)</code>
<br>The PR is locked, and may not be altered until the lock is cleared.
</p>
<p><code>413 (CODE_INVALID_FIELD_CONTENTS)</code>
<br>The supplied (or resulting) field contents are not valid for the
field.
</p>
<p><code>6xx (internal error)</code>
<br>An internal error occurred, usually because of permission or other
filesystem-related problems.  The PR may or may not have been altered.
</p>
</dd>
<dt> <code>SUBM</code></dt>
<dd><p>Submits a new PR into the database.  The supplied text is verified for
correctness, and if no problems are found a new PR is created.
</p>
<p>The possible responses are:
</p>
<p><code>431 (CODE_GNATS_LOCKED)</code>
<br>The database has been locked, and no PRs may be submitted until the
lock is cleared.
</p>
<p><code>211 (CODE_SEND_PR)</code>
<br>The client should now transmit the new PR text using the normal
quoting mechanism.  After the PR has been sent, the server will respond
with either <code>351 (CODE_INFORMATION_FILLER)</code> and
<code>350 (CODE_INFORMATION)</code> responses indicating that the new PR
has been created and supplying the number assigned to it, or one or
more error codes listing problems with the new PR text.
</p>
</dd>
<dt> <code>CHDB <var>database</var></code></dt>
<dd><p>Switches the current database to the name specified in the command.
</p>
<p>The possible responses are:
</p>
<p><code>422 (CODE_NO_ACCESS)</code>
<br>The user does not have permission to access the requested database.
</p>
<p><code>417 (CODE_INVALID_DATABASE)</code>
<br>The database specified does not exist, or one or more configuration
errors in the database were encountered.
</p>
<p><code>220 (CODE_OK)</code>
<br>The current database is now <var>database</var>.  Any operations performed
will now be applied to <var>database</var>.
</p>
</dd>
<dt> <code>DBLS</code></dt>
<dd><p>Lists the known set of databases.
</p>
<p>The possible responses are:
</p>
<p><code>6xx (internal error)</code>
<br>An internal error was encountered while trying to obtain the list of
available databases, usually due to lack of permissions or other
filesystem-related problems, or the list of databases is empty.
</p>
<p><code>301 (CODE_TEXT_READY)</code>
<br>The list of databases follows, one per line, using the standard
quoting mechanism.  Only the database names are sent.
</p>
<p>The <code>gnatsd</code> access level &lsquo;<samp>listdb</samp>&rsquo; denies access until the
user has authenticated with the USER command.  The only other command
available at this access level is <code>DBLS</code>.  This access level
provides a way for a site to secure its <small>GNATS</small> databases while still
providing a way for client tools to obtain a list of the databases for
use on login screens etc.  See section <a href="#Access-Control">Controlling access to databases</a>.
</p>
</dd>
<dt> <code>DBDESC <var>database</var></code></dt>
<dd><p>Returns a human-readable description of the specified <var>database</var>.
</p>
<p>Responses include:
</p>
<p><code>6xx (internal error)</code>
<br>An internal error was encountered while trying to read the list of
available databases, usually due to lack of permissions or other
filesystem-related problems, or the list of databases is empty.
</p>
<p><code>350 (CODE_INFORMATION)</code>
<br>The normal response; the supplied text is the database description.
</p>
<p><code>417 (CODE_INVALID_DATABASE)</code>
<br>The specified database name does not have an entry.
</p>
</dd>
<dt> <code>EXPR <var>query expression</var></code></dt>
<dd><p>Specifies a <var>query expression</var> used to limit which PRs are returned
from the <code>QUER</code> command.  The expression uses the normal query
expression syntax, (see section <a href="#Query-expressions">Query expressions</a>).
</p>
<p>Multiple <code>EXPR</code> commands may be issued; the expressions are boolean
ANDed together.
</p>
<p>Expressions are cleared by the <code>RSET</code> command.
</p>
<p>Possible responses include:
</p>
<p><code>415 (CODE_INVALID_EXPR)</code>
<br>The specified expression is invalid, and could not be parsed.
</p>
<p><code>200 (CODE_OK)</code>
<br>The expression has been accepted and will be used to limit the
results returned from <code>QUER</code>.
</p>
</dd>
<dt> <code>QFMT <var>query format</var></code></dt>
<dd><p>Use the specified <var>query format</var> to format the output of the
<code>QUER</code> command.  The query format may be either the name of a query
format known to the server (see section <a href="#Named-query-definitions">Named query definitions</a>), or an
actual query format (see section <a href="#Formatting-query_002dpr-output">Formatting <code>query-pr</code> output</a>).  The possible
responses are:
</p>
<p><code>200 (CODE_OK)</code>
<br>The normal response, which indicates that the query format is
acceptable.
</p>
<p><code>440 (CODE_CMD_ERROR)</code>
<br>No query format was supplied.
</p>
<p><code>418 (CODE_INVALID_QUERY_FORMAT)</code>
<br>The specified query format does not exist, or could not be parsed.
</p>
</dd>
<dt> <code>QUER [<var>PR</var>] [<var>PR</var>] [...]</code></dt>
<dd><p>Searches the contents of the database for PRs that match the
(optional) specified expressions with the <code>EXPR</code> command. If no
expressions were specified with <code>EXPR</code>, the entire set of PRs is
returned.
</p>
<p>If one or more PRs are specified on the command line, only those PRs
will be searched and/or output.
</p>
<p>The format of the output from the command is determined by the query
format selected with the <code>QFMT</code> command.
</p>
<p>The possible responses are:
</p>
<p><code>418 (CODE_INVALID_QUERY_FORMAT)</code>
<br>A valid format was not specified with the <code>QFMT</code> command prior to
invoking <code>QUER</code>.
</p>
<p><code>300 (CODE_PR_READY)</code>
<br>One or more PRs will be output using the requested query format. The
PR text is quoted using the normal quoting mechanisms for PRs.
</p>
<p><code>220 (CODE_NO_PRS_MATCHED)</code>
<br>No PRs met the specified criteria.
</p>
</dd>
<dt> <code>ADMV <var>field key</var> [<var>subfield</var>]</code></dt>
<dd><p>Returns an entry from an administrative data file associated with
<var>field</var>. <var>key</var> is used to look up the entry in the data file. If
<var>subfield</var> is specified, only the value of that subfield is
returned; otherwise, all of the fields in the adm data file are
returned, separated by colons &lsquo;<samp>:</samp>&rsquo;.
</p>
<p>The responses are:
</p>
<p><code>410 (CODE_INVALID_FIELD_NAME)</code>
The specified field does not exist.
</p>
<p><code>221 (CODE_NO_ADM_ENTRY)</code>
An adm entry matching the key was not found, or the field does not have
an adm file associated with it.
</p>
<p><code>350 (CODE_INFORMATION)</code>
The normal response; the supplied text is the requested field(s).
</p></dd>
</dl>

<hr size="6">
<a name="gnatsd-environment-variables"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#gnatsd-commands" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="gnatsd-environment-variables-1"></a>
<h2 class="section">B.5 <code>gnatsd</code> environment variables</h2>
<a name="index-gnatsd-environment-variables"></a>
<a name="index-GNATSDB-1"></a>

<p><code>gnatsd</code> supports the <code>GNATSDB</code> environment varable,
See section <a href="#Environment">Environment variables and <small>GNATS</small> tools</a>, in almost the same way as the <small>GNATS</small> tools do.
This variable is used to determine which database to use.  For a local
database, it contains the name of the database to
access. <code>gnatsd</code> cannot service remote databases (though it might
be interesting if it could) so the database is always assumed to be
local.
</p>
<p>If <code>GNATSDB</code> is not set and the <code>--database</code> option is not
supplied, it is assumed that the database is local and that its name is
&lsquo;<samp>default</samp>&rsquo;.
</p>
<hr size="6">
<a name="Access-Control"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#gnatsd-environment-variables" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Overview" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#gnatsd" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Regexps" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Controlling-access-to-databases"></a>
<h1 class="appendix">C. Controlling access to databases</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Overview">C.1 Overview</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Overall-gnatsd-access-level">C.2 Overall <code>gnatsd</code> access level</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#gnatsd_002ehost_005faccess">C.3 Overall access levels per host</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Per-host access settings
</td></tr>
<tr><td align="left" valign="top"><a href="#gnatsd_002euser_005faccess">C.4 Access levels per user</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Privileged-gnatsd-commands">C.5 Privileged <code>gnatsd</code> commands</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Overview"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Access-Control" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Overall-gnatsd-access-level" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Regexps" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Overview-2"></a>
<h2 class="section">C.1 Overview</h2>

<p><small>GNATS</small> supports granting various levels of access to the <small>GNATS</small>
databases served by the network daemon, <code>gnatsd</code>.
</p>
<p><small>GNATS</small> access can be controlled at these levels:
</p>
<dl compact="compact">
<dt> <code>deny</code></dt>
<dd><p>gnatsd closes the connection
</p>
</dd>
<dt> <code>none</code></dt>
<dd><p>no further access until userid and password given
</p>
</dd>
<dt> <code>listdb</code></dt>
<dd><p>only listing of available databases is allowed
</p>
</dd>
<dt> <code>view</code></dt>
<dd><p>query and view PRs with Confidential=no only
</p>
</dd>
<dt> <code>viewconf</code></dt>
<dd><p>query and view PRs with Confidential=yes
</p>
</dd>
<dt> <code>edit</code></dt>
<dd><p>full edit access
</p>
</dd>
<dt> <code>admin</code></dt>
<dd><p>full admin access
</p></dd>
</dl>

<p>These access levels are used in the following settings:
</p>
<ul>
<li> overall gnatsd access level

</li><li> overall access level set by host name or IP address

</li><li> overall access level set by userid and password

</li><li> per-database access level set by userid and password
</li></ul>

<hr size="6">
<a name="Overall-gnatsd-access-level"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Overview" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd_002ehost_005faccess" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Regexps" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Overall-gnatsd-access-level-1"></a>
<h2 class="section">C.2 Overall <code>gnatsd</code> access level</h2>

<p>The overall <code>gnatsd</code> access level is set by starting <code>gnatsd</code>
with the option
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><code>-m</code> <var>level</var> or <code>--maximum-access-level</code>=<var>level</var>,
</pre></td></tr></table>

<p>where <var>level</var> is one of the six access levels listed
above.  This restricts any access to the <small>GNATS</small> daemon to levels up
to and including <var>level</var>, regardless of the settings in the access
control files discussed below.  If this option is left out, any access
levels set in the access control files will be allowed.
</p>
<p>The discussion below assumes that the pre-build configure of <small>GNATS</small>
was done without altering the default values for the
<code>--enable-gnatsd-user-access-file</code> and
<code>--enable-gnatsd-host-access-file</code> options.  If non-default values
were given, substitute as appropriate below.
</p>
<hr size="6">
<a name="gnatsd_002ehost_005faccess"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Overall-gnatsd-access-level" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#gnatsd_002euser_005faccess" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Regexps" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Overall-access-levels-per-host"></a>
<h2 class="section">C.3 Overall access levels per host</h2>
<a name="index-gnatsd_002ehost_005faccess-1"></a>

<p>The host access file (by default
&lsquo;<tt>/usr/local/etc/gnats/gnatsd.host_access</tt>&rsquo;) controls overall
access levels on a per-host basis, meaning that settings in this file
apply across all databases on the server.  Entries in this file are in
the following format:
</p>
<p><var>host:access-level:whatever</var>
</p>
<p><var>host</var> is the hostname or IP address of the host contacting
gnatsd.  Wildcard characters are supported: &lsquo;<samp>*</samp>&rsquo; matches anything;
&lsquo;<samp>?</samp>&rsquo; matches any single character.  By using wildcards, you can
specify access levels for entire network subnets and domains.  Note
that when <small>GNATS</small> authenticates hosts, it reads the entries in this
file in sequence until a match is found.  This means that wildcard
entries must be placed near the end of the file, otherwise, they
will override non-wildcard entries appearing after the wildcard
ones.
</p>
<p>The second field is the access level of <var>host</var>.  The default is
<code>deny</code>.  If the user&rsquo;s hostname isn&rsquo;t in the file or its access
level is set to <code>deny</code>, the connection is closed immediately.
</p>
<p><small>GNATS</small> currently doesn&rsquo;t make use of the third field. Remember to
still include the second &lsquo;<samp>:</samp>&rsquo; on the line if you choose to leave the third
field empty.
</p>
<p>Whenever a <code>CHDB</code> command is processed (or defaulted), the user&rsquo;s
access level is set to the level for their host, as determined by the
values in the &lsquo;<tt>gnatsd.host_access</tt>&rsquo; file.  However, even if a host
is given the <code>none</code> access level, an individual can still give the
<code>USER</code> command to possibly gain a higher (but never lower) access
than is set for their host.  The gnatsd <code>USER</code> command takes two
arguments: <code>USER &lt;userid&gt; &lt;passwd&gt;</code>.
</p>
<hr size="6">
<a name="gnatsd_002euser_005faccess"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#gnatsd_002ehost_005faccess" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Privileged-gnatsd-commands" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Regexps" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Access-levels-per-user"></a>
<h2 class="section">C.4 Access levels per user</h2>
<a name="index-gnatsd_002euser_005faccess-1"></a>

<p>Access levels per user can be set both across all databases on the
server or on a per-database basis.  The &lsquo;<tt>gnatsd.user_access</tt>&rsquo; file
in a database&rsquo;s &lsquo;<tt>gnats-adm</tt>&rsquo; directory specifies the user access
rules for that database.  If it doesn&rsquo;t exist, or doesn&rsquo;t contain the
user name given to <code>gnatsd</code>, then the overall user access file
(by default &lsquo;<tt>/usr/local/etc/gnats/gnatsd.user_access</tt>&rsquo;)
specifying the per-user access levels across all the databases on the
server is checked.
</p>
<p>The user access files can only <em>increase</em> the access level
defined in the host access files for the given host, they can never
lower it.
</p>
<p>If the access level is <code>none</code> after processing the userid and
password, the connection is closed.
</p>
<p>The &lsquo;<tt>gnatsd.user_access</tt>&rsquo; files can contain plain text passwords, in
such a case they should be owned by the <small>GNATS</small> user with file
permission 600.
</p>
<p>Wildcard characters are supported for the userid and password with
plain text passwords.  A null string or &lsquo;<samp>*</samp>&rsquo; matches anything;
&lsquo;<samp>?</samp>&rsquo; matches any one character.  Note that when <small>GNATS</small>
authenticates users, it reads the entries in this file in sequence
until a match is found.  This means that wildcard entries must be
placed near the end of the file, otherwise, they will override
non-wildcard entries appearing after the wildcard ones.
</p>
<p>Entries in the database-specific &lsquo;<tt>gnatsd.user_access</tt>&rsquo; user access file
in the &lsquo;<tt>gnats-adm</tt>&rsquo; directory of the database have the following
general format:
</p>
<p><var>userid:password:access-level</var>
</p>
<p>The overall &lsquo;<tt>gnatsd.user_access</tt>&rsquo; user access file adds a fourth
<var>databases</var> field:
</p>
<p><var>userid:password:access-level:databases</var>
</p>
<p><var>password</var> should either be in plain text, DES
<code>crypt()</code><a name="DOCF4" href="#FOOT4">(4)</a> or MD5 hash format<a name="DOCF5" href="#FOOT5">(5)</a>.
</p>
<p>If the password is in plain text format, it must be prefixed by
&lsquo;<samp>$0$</samp>&rsquo; and if it is in MD5 format, it needs to be prefixed by the
string &lsquo;<samp>$1$</samp>&rsquo;.<a name="DOCF6" href="#FOOT6">(6)</a> Passwords encrypted by <code>crypt()</code> should have no
prefix. If no password is given then users can login with an empty
password string.
</p>
<p>A <code>gnats-passwd</code> tool to manage &lsquo;<tt>gnatsd.user_access</tt>&rsquo; files is
planned.  In the meantime, <code>crypt()</code> passwords can be generated by
using standard UNIX passwords tools, while MD5 passwords can be
generated with the following little Perl snippet:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">perl -e 'use Crypt::PasswdMD5 ; print Crypt::PasswdMD5::unix_md5_crypt
&quot;<var>password</var>&quot; , time() % 100000000'
</pre></td></tr></table>

<p>If your Perl installation doesn&rsquo;t have the Crypt module
installed, you need to install it.  On most systems, the following
command achieves this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">perl -MCPAN -e 'install Crypt::PasswdMD5'
</pre></td></tr></table>

<p>A tool for conversion of pre-version 4 &lsquo;<tt>gnatsd.user_access</tt>&rsquo; files is
distributed with <small>GNATS</small> 4.  See section <a href="#gnats_002dpwconv">Converting old password files</a>.
</p>
<p>The <var>access-level</var> field should contain one of the values listed at
the beginning of this appendix.  This overrides (increases but never
lowers) the access level given as the default for the user&rsquo;s host in the
global gnatsd.host_access file.
</p>
<p>The following shows an example &lsquo;<tt>gnatsd.user_access</tt>&rsquo; file with
plain text passwords:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">rickm:$0$ruckm:edit
pablo:$0$pueblo:view
*::none
</pre></td></tr></table>

<p>And this is the same file with MD5-encrypted passwords:
</p><table><tr><td>&nbsp;</td><td><pre class="example">rickm:$1$92388613$D7ZIYikzTUqd./dODTFrI.:edit
pablo:$1$92388652$QRfAhIBG5elT.FQjQKhj80:view
*::none
</pre></td></tr></table>

<p>In these examples, anybody other than rickm and pablo get
denied access, assuming that the host access level is also <code>none</code>.
You could set the catch-all rule at the end to be <code>*::view</code> to
allow view access to anyone who does not supply a password.  Note the
important detail that such a rule would allow view access only to
persons who do not supply a password at all, i.e. if rickm or pablo tries
to log in but mistypes his password, this rule would not apply and
they would be denied access entirely.  This is by design, since people
might be surprised if they suddenly found themselves logged in, but with
a lower access level than they usually have.
</p>
<p>The <var>databases</var> field contains a comma-separated list of database
names, as defined in the &lsquo;<tt>databases</tt>&rsquo; file (see section <a href="#databases-file">The <code>databases</code> file</a>.  Wildcard characters are
supported. The databases listed in this field are the ones to which
the other settings on the same line will be applied.
</p>
<hr size="6">
<a name="Privileged-gnatsd-commands"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#gnatsd_002euser_005faccess" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Regexps" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Regexps" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Privileged-gnatsd-commands-1"></a>
<h2 class="section">C.5 Privileged <code>gnatsd</code> commands</h2>

<p>Every <code>gnatsd</code> command has a minimum access level attached to
it.  If your access level is too low for a command, you get this
response:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">  LOCK 12
  422 You are not authorized to perform this operation (LOCK).
</pre></td></tr></table>

<p>The commands <code>CHDB</code>, <code>USER</code> and <code>QUIT</code> are
unrestricted.
</p>
<p>The <code>DBLS</code> command requires at least <code>listdb</code> access.
</p>
<p>A user must have at least <code>edit</code> access for these commands:
</p>
<dl compact="compact">
<dt> <code>LKDB</code></dt>
<dd><p>lock the main <small>GNATS</small> database.
</p>
</dd>
<dt> <code>UNDB</code></dt>
<dd><p>unlock the main <small>GNATS</small> database.
</p>
</dd>
<dt> <code>LOCK <var>PR user pid</var></code></dt>
<dd><p>lock <var>PR</var> for <var>user</var> and optional <var>pid</var> and return PR text.
</p>
</dd>
<dt> <code>UNLK <var>PR</var></code></dt>
<dd><p>unlock <var>PR</var>.
</p>
</dd>
<dt> <code>EDIT <var>PR</var></code></dt>
<dd><p>check in edited <var>PR</var>.
</p>
</dd>
<dt> <code>APPN <var>PR</var> <var>field</var>, REPL <var>PR</var> <var>field</var></code></dt>
<dd><p>Appends to or replaces the contents of <var>field</var> in <var>PR</var>.
</p></dd>
</dl>

<p>The <code>DELETE</code> <var>PR</var> command is special in that it requires
<code>admin</code> access.
</p>
<p>All other commands require <code>view</code> access.
</p>
<p><code>edit-pr</code> and <code>query-pr</code> accept the command line arguments
<code>-v|--user</code> and <code>-w|--passwd</code>.  See section <a href="#GNATS-user-tools">The <small>GNATS</small> User Tools</a>.
</p>
<hr size="6">
<a name="Regexps"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Privileged-gnatsd-commands" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#dbconfig-recipes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Access-Control" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#dbconfig-recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Querying-using-regular-expressions"></a>
<h1 class="appendix">D. Querying using regular expressions</h1>
<a name="index-querying-using-regexps"></a>
<a name="index-regular-expressions"></a>
<a name="index-syntax-of-regexps"></a>

<p>See also <a href="#Query-expressions">Query expressions</a>.
</p>
<p>Unfortunately, we do not have room in this manual for a complete
exposition on regular expressions.  The following is a basic summary of
some regular expressions you might wish to use.
</p>
<p><em>NOTE: When you use query expressions containing regular
expressions as part of an ordinary query-pr shell command line, you need
to quote them with <code>''</code>, otherwise the shell will try to interpret
the special characters used, yielding highly unpredictable results.</em>
</p>
<p>See <a href="regex.html#Regular-Expression-Syntax">(regex)Regular Expression Syntax</a> section &lsquo;Regular Expression Syntax&rsquo; in <cite>Regex</cite>,
for details on regular expression syntax.  Also see <a href="emacs.html#Regexps">(emacs)Regexps</a> section &lsquo;Syntax of Regular Expressions&rsquo; in <cite>GNU Emacs Manual</cite>, but beware that the
syntax for regular expressions in Emacs is slightly different.
</p>
<p>All search criteria options to <code>query-pr</code> rely on regular
expression syntax to construct their search patterns.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --expr 'State=&quot;open&quot;' --format full
</pre></td></tr></table>

<p>matches all PRs whose <code>State</code> values match with the regular
expression &lsquo;<samp>open</samp>&rsquo;.
</p>
<p>We can substitute the expression &lsquo;<samp>o</samp>&rsquo; for &lsquo;<samp>open</samp>&rsquo;, according
to <small>GNU</small> regular expression syntax.  This matches all values of
<code>State</code> which begin with the letter &lsquo;<samp>o</samp>&rsquo;.
</p>
<p>We see that
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --expr 'State=&quot;o&quot;' --format full
</pre></td></tr></table>

<p>is equivalent to
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --expr 'State=&quot;open&quot;' --format full
</pre></td></tr></table>

<p>in this case, since the only value for <code>State</code> which matches
the expression &lsquo;<samp>o</samp>&rsquo; in a standard installation is &lsquo;<samp>open</samp>&rsquo;.
&lsquo;<samp>State=&quot;o&quot;</samp>&rsquo; also matches &lsquo;<samp>o</samp>&rsquo;, &lsquo;<samp>oswald</samp>&rsquo;, and even
&lsquo;<samp>oooooo</samp>&rsquo;, but none of those values are valid states for a Problem
Report in default <small>GNATS</small> installations.
</p>
<p>We can also use the expression operator &lsquo;<samp>|</samp>&rsquo; to signify a logical
<code>OR</code>, such that
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --expr 'State=&quot;o|a&quot;' --format full
</pre></td></tr></table>

<p>matches all &lsquo;<samp>open</samp>&rsquo; or &lsquo;<samp>analyzed</samp>&rsquo; Problem Reports.
</p>
<p>Regular expression syntax considers a regexp token surrounded with
parentheses, as in &lsquo;<samp>(<var>regexp</var>)</samp>&rsquo;, to be a <em>group</em>.  This
means that &lsquo;<samp>(ab)*</samp>&rsquo; matches any number (including zero) of
contiguous instances of &lsquo;<samp>ab</samp>&rsquo;.  Matches include &lsquo;<samp></samp>&rsquo;, &lsquo;<samp>ab</samp>&rsquo;,
and &lsquo;<samp>ababab</samp>&rsquo;.
</p>
<p>Regular expression syntax considers a regexp token surrounded with
square brackets, as in &lsquo;<samp>[<var>regexp</var>]</samp>&rsquo;, to be a <em>list</em>.
This means that &lsquo;<samp>Char[(ley)(lene)(broiled)</samp>&rsquo; matches any of the
words &lsquo;<samp>Charley</samp>&rsquo;, &lsquo;<samp>Charlene</samp>&rsquo;, or &lsquo;<samp>Charbroiled</samp>&rsquo; (case is
significant; &lsquo;<samp>charbroiled</samp>&rsquo; is not matched).
</p>
<p>Using groups and lists, we see that
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --expr 'Category=&quot;gcc|gdb|gas&quot;' --format full
</pre></td></tr></table>

<p>is equivalent to
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --expr 'Category=&quot;g(cc|db|as)&quot;' --format full
</pre></td></tr></table>

<p>and is also very similar to
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --expr 'Category=&quot;g[cda]&quot;' --format full
</pre></td></tr></table>

<p>with the exception that this last search matches any values which begin
with &lsquo;<samp>gc</samp>&rsquo;, &lsquo;<samp>gd</samp>&rsquo;, or &lsquo;<samp>ga</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>.</samp>&rsquo; character is known as a <em>wildcard</em>.  &lsquo;<samp>.</samp>&rsquo; matches
on any single character.  &lsquo;<samp>*</samp>&rsquo; matches the previous character
(except newlines), list, or group any number of times, including zero.
Therefore, we can understand &lsquo;<samp>.*</samp>&rsquo; to mean &ldquo;match zero or more
instances of any character.&rdquo;
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --expr 'State=&quot;.*a&quot;' --format full
</pre></td></tr></table>

<p>matches all values for <code>State</code> which contain an &lsquo;<samp>a</samp>&rsquo;.  (These
include &lsquo;<samp>analyzed</samp>&rsquo; and &lsquo;<samp>feedback</samp>&rsquo;.)
</p>
<p>Another way to understand what wildcards do is to follow them on their
search for matching text.  By our syntax, &lsquo;<samp>.*</samp>&rsquo; matches any
character any number of times, including zero.  Therefore, &lsquo;<samp>.*a</samp>&rsquo;
searches for any group of characters which end with &lsquo;<samp>a</samp>&rsquo;, ignoring
the rest of the field.  &lsquo;<samp>.*a</samp>&rsquo; matches &lsquo;<samp>analyzed</samp>&rsquo; (stopping at
the first &lsquo;<samp>a</samp>&rsquo;) as well as &lsquo;<samp>feedback</samp>&rsquo;.
</p>
<p><em>Note:</em> When using &lsquo;<samp>fieldtype:Text</samp>&rsquo; or
&lsquo;<samp>fieldtype:Multitext</samp>&rsquo; (see section <a href="#Query-expressions">Query expressions</a>), you do not have
to specify the token &lsquo;<samp>.*</samp>&rsquo; at the beginning of your expression to
match the entire field.  For the technically minded, this is because
these queries use &lsquo;<samp>re_search</samp>&rsquo; rather than &lsquo;<samp>re_match</samp>&rsquo;.
&lsquo;<samp>re_match</samp>&rsquo; <em>anchors</em> the search at the beginning of the field,
while &lsquo;<samp>re_search</samp>&rsquo; does not anchor the search.
</p>
<p>For example, to search in the <code>&gt;Description:</code> field for the text
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">The defrobulator component returns a nil value.
</pre></td></tr></table>

<p>we can use
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --expr 'fieldtype:Multitext=&quot;defrobulator.*nil&quot;' --format full
</pre></td></tr></table>

<p>To also match newlines, we have to include the expression &lsquo;<samp>(.|^M)</samp>&rsquo;
instead of just a dot (&lsquo;<samp>.</samp>&rsquo;).  &lsquo;<samp>(.|^M)</samp>&rsquo; matches &ldquo;any single
character except a newline (&lsquo;<samp>.</samp>&rsquo;) <em>or</em> (&lsquo;<samp>|</samp>&rsquo;) any newline
(&lsquo;<samp>^M</samp>&rsquo;).&rdquo;  This means that to search for the text
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">The defrobulator component enters the bifrabulator routine
and returns a nil value.
</pre></td></tr></table>

<p>we must use
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">query-pr --expr 'fieldtype:Multitext=&quot;defrobulator(.|^M)*nil&quot;'
         --format full
</pre></td></tr></table>

<p>To generate the newline character &lsquo;<samp>^M</samp>&rsquo;, type the following
depending on your shell:
</p>
<dl compact="compact">
<dt> <code>csh</code></dt>
<dd><p>&lsquo;<samp><em>control</em>-V <em>control</em>-M</samp>&rsquo;
</p>
</dd>
<dt> <code>tcsh</code></dt>
<dd><p>&lsquo;<samp><em>control</em>-V <em>control</em>-J</samp>&rsquo;
</p>
</dd>
<dt> <code>sh (<em>or</em> bash)</code></dt>
<dd><p>Use the &lt;RETURN&gt; key, as in
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(.|
)
</pre></td></tr></table>
</dd>
</dl>

<p>Again, see <a href="regex.html#Regular-Expression-Syntax">(regex)Regular Expression Syntax</a> section &lsquo;Regular Expression Syntax&rsquo; in <cite>Regex</cite>, for a much more complete discussion on regular
expression syntax.
</p>

<hr size="6">
<a name="dbconfig-recipes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Regexps" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Support" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Regexps" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Support" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="dbconfig-recipes-1"></a>
<h1 class="appendix">E. &lsquo;<tt>dbconfig</tt>&rsquo; recipes</h1>
<a name="index-dbconfig"></a>
<a name="index-dbconfig-recipes"></a>

<p>The &lsquo;<tt>dbconfig</tt>&rsquo; file (<a href="#dbconfig-file">The &lsquo;<tt>dbconfig</tt>&rsquo; file</a>) is the heart of any <small>GNATS</small> installation.  It contains some
very powerful machinery, something which this appendix tries to
illustrate.
</p>
<p>We provide a range of examples that are both intended to be useful in
their own right and to serve as starting points or building blocks for
your own modifications.
</p>
<a name="Provide-Gnatsweb-URL-in-initial-response"></a>
<h4 class="subsubheading">Provide Gnatsweb URL in initial response</h4>

<p>Sites that have Gnatsweb installed may wish to modify the response
e-mail which is sent to the submitter of a PR so that it includes a
URL where the status of the PR can be monitored.  In order to allow
this, you should first create an entry in &lsquo;<tt>gnatsd.user_access</tt>&rsquo;
which allows viewing of PRs in your database
(See section <a href="#gnatsd_002euser_005faccess">The &lsquo;<tt>gnatsd.user_access</tt>&rsquo; file</a>.)
</p>
<p>Next, locate the entry <code>mail-format
&quot;initial-response-to-submitter&quot;</code> in the &lsquo;<tt>dbconfig</tt>&rsquo; file of your
database and add the following <em>before</em> the line reading &ldquo;The
individual assigned...&rdquo; in the <code>body</code> section:
</p>
<pre class="verbatim">\nYou can follow the status of this report on\n\
http://hostname/cgi-bin/scriptname?\n\
cmd=view&amp;database=dbname&amp;user=username&amp;\n\
password=passwd&amp;pr=%s\n\n\
</pre>
<p>Substitute <code>hostname</code>, <code>cgi-bin</code> and <code>scriptname</code> as
appropriate for the setup of your web server.  The part before the
&lsquo;<samp>?</samp>&rsquo; would typically look something like
<code>http://www.example.com/cgi-bin/gnatsweb.pl</code>.  Substitute the
name of your database for <code>dbname</code>, and the username and password
of the user with <code>view</code> rights for <code>username</code> and
<code>passwd</code>.
</p>
<p>Next, add a <code>Number</code> to the <code>fields</code> list statement inside
the <code>body</code> so it reads as follows:
</p>
<pre class="verbatim">fields { &quot;Category&quot; &quot;Number&quot; &quot;Number&quot; &quot;Responsible&quot;
         &quot;Category&quot; &quot;Responsible&quot; &quot;Synopsis&quot;
         &quot;Arrival-Date&quot; }
</pre>
<a name="State-full-name-of-responsible-in-initial-response"></a>
<h4 class="subsubheading">State full name of responsible in initial response</h4>

<p>The initial e-mail response to the submitter of a PR identifies the
responsible person assigned to the PR as follows: &ldquo;The individual
assigned to look at your report is: <var>GNATS username</var>&rdquo;.  Some
sites may wish to modify this so that the full name of the responsible
person is used instead of the <small>GNATS</small> user name.
</p>
<p>The full name is contained in the <code>fullname</code> subfield of the
user&rsquo;s entry in the &lsquo;<tt>responsible</tt>&rsquo; file and can be accessed as
<code>Responsible[fullname]</code> (see <a href="#administrative-files">Enumerated field administrative files</a>.)
</p>
<p>The change is achieved by editing the &lsquo;<tt>dbconfig</tt>&rsquo; item
<code>mail-format &quot;initial-response-to-submitter&quot;</code> and changing the
<code>fields</code> part of the <code>Body</code> from
</p>
<pre class="verbatim">fields { &quot;Category&quot; &quot;Number&quot; &quot;Responsible&quot;
         &quot;Category&quot; &quot;Responsible&quot; &quot;Synopsis&quot;
         &quot;Arrival-Date&quot; }
</pre>
<p>to
</p>
<pre class="verbatim">fields { &quot;Category&quot; &quot;Number&quot; &quot;Responsible[fullname]&quot;
         &quot;Category&quot; &quot;Responsible&quot; &quot;Synopsis&quot;
         &quot;Arrival-Date&quot; }
</pre>
<a name="Append_002donly-Audit_002dTrail"></a>
<h4 class="subsubheading">Append-only Audit-Trail</h4>

<p>The Audit-Trail of a PR is by default editable.  For some
applications, one might want to make the Audit-Trail append-only, so
it provides a full and unchangeable case history.  Also by default,
only certain changes, such as change of state and change of
responsible gets recorded in the Audit-Trail.  In some cases, it might
also be convenient to have a way of inserting comments directly into
the Audit-Trail.
</p>
<p>The following procedure creates such an append-only Audit-Trail and
adds a PR field which makes it possible to register comments in the
Audit-Trail.
</p>
<p>First, add the keyword <code>read-only</code> to the Audit-Trail field
definition in &lsquo;<tt>dbconfig</tt>&rsquo;.
</p>
<p>Then, add the following field definition to &lsquo;<tt>dbconfig</tt>&rsquo;:
</p>
<pre class="verbatim">field &quot;Add-To-Audit-Trail&quot; {
   description &quot;Add a log entry to the Audit Trail&quot;
   multitext { default &quot;\n&quot; }
   on-change  {
        add-audit-trail
        audit-trail-format {
        format &quot;**** Comment added by %s on %s ****\n %s\n\n&quot;
        fields { &quot;$EditUserEmailAddr&quot; &quot;$CurrentDate&quot; &quot;$NewValue&quot;
        }
        }
    }
    on-change {
        set-field &quot;Add-To-Audit-Trail&quot; { &quot;\n&quot; }
    }
}
</pre>
<p><a name="release_002dbased-support"></a>
<a name="Supporting-GNATS-_0060_0060release_002dbased_0027_0027-fields"></a>
<h4 class="subsubheading">Supporting <small>GNATS</small> &ldquo;release-based&rdquo; fields</h4>
</p>
<p>When installing <small>GNATS</small> version 3.x, it was possible to choose
whether to enable three optional fields: <code>Quarter</code>, <code>Keywords</code>
and <code>Date-Required</code>.  Default installations had these fields
switched off, and installations which had them were called
&ldquo;release-based&rdquo;.
</p>
<p>The default &lsquo;<tt>dbconfig</tt>&rsquo; shipped with <small>GNATS</small> version 4 or newer
does not have these fields, so if you are upgrading from an old
release-based system, you need to add the following field definitions to
your &lsquo;<tt>dbconfig</tt>&rsquo; file:
</p>
<pre class="verbatim">field &quot;Quarter&quot; {
    description &quot;What quarter does the PR fall into?&quot;
    text
    query-default inexact-regexp
    textsearch
}

field &quot;Keywords&quot; {
    description &quot;Keywords used to index this PR&quot;
    text
    query-default inexact-regexp
    textsearch
}

field &quot;Date-Required&quot; {
    description &quot;Date that the PR must be fixed by&quot;
    date
}
</pre>
<p>A side note: Pre-release versions of <small>GNATS</small> 4 also had a field
named <code>Cases</code>.  For those who may need it, here is the field
definition of <code>Cases</code>:
</p>
<pre class="verbatim">field &quot;Cases&quot; {
    text
    query-default inexact-regexp
    textsearch
}
</pre>
<hr size="6">
<a name="Support"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#dbconfig-recipes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Copying-This-Manual" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#dbconfig-recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Copying-This-Manual" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GNATS-support"></a>
<h1 class="appendix">F. <small>GNATS</small> support</h1>

<a name="index-GNATS-support"></a>
<p>The <small>GNATS</small> home page is located at
<a href="http://www.gnu.org/software/gnats">http://www.gnu.org/software/gnats</a>.  It contains all the
important references to the available information about <small>GNATS</small> and
the related software.
</p>
<p>There is also a special page dedicated to the <small>GNATS</small> development
at <a href="http://savannah.gnu.org/projects/gnats">http://savannah.gnu.org/projects/gnats</a>.
</p>
<a name="index-mailing-lists"></a>
<p>There are several <small>GNATS</small> mailing lists.  The most important ones
are:
</p>
<dl compact="compact">
<dt> info-gnats@gnu.org</dt>
<dd><p>Announcements and other important information about <small>GNATS</small> and the
related software.  This is a very low volume moderated list.
</p>
</dd>
<dt> bug-gnats@gnu.org</dt>
<dd><p>The bug reporting mailing list on the <small>GNATS</small> itself.  Please note
that the preferred way to report <small>GNATS</small> bugs is to submit them via
the web interface at
<a href="http://bugs.gnu.org/cgi-bin/gnatsweb.pl?database=gnats">http://bugs.gnu.org/cgi-bin/gnatsweb.pl?database=gnats</a>.  New bug
reports submitted via the web interface are copied to the mailing list
automatically.
</p>
</dd>
<dt> help-gnats@gnu.org</dt>
<dd><p>General discussion about <small>GNATS</small>.  Anything related to <small>GNATS</small>
(user questions, development, suggestions, etc.) can be discussed
there.
</p></dd>
</dl>

<p>The complete list of <small>GNATS</small> related mailing lists is available
from the web page at <a href="http://savannah.gnu.org/project/gnats">http://savannah.gnu.org/project/gnats</a>.
</p>
<a name="index-bug-reporting"></a>
<p>When you report problems concerning <small>GNATS</small> itself, please do not
forget to provide especially the following information:
</p>
<ul>
<li>
The <small>GNATS</small> version you are using.

</li><li>
The <em>exact</em> way how to reproduce the bug.

</li><li>
Your configuration.

</li><li>
If you encounter a compilation or build problem, it is especially
important to mention the operating system, compiler and possibly other
build utilities you use.
</li></ul>

<p>Providing this information in the initial report avoids further
unnecessary communication, saves our limited development resources and
helps to track down and fix the problem soon.
</p>


<hr size="6">
<a name="Copying-This-Manual"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Support" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Free-Documentation-License" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Support" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Copying-This-Manual-1"></a>
<h1 class="appendix">G. Copying This Manual</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#GNU-Free-Documentation-License">G.1 GNU Free Documentation License</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  License for copying this manual.
</td></tr>
</table>


<hr size="6">
<a name="GNU-Free-Documentation-License"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Copying-This-Manual" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ADDENDUM_003a-How-to-use-this-License-for-your-documents" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Copying-This-Manual" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Copying-This-Manual" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GNU-Free-Documentation-License-1"></a>
<h2 class="appendixsec">G.1 GNU Free Documentation License</h2>

<a name="index-FDL_002c-GNU-Free-Documentation-License"></a>
<p align="center"> Version 1.2, November 2002
</p>
<table><tr><td>&nbsp;</td><td><pre class="display">Copyright &copy; 2000,2001,2002 Free Software Foundation, Inc.
51 Franklin St, Fifth Floor, Boston, MA  02110-1301, USA

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre></td></tr></table>

<ol>
<li>
PREAMBLE

<p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <em>free</em> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially.
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.
</p>
<p>This License is a kind of ``copyleft'', which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.
</p>
<p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.
</p>
</li><li>
APPLICABILITY AND DEFINITIONS

<p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The ``Document'', below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as ``you''.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.
</p>
<p>A ``Modified Version'' of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.
</p>
<p>A ``Secondary Section'' is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.
</p>
<p>The ``Invariant Sections'' are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.
</p>
<p>The ``Cover Texts'' are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.
</p>
<p>A ``Transparent'' copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent.
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not ``Transparent'' is called ``Opaque''.
</p>
<p>Examples of suitable formats for Transparent copies include plain
<small>ASCII</small> without markup, Texinfo input format, LaTeX input
format, <acronym>SGML</acronym> or <acronym>XML</acronym> using a publicly available
<acronym>DTD</acronym>, and standard-conforming simple <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> designed for human modification.  Examples
of transparent image formats include <acronym>PNG</acronym>, <acronym>XCF</acronym> and
<acronym>JPG</acronym>.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, <acronym>SGML</acronym> or
<acronym>XML</acronym> for which the <acronym>DTD</acronym> and/or processing tools are
not generally available, and the machine-generated <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> produced by some word processors for
output purposes only.
</p>
<p>The ``Title Page'' means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, ``Title Page'' means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.
</p>
<p>A section ``Entitled XYZ'' means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as ``Acknowledgements'',
``Dedications'', ``Endorsements'', or ``History''.)  To ``Preserve the Title''
of such a section when you modify the Document means that it remains a
section ``Entitled XYZ'' according to this definition.
</p>
<p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.
</p>
</li><li>
VERBATIM COPYING

<p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.
</p>
<p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.
</p>
</li><li>
COPYING IN QUANTITY

<p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document's license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.
</p>
<p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.
</p>
<p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material.
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.
</p>
<p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.
</p>
</li><li>
MODIFICATIONS

<p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:
</p>
<ol>
<li>
Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

</li><li>
List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

</li><li>
State on the Title page the name of the publisher of the
Modified Version, as the publisher.

</li><li>
Preserve all the copyright notices of the Document.

</li><li>
Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

</li><li>
Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

</li><li>
Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document's license notice.

</li><li>
Include an unaltered copy of this License.

</li><li>
Preserve the section Entitled ``History'', Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled ``History'' in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

</li><li>
Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the ``History'' section.
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

</li><li>
For any section Entitled ``Acknowledgements'' or ``Dedications'', Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

</li><li>
Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

</li><li>
Delete any section Entitled ``Endorsements''.  Such a section
may not be included in the Modified Version.

</li><li>
Do not retitle any existing section to be Entitled ``Endorsements'' or
to conflict in title with any Invariant Section.

</li><li>
Preserve any Warranty Disclaimers.
</li></ol>

<p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice.
These titles must be distinct from any other section titles.
</p>
<p>You may add a section Entitled ``Endorsements'', provided it contains
nothing but endorsements of your Modified Version by various
parties---for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.
</p>
<p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.
</p>
<p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.
</p>
</li><li>
COMBINING DOCUMENTS

<p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.
</p>
<p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.
</p>
<p>In the combination, you must combine any sections Entitled ``History''
in the various original documents, forming one section Entitled
``History''; likewise combine any sections Entitled ``Acknowledgements'',
and any sections Entitled ``Dedications''.  You must delete all
sections Entitled ``Endorsements.''
</p>
</li><li>
COLLECTIONS OF DOCUMENTS

<p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.
</p>
<p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.
</p>
</li><li>
AGGREGATION WITH INDEPENDENT WORKS

<p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an ``aggregate'' if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation's users beyond what the individual works permit.
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.
</p>
<p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document's Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form.
Otherwise they must appear on printed covers that bracket the whole
aggregate.
</p>
</li><li>
TRANSLATION

<p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.
</p>
<p>If a section in the Document is Entitled ``Acknowledgements'',
``Dedications'', or ``History'', the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.
</p>
</li><li>
TERMINATION

<p>You may not copy, modify, sublicense, or distribute the Document except
as expressly provided for under this License.  Any other attempt to
copy, modify, sublicense or distribute the Document is void, and will
automatically terminate your rights under this License.  However,
parties who have received copies, or rights, from you under this
License will not have their licenses terminated so long as such
parties remain in full compliance.
</p>
</li><li>
FUTURE REVISIONS OF THIS LICENSE

<p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.
</p>
<p>Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License ``or any later version'' applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.
</p></li></ol>


<hr size="6">
<a name="ADDENDUM_003a-How-to-use-this-License-for-your-documents"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#GNU-Free-Documentation-License" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Copying-This-Manual" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Free-Documentation-License" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="appendixsubsec">G.1.1 ADDENDUM: How to use this License for your documents</h3>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  Copyright (C)  <var>year</var>  <var>your name</var>.
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.2
  or any later version published by the Free Software Foundation;
  with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
  Texts.  A copy of the license is included in the section entitled ``GNU
  Free Documentation License''.
</pre></td></tr></table>

<p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the ``with...Texts.'' line with this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">    with the Invariant Sections being <var>list their titles</var>, with
    the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
    being <var>list</var>.
</pre></td></tr></table>

<p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.
</p>
<p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.
</p>


<hr size="6">
<a name="Index"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#ADDENDUM_003a-How-to-use-this-License-for-your-documents" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[ &gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Copying-This-Manual" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[ &gt;&gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Index-1"></a>
<h1 class="unnumbered">Index</h1>

<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Index-1_cp_symbol-1" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#Index-1_cp_symbol-2" class="summary-letter"><b>&gt;</b></a>
 &nbsp; 
<br>
<a href="#Index-1_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-K" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-Q" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-cp">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_symbol-1">-</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002denable_002dgnats_002ddblist_002dfile">&ndash;enable-gnats-dblist-file</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002denable_002dgnats_002ddefault_002ddb">&ndash;enable-gnats-default-db</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002denable_002dgnats_002dservice">&ndash;enable-gnats-service</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002denable_002dgnats_002duser">&ndash;enable-gnats-user</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002denable_002dgnatsd_002dhost_002daccess_002dfile">&ndash;enable-gnatsd-host-access-file</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002denable_002dgnatsd_002duser_002daccess_002dfile">&ndash;enable-gnatsd-user-access-file</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dwith_002dkerberos">&ndash;with-kerberos</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dwith_002dkrb4">&ndash;with-krb4</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_symbol-2">&gt;</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003eSubmitter_002dId"><code>&gt;Submitter-Id</code></a></td><td valign="top"><a href="#PR-template">2.2.3 The Problem Report template</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-adding-a-problem-category">adding a problem category</a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-adding-a-problem-category-1">adding a problem category</a></td><td valign="top"><a href="#mkcat">4.7.2 Adding a problem category</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-adding-and-removing-maintainers">adding and removing maintainers</a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-adding-another-database">adding another database</a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-addresses-file"><code>addresses</code> file</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-addresses-file-1"><code>addresses</code> file</a></td><td valign="top"><a href="#addresses-file">4.4.5 The <code>addresses</code> file</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-admin-files">admin files</a></td><td valign="top"><a href="#Admin-files">4.6 Administrative data files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-administering-GNATS">administering <small>GNATS</small></a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-administrative-utilities">administrative utilities</a></td><td valign="top"><a href="#Admin-utils">4.7 Administrative utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-age-of-PR">age of PR</a></td><td valign="top"><a href="#pr_002dage">4.8.6 The <code>pr-age</code> tool</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-alias-for-incoming-Problem-Reports">alias for incoming Problem Reports</a></td><td valign="top"><a href="#Aliases">3.5 Setting up mail aliases</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-aliases">aliases</a></td><td valign="top"><a href="#Aliases">3.5 Setting up mail aliases</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-analyzed-state"><em>analyzed</em> state</a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-appended_002demail_002dresponse"><code>appended-email-response</code></a></td><td valign="top"><a href="#Outgoing-email-formats">4.3.7 Outgoing email formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-arrival_002ddate"><code>arrival-date</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Arrival_002dDate-field"><code>Arrival-Date</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-at"><code>at</code></a></td><td valign="top"><a href="#Setting-up-the-default-database">3.3 Installing the default database</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-at_002dpr"><code>at-pr</code></a></td><td valign="top"><a href="#at_002dpr">4.8.3 Timely reminders</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-at_002dpr-1"><code>at-pr</code></a></td><td valign="top"><a href="#at_002dpr">4.8.3 Timely reminders</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-audit_002dmail"><code>audit-mail</code></a></td><td valign="top"><a href="#Outgoing-email-formats">4.3.7 Outgoing email formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-audit_002dtrail"><code>audit-trail</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Audit_002dTrail-field"><code>Audit-Trail</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Audit_002dtrail-format">Audit-trail format</a></td><td valign="top"><a href="#Audit_002dtrail-formats">4.3.6 Audit-trail formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-autoload-commands"><code>autoload</code> commands</a></td><td valign="top"><a href="#Installing-utils">3.2 Installing the utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-automatic-notification">automatic notification</a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-automatic-notification-1">automatic notification</a></td><td valign="top"><a href="#at_002dpr">4.8.3 Timely reminders</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-B">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-BACK-UP-YOUR-DATA">BACK UP YOUR DATA</a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-bad-Problem-Reports">bad Problem Reports</a></td><td valign="top"><a href="#PR-template">2.2.3 The Problem Report template</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-bug-alias">bug alias</a></td><td valign="top"><a href="#Aliases">3.5 Setting up mail aliases</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-bug-reporting">bug reporting</a></td><td valign="top"><a href="#Support">F. <small>GNATS</small> support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-building-a-new-index">building a new index</a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-building-GNATS">building GNATS</a></td><td valign="top"><a href="#Installation">3. Installing <small>GNATS</small></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-building-in-a-different-directory">building in a different directory</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-builtin_002dname"><code>builtin-name</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-bury_002dbuffer"><code>bury-buffer</code></a></td><td valign="top"><a href="#Emacs-querying">2.5.2 Querying Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-business_002dday_002dhours"><code>business-day-hours</code></a></td><td valign="top"><a href="#Overall-database-configuration">4.3.1 Overall database configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-business_002dweek_002ddays"><code>business-week-days</code></a></td><td valign="top"><a href="#Overall-database-configuration">4.3.1 Overall database configuration</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-categories-file"><code>categories</code> file</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-categories-file-1"><code>categories</code> file</a></td><td valign="top"><a href="#categories-file">4.4.1 The <code>categories</code> file</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-categories-file-2"><code>categories</code> file</a></td><td valign="top"><a href="#mkcat">4.7.2 Adding a problem category</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-categories-file-3"><code>categories</code> file</a></td><td valign="top"><a href="#rmcat">4.7.3 Removing a problem category</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-category"><code>category</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Category-field"><code>Category</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-category_002ddir_002dperms"><code>category-dir-perms</code></a></td><td valign="top"><a href="#Overall-database-configuration">4.3.1 Overall database configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-change_002drequest-class"><em>change-request</em> class</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-check_002ddb"><code>check-db</code></a></td><td valign="top"><a href="#check_002ddb">4.7.5 Checking database health</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Class-field"><code>Class</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-classes-file"><code>classes</code> file</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-classes-file-1"><code>classes</code> file</a></td><td valign="top"><a href="#classes-file">4.4.6 The <code>classes</code> file</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-closed-state"><em>closed</em> state</a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-closed_002ddate"><code>closed-date</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-command-line-options">command line options</a></td><td valign="top"><a href="#send_002dpr-from-the-shell">2.2.1 Invoking <code>send-pr</code> from the shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-comment-section-in-the-PR-template">comment section in the PR template</a></td><td valign="top"><a href="#PR-template">2.2.3 The Problem Report template</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-compiling-the-software">compiling the software</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-confidential"><code>confidential</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Confidential-field"><code>Confidential</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-confidentiality-in-PRs">confidentiality in PRs</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configure"><code>configure</code></a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configure-1"><code>configure</code></a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configuring--GNATS">configuring  GNATS</a></td><td valign="top"><a href="#Installation">3. Installing <small>GNATS</small></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configuring-and-compiling-the-software">configuring and compiling the software</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configuring-GNATS-for-remote-users">configuring <small>GNATS</small> for remote users</a></td><td valign="top"><a href="#User-tools-for-remote-users">3.7.2 User tools for remote users</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configuring-GNATS-on-a-local-network">configuring <small>GNATS</small> on a local network</a></td><td valign="top"><a href="#User-tools-on-a-local-network">3.7.1 User tools on a local network</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configuring-GNATS-on-a-network">configuring <small>GNATS</small> on a network</a></td><td valign="top"><a href="#Installing-tools">3.7 Installing the user tools</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-create_002dcategory_002ddirs"><code>create-category-dirs</code></a></td><td valign="top"><a href="#Overall-database-configuration">4.3.1 Overall database configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-creating-an-account-for-the-GNATS-user">creating an account for the <small>GNATS</small> user</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-critical-severity-problems"><em>critical</em> severity problems</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cron"><code>cron</code></a></td><td valign="top"><a href="#Setting-up-the-default-database">3.3 Installing the default database</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-crontab"><code>crontab</code></a></td><td valign="top"><a href="#Setting-up-periodic-jobs">3.4 Setting up periodic jobs</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-current-file"><code>current</code> file</a></td><td valign="top"><a href="#current-file">4.6.2 The <code>current</code> file</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-daemon">daemon</a></td><td valign="top"><a href="#Installing-the-daemon">3.6 Installing the daemon</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-database-paradigm">database paradigm</a></td><td valign="top"><a href="#Paradigm">1.1 The database paradigm</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-database-rationale">database rationale</a></td><td valign="top"><a href="#Introduction">1. Introducing <small>GNATS</small></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-database-similarities">database similarities</a></td><td valign="top"><a href="#Fields">1.4 Problem Report format</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-databases">&lsquo;<tt>databases</tt>&rsquo;</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-databases-file"><code>databases</code> file</a></td><td valign="top"><a href="#databases-file">4.2 The <code>databases</code> file</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-datatype"><code>datatype</code></a></td><td valign="top"><a href="#Field-datatypes">4.3.3 Field datatypes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-date"><code>date</code></a></td><td valign="top"><a href="#Field-datatypes">4.3.3 Field datatypes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Date_002dRequired"><code>Date-Required</code></a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Date_002dRequired-field"><code>Date-Required</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dbconfig">dbconfig</a></td><td valign="top"><a href="#dbconfig-recipes">E. &lsquo;<tt>dbconfig</tt>&rsquo; recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dbconfig-file"><code>dbconfig</code> file</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dbconfig-file-1"><code>dbconfig</code> file</a></td><td valign="top"><a href="#dbconfig-file">4.3 The <code>dbconfig</code> file</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dbconfig-mode">dbconfig mode</a></td><td valign="top"><a href="#dbconfig-mode">2.5.7 dbconfig mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dbconfig-recipes">&lsquo;<tt>dbconfig</tt>&rsquo; recipes</a></td><td valign="top"><a href="#dbconfig-recipes">E. &lsquo;<tt>dbconfig</tt>&rsquo; recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-debug_002dmode"><code>debug-mode</code></a></td><td valign="top"><a href="#Overall-database-configuration">4.3.1 Overall database configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-default-installation-locations">default installation locations</a></td><td valign="top"><a href="#Locations">A. Where <small>GNATS</small> lives</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-default-installation-locations-1">default installation locations</a></td><td valign="top"><a href="#defaults">A.4 Default installation locations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-defaults">&lsquo;<tt>defaults</tt>&rsquo;</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-deleted_002dpr_002dmail"><code>deleted-pr-mail</code></a></td><td valign="top"><a href="#Outgoing-email-formats">4.3.7 Outgoing email formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-description"><code>description</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Description-field"><code>Description</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-diff_002dprs"><code>diff-prs</code></a></td><td valign="top"><a href="#diff_002dprs">4.8.5 The <code>diff-prs</code> tool</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Direct-e_002dmail">Direct e-mail</a></td><td valign="top"><a href="#Submitting-via-e_002dmail">2.2.4 Submitting a Problem Report via direct e-mail</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-disabling-submitter_002did">disabling <var>submitter-id</var></a></td><td valign="top"><a href="#submitters-file">4.4.3 The <code>submitters</code> file</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-doc_002dbug-class"><em>doc-bug</em> class</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-driver-for-edit_002dpr">driver for <code>edit-pr</code></a></td><td valign="top"><a href="#pr_002dedit">4.8.4 The <code>edit-pr</code> driver</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-duplicate-class"><em>duplicate</em> class</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-duties-for-gnats_002dadmin">duties for <code>gnats-admin</code></a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-edit-controls">edit controls</a></td><td valign="top"><a href="#Edit-controls">4.3.4 Edit controls</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-edit_002dpr"><code>edit-pr</code></a></td><td valign="top"><a href="#edit_002dpr">2.3 Editing existing Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-edit_002dpr-1"><code>edit-pr</code></a></td><td valign="top"><a href="#Emacs-editing">2.5.4 Editing Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-edit_002dpr-driver"><code>edit-pr</code> driver</a></td><td valign="top"><a href="#pr_002dedit">4.8.4 The <code>edit-pr</code> driver</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-edit_002dpr-from-the-shell"><code>edit-pr</code> from the shell</a></td><td valign="top"><a href="#edit_002dpr-from-the-shell">2.3.1 Invoking <code>edit-pr</code> from the shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-effective-problem-reporting">effective problem reporting</a></td><td valign="top"><a href="#Helpful-hints">2.2.5 Helpful hints</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Emacs">Emacs</a></td><td valign="top"><a href="#Emacs">2.5 The Emacs interface to <small>GNATS</small></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Emacs-functions">Emacs functions</a></td><td valign="top"><a href="#Installing-utils">3.2 Installing the utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Emacs-lisp-file-installation">Emacs lisp file installation</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-emptying-the-pending-directory">emptying the <code>pending</code> directory</a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-enum"><code>enum</code></a></td><td valign="top"><a href="#Field-datatypes">4.3.3 Field datatypes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-enumerated_002din_002dfile"><code>enumerated-in-file</code></a></td><td valign="top"><a href="#Field-datatypes">4.3.3 Field datatypes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Environment-field"><code>Environment</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-environment-variables-and-GNATS-tools">environment variables and GNATS tools</a></td><td valign="top"><a href="#Environment">2.1 Environment variables and <small>GNATS</small> tools</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-errors">errors</a></td><td valign="top"><a href="#PR-template">2.2.3 The Problem Report template</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-example-Problem-Report">example Problem Report</a></td><td valign="top"><a href="#Example-Problem-Report">Example Problem Report</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-example-queries">example queries</a></td><td valign="top"><a href="#Example-queries">2.4.4 Example queries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-exec_002dprefix"><var>exec-prefix</var></a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-exec_002dprefix-1"><var>exec-prefix</var></a></td><td valign="top"><a href="#exec_002dprefix">A.2 <var>exec-prefix</var></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-FDL_002c-GNU-Free-Documentation-License">FDL, GNU Free Documentation License</a></td><td valign="top"><a href="#GNU-Free-Documentation-License">G.1 GNU Free Documentation License</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-feedback-state"><em>feedback</em> state</a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Field-datatypes">Field datatypes</a></td><td valign="top"><a href="#Field-datatypes">4.3.3 Field datatypes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-field-format">field format</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fields">fields</a></td><td valign="top"><a href="#Fields">1.4 Problem Report format</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fields-_002d-list">fields - list</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dpr"><code>file-pr</code></a></td><td valign="top"><a href="#file_002dpr">4.8.2 Processing incoming traffic</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-files-used-for-GNATS-administration">files used for <small>GNATS</small> administration</a></td><td valign="top"><a href="#Admin-files">4.6 Administrative data files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-final-state-_0028closed_0029">final state (<em>closed</em>)</a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Fix-field"><code>Fix</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flowchart-of-GNATS-activities">flowchart of GNATS activities</a></td><td valign="top"><a href="#Flowchart">1.2 Flowchart of <small>GNATS</small> activities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-follow_002dup-via-email">follow-up via email</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-follow_002dup-via-email-1">follow-up via email</a></td><td valign="top"><a href="#follow_002dup-via-email">2.3.2 Following up via direct email</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-foreword">foreword</a></td><td valign="top"><a href="#Top">Overview</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-format">format</a></td><td valign="top"><a href="#Fields">1.4 Problem Report format</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-format-parameters">format parameters</a></td><td valign="top"><a href="#Audit_002dtrail-formats">4.3.6 Audit-trail formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-format_002dname"><code>format-name</code></a></td><td valign="top"><a href="#Outgoing-email-formats">4.3.7 Outgoing email formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-From-header"><code>From</code> header</a></td><td valign="top"><a href="#Mail-header-fields">1.4.2 Mail header fields</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-G">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-gen_002dindex"><code>gen-index</code></a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gen_002dindex-1"><code>gen-index</code></a></td><td valign="top"><a href="#gen_002dindex">4.7.4 Regenerating the index</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GNATS-administrator">GNATS administrator</a></td><td valign="top"><a href="#Paradigm">1.1 The database paradigm</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GNATS-configuration"><small>GNATS</small> configuration</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GNATS-database-fields">GNATS database fields</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GNATS-fields-_002d-list">GNATS fields - list</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GNATS-management">GNATS management</a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GNATS-support"><small>GNATS</small> support</a></td><td valign="top"><a href="#Support">F. <small>GNATS</small> support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dadm"><var>gnats-adm</var></a></td><td valign="top"><a href="#gnats_002dadm">A.3 The &lsquo;<tt>gnats-adm</tt>&rsquo; directory</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dadmin-alias"><code>gnats-admin</code> alias</a></td><td valign="top"><a href="#Aliases">3.5 Setting up mail aliases</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dapply_002dor_002dsubmit"><code>gnats-apply-or-submit</code></a></td><td valign="top"><a href="#Emacs-editing-buffer">2.5.5 The Problem Report editing buffer</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dchange_002ddatabase"><code>gnats-change-database</code></a></td><td valign="top"><a href="#Emacs-querying">2.5.2 Querying Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dchange_002ddatabase-1"><code>gnats-change-database</code></a></td><td valign="top"><a href="#Emacs-and-databases">2.5.6 Changing the database</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002ddbconfig_002dmode"><code>gnats-dbconfig-mode</code></a></td><td valign="top"><a href="#dbconfig-mode">2.5.7 dbconfig mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002ddbconfig_002dmode_002dhook"><code>gnats-dbconfig-mode-hook</code></a></td><td valign="top"><a href="#dbconfig-mode">2.5.7 dbconfig mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002ddefault_002dorganization"><var>gnats-default-organization</var></a></td><td valign="top"><a href="#Emacs-submitting">2.5.3 Submitting new Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002ddefault_002dsubmitter"><var>gnats-default-submitter</var></a></td><td valign="top"><a href="#Emacs-submitting">2.5.3 Submitting new Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dedit_002dmode_002dhook"><code>gnats-edit-mode-hook</code></a></td><td valign="top"><a href="#Emacs-editing-buffer">2.5.5 The Problem Report editing buffer</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dnext_002dfield"><code>gnats-next-field</code></a></td><td valign="top"><a href="#Emacs-editing-buffer">2.5.5 The Problem Report editing buffer</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dprevious_002dfield"><code>gnats-previous-field</code></a></td><td valign="top"><a href="#Emacs-editing-buffer">2.5.5 The Problem Report editing buffer</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dpwconv"><code>gnats-pwconv</code></a></td><td valign="top"><a href="#gnats_002dpwconv">4.7.6 Managing user passwords</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dquery_002dedit_002dpr"><code>gnats-query-edit-pr</code></a></td><td valign="top"><a href="#Emacs-querying">2.5.2 Querying Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dquery_002dmode_002dhook"><code>gnats-query-mode-hook</code></a></td><td valign="top"><a href="#Emacs-querying">2.5.2 Querying Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dquery_002dreread"><code>gnats-query-reread</code></a></td><td valign="top"><a href="#Emacs-querying">2.5.2 Querying Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dquery_002dreverse_002dlisting"><var>gnats-query-reverse-listing</var></a></td><td valign="top"><a href="#Emacs-querying">2.5.2 Querying Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dquery_002dview_002dpr"><code>gnats-query-view-pr</code></a></td><td valign="top"><a href="#Emacs-querying">2.5.2 Querying Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dshow_002dconnection"><code>gnats-show-connection</code></a></td><td valign="top"><a href="#Other-Emacs-commands">2.5.8 Other commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dview_002dedit_002dpr"><code>gnats-view-edit-pr</code></a></td><td valign="top"><a href="#Emacs-viewing">2.5.1 Viewing Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnats_002dview_002dmode_002dhook"><code>gnats-view-mode-hook</code></a></td><td valign="top"><a href="#Emacs-viewing">2.5.1 Viewing Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd"><code>gnatsd</code></a></td><td valign="top"><a href="#gnatsd">B. The <small>GNATS</small> network server &ndash; <code>gnatsd</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd-command-protocol"><code>gnatsd</code> command protocol</a></td><td valign="top"><a href="#gnatsd-command-protocol">B.3 <code>gnatsd</code> command protocol</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd-commands"><code>gnatsd</code> commands</a></td><td valign="top"><a href="#gnatsd-commands">B.4 <code>gnatsd</code> commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd-commands-1"><code>gnatsd</code> commands</a></td><td valign="top"><a href="#gnatsd-commands">B.4 <code>gnatsd</code> commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd-description"><code>gnatsd</code> description</a></td><td valign="top"><a href="#Description-of-gnatsd">B.1 Description of <code>gnatsd</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd-environment-variables"><code>gnatsd</code> environment variables</a></td><td valign="top"><a href="#gnatsd-environment-variables">B.5 <code>gnatsd</code> environment variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd-options"><code>gnatsd</code> options</a></td><td valign="top"><a href="#gnatsd-options">B.2 <code>gnatsd</code> options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd-startup-options"><code>gnatsd</code> startup options</a></td><td valign="top"><a href="#gnatsd-options">B.2 <code>gnatsd</code> options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd_002c-Emacs">gnatsd, Emacs</a></td><td valign="top"><a href="#Emacs-and-databases">2.5.6 Changing the database</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd_002ehost_005faccess">&lsquo;<tt>gnatsd.host_access</tt>&rsquo;</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd_002ehost_005faccess-1">&lsquo;<tt>gnatsd.host_access</tt>&rsquo;</a></td><td valign="top"><a href="#gnatsd_002ehost_005faccess">C.3 Overall access levels per host</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd_002euser_005faccess">&lsquo;<tt>gnatsd.user_access</tt>&rsquo;</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd_002euser_005faccess-1">&lsquo;<tt>gnatsd.user_access</tt>&rsquo;</a></td><td valign="top"><a href="#gnatsd_002euser_005faccess">C.4 Access levels per user</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnatsd_002euser_005faccess-file"><code>gnatsd.user_access</code> file</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GNATSDB"><code>GNATSDB</code></a></td><td valign="top"><a href="#Environment">2.1 Environment variables and <small>GNATS</small> tools</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GNATSDB-1"><code>GNATSDB</code></a></td><td valign="top"><a href="#gnatsd-environment-variables">B.5 <code>gnatsd</code> environment variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-handling-incoming-traffic">handling incoming traffic</a></td><td valign="top"><a href="#queue_002dpr">4.8.1 Handling incoming traffic</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-helpful-hints">helpful hints</a></td><td valign="top"><a href="#Helpful-hints">2.2.5 Helpful hints</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-high-priority-problems"><em>high</em> priority problems</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-How_002dTo_002dRepeat-field"><code>How-To-Repeat</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-incoming-alias-for-Problem-Reports">incoming alias for Problem Reports</a></td><td valign="top"><a href="#Aliases">3.5 Setting up mail aliases</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-incoming-PRs-that-GNATS-cannot-parse">incoming PRs that <small>GNATS</small> cannot parse</a></td><td valign="top"><a href="#Paradigm">1.1 The database paradigm</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-index-file"><code>index</code> file</a></td><td valign="top"><a href="#index-file">4.6.1 The <code>index</code> file</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-index-file-1"><code>index</code> file</a></td><td valign="top"><a href="#gen_002dindex">4.7.4 Regenerating the index</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Index-file-description">Index file description</a></td><td valign="top"><a href="#Index-file-description">4.3.8 Index file description</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Individual-field-configuration">Individual field configuration</a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-information-to-submit">information to submit</a></td><td valign="top"><a href="#Helpful-hints">2.2.5 Helpful hints</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Initial-PR-input-fields">Initial PR input fields</a></td><td valign="top"><a href="#Initial-PR-input-fields">4.3.9 Initial PR input fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-initial-state-_0028open_0029">initial state (<em>open</em>)</a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-initial_002dpr_002dnotification"><code>initial-pr-notification</code></a></td><td valign="top"><a href="#Outgoing-email-formats">4.3.7 Outgoing email formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-initial_002dpr_002dnotification_002dpending"><code>initial-pr-notification-pending</code></a></td><td valign="top"><a href="#Outgoing-email-formats">4.3.7 Outgoing email formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-initial_002dresponse_002dto_002dsubmitter"><code>initial-response-to-submitter</code></a></td><td valign="top"><a href="#Outgoing-email-formats">4.3.7 Outgoing email formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-initializing-a-database">initializing a database</a></td><td valign="top"><a href="#mkdb">4.7.1 Adding another database</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-installing-GNATS">installing GNATS</a></td><td valign="top"><a href="#Installation">3. Installing <small>GNATS</small></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-installing-the-utilities">installing the utilities</a></td><td valign="top"><a href="#Installing-utils">3.2 Installing the utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-integer"><code>integer</code></a></td><td valign="top"><a href="#Field-datatypes">4.3.3 Field datatypes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-interactive-interface">interactive interface</a></td><td valign="top"><a href="#send_002dpr-in-Emacs">2.2.2 Using <code>send-pr</code> from within Emacs</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-internal-utilities">internal utilities</a></td><td valign="top"><a href="#Internal-utils">4.8 Internal utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Internet-standard-RFC_002d822">Internet standard RFC-822</a></td><td valign="top"><a href="#Mail-header-fields">1.4.2 Mail header fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-introduction-to-GNATS">introduction to GNATS</a></td><td valign="top"><a href="#Introduction">1. Introducing <small>GNATS</small></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-invalid-Problem-Reports">invalid Problem Reports</a></td><td valign="top"><a href="#PR-template">2.2.3 The Problem Report template</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-invoking-edit_002dpr">invoking <code>edit-pr</code></a></td><td valign="top"><a href="#edit_002dpr">2.3 Editing existing Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-invoking-query_002dpr">invoking <code>query-pr</code></a></td><td valign="top"><a href="#query_002dpr">2.4 Querying the database</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-invoking-send_002dpr">invoking <code>send-pr</code></a></td><td valign="top"><a href="#send_002dpr">2.2 Submitting Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-invoking-send_002dpr-from-Emacs">invoking <code>send-pr</code> from Emacs</a></td><td valign="top"><a href="#send_002dpr-in-Emacs">2.2.2 Using <code>send-pr</code> from within Emacs</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-invoking-send_002dpr-from-the-shell">invoking <code>send-pr</code> from the shell</a></td><td valign="top"><a href="#send_002dpr-from-the-shell">2.2.1 Invoking <code>send-pr</code> from the shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-invoking-the-GNATS-user-tools">invoking the <small>GNATS</small> user tools</a></td><td valign="top"><a href="#GNATS-user-tools">2. The <small>GNATS</small> User Tools</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-K">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-keep_002dall_002dreceived_002dheaders"><code>keep-all-received-headers</code></a></td><td valign="top"><a href="#Overall-database-configuration">4.3.1 Overall database configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-kinds-of-helpful-information">kinds of helpful information</a></td><td valign="top"><a href="#Helpful-hints">2.2.5 Helpful hints</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-last_002dmodified"><code>last-modified</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-libexecdir"><code>libexecdir</code></a></td><td valign="top"><a href="#Overall-database-configuration">4.3.1 Overall database configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-life_002dcycle-of-a-Problem-Report">life-cycle of a Problem Report</a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-lisp-file-installation">lisp file installation</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-loading-_002eel-files">loading <code>.el</code> files</a></td><td valign="top"><a href="#Installing-utils">3.2 Installing the utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-locations">locations</a></td><td valign="top"><a href="#Locations">A. Where <small>GNATS</small> lives</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-locks">locks</a></td><td valign="top"><a href="#pr_002dedit">4.8.4 The <code>edit-pr</code> driver</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-low-priority-problems"><em>low</em> priority problems</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-mail-aliases">mail aliases</a></td><td valign="top"><a href="#Aliases">3.5 Setting up mail aliases</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mail-header-fields">mail header fields</a></td><td valign="top"><a href="#Mail-header-fields">1.4.2 Mail header fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mail-header-section">mail header section</a></td><td valign="top"><a href="#PR-template">2.2.3 The Problem Report template</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mailing-lists">mailing lists</a></td><td valign="top"><a href="#Support">F. <small>GNATS</small> support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-maintenance">maintenance</a></td><td valign="top"><a href="#Paradigm">1.1 The database paradigm</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make"><code>make</code></a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-managing-GNATS">managing <small>GNATS</small></a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-medium-priority-problems"><em>medium</em> priority problems</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mistaken-class"><em>mistaken</em> class</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mkcat"><code>mkcat</code></a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mkcat-1"><code>mkcat</code></a></td><td valign="top"><a href="#mkcat">4.7.2 Adding a problem category</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mkdb"><code>mkdb</code></a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mkdb-1"><code>mkdb</code></a></td><td valign="top"><a href="#mkdb">4.7.1 Adding another database</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-multi_002denumerated_002din_002dfile"><code>multi-enumerated-in-file</code></a></td><td valign="top"><a href="#Field-datatypes">4.3.3 Field datatypes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-multienum"><code>multienum</code></a></td><td valign="top"><a href="#Field-datatypes">4.3.3 Field datatypes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-multitext"><code>multitext</code></a></td><td valign="top"><a href="#Field-datatypes">4.3.3 Field datatypes</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-N">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Named-query-definitions">Named query definitions</a></td><td valign="top"><a href="#Named-query-definitions">4.3.5 Named query definitions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-networks">networks</a></td><td valign="top"><a href="#Installing-tools">3.7 Installing the user tools</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-new-database">new database</a></td><td valign="top"><a href="#mkdb">4.7.1 Adding another database</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-new-problem-categories">new problem categories</a></td><td valign="top"><a href="#mkcat">4.7.2 Adding a problem category</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-non_002dcritical-severity-problems"><em>non-critical</em> severity problems</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-notification-of-overdue-PRs">notification of overdue PRs</a></td><td valign="top"><a href="#at_002dpr">4.8.3 Timely reminders</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-notify_002dabout_002dexpired_002dprs"><code>notify-about-expired-prs</code></a></td><td valign="top"><a href="#Overall-database-configuration">4.3.1 Overall database configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Notify_002dList-field"><code>Notify-List</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-number"><code>number</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Number-field"><code>Number</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-objdir"><var>objdir</var></a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open-state"><em>open</em> state</a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Organization-field"><code>Organization</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-originator"><code>originator</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Originator-field"><code>Originator</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Outgoing-email-formats">Outgoing email formats</a></td><td valign="top"><a href="#Outgoing-email-formats">4.3.7 Outgoing email formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Overall-database-configuration">Overall database configuration</a></td><td valign="top"><a href="#Overall-database-configuration">4.3.1 Overall database configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Overview-of-GNATS-configuration">Overview of <small>GNATS</small> configuration</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-overview-to-GNATS">overview to GNATS</a></td><td valign="top"><a href="#Top">Overview</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-paradigm">paradigm</a></td><td valign="top"><a href="#Paradigm">1.1 The database paradigm</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-password_002c-Emacs">password, Emacs</a></td><td valign="top"><a href="#Emacs-and-databases">2.5.6 Changing the database</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pending-directory"><code>pending</code> directory</a></td><td valign="top"><a href="#Paradigm">1.1 The database paradigm</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pending-file"><code>pending</code> file</a></td><td valign="top"><a href="#categories-file">4.4.1 The <code>categories</code> file</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PR-confidentiality">PR confidentiality</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PR-locks">PR locks</a></td><td valign="top"><a href="#pr_002dedit">4.8.4 The <code>edit-pr</code> driver</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pr_002dage"><code>pr-age</code></a></td><td valign="top"><a href="#pr_002dage">4.8.6 The <code>pr-age</code> tool</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pr_002dedit"><code>pr-edit</code></a></td><td valign="top"><a href="#pr_002dedit">4.8.4 The <code>edit-pr</code> driver</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prefix"><var>prefix</var></a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prefix-1"><var>prefix</var></a></td><td valign="top"><a href="#prefix">A.1 <var>prefix</var></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prepare-send_002dpr_002econf">prepare &lsquo;<tt>send-pr.conf</tt>&rsquo;</a></td><td valign="top"><a href="#Installing-utils">3.2 Installing the utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-priority"><code>priority</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Priority-field"><code>Priority</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Problem-Report-format">Problem Report format</a></td><td valign="top"><a href="#Fields">1.4 Problem Report format</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Problem-Report-states">Problem Report states</a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Problem-Report-template">Problem Report template</a></td><td valign="top"><a href="#Example-Problem-Report">Example Problem Report</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-processing-incoming-traffic">processing incoming traffic</a></td><td valign="top"><a href="#file_002dpr">4.8.2 Processing incoming traffic</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pruning-log-files">pruning log files</a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-Q">Q</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-query-expressions">query expressions</a></td><td valign="top"><a href="#Query-expressions">2.4.3 Query expressions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-query_002dpr"><code>query-pr</code></a></td><td valign="top"><a href="#query_002dpr">2.4 Querying the database</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-query_002dpr-1"><code>query-pr</code></a></td><td valign="top"><a href="#Emacs-querying">2.5.2 Querying Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-query_002dpr-2"><code>query-pr</code></a></td><td valign="top"><a href="#Emacs-querying">2.5.2 Querying Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-query_002dpr-by-mail"><code>query-pr</code> by mail</a></td><td valign="top"><a href="#Invoking-query_002dpr">2.4.1 Invoking <code>query-pr</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-query_002dpr-output-format">query-pr output format</a></td><td valign="top"><a href="#Formatting-query_002dpr-output">2.4.2 Formatting <code>query-pr</code> output</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-querying-individual-problem-reports">querying individual problem reports</a></td><td valign="top"><a href="#query_002dpr">2.4 Querying the database</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-querying-using-regexps">querying using regexps</a></td><td valign="top"><a href="#Regexps">D. Querying using regular expressions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-queue_002dpr"><code>queue-pr</code></a></td><td valign="top"><a href="#queue_002dpr">4.8.1 Handling incoming traffic</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-queue_002dpr-_002dq"><code>queue-pr -q</code></a></td><td valign="top"><a href="#Aliases">3.5 Setting up mail aliases</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-rationale">rationale</a></td><td valign="top"><a href="#Introduction">1. Introducing <small>GNATS</small></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Received_002dBy-headers"><code>Received-By</code> headers</a></td><td valign="top"><a href="#Mail-header-fields">1.4.2 Mail header fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-regular-expressions">regular expressions</a></td><td valign="top"><a href="#Regexps">D. Querying using regular expressions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-related-mail">related mail</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-related-mail-1">related mail</a></td><td valign="top"><a href="#follow_002dup-via-email">2.3.2 Following up via direct email</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Release-field"><code>Release</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-reminder-message">reminder message</a></td><td valign="top"><a href="#at_002dpr">4.8.3 Timely reminders</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-removing-a-problem-category">removing a problem category</a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-removing-a-problem-category-1">removing a problem category</a></td><td valign="top"><a href="#rmcat">4.7.3 Removing a problem category</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Reply_002dTo-header"><code>Reply-To</code> header</a></td><td valign="top"><a href="#Mail-header-fields">1.4.2 Mail header fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Report-all-the-facts_0021">Report all the facts!</a></td><td valign="top"><a href="#Helpful-hints">2.2.5 Helpful hints</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-reporting-problems-with-send_002dpr">reporting problems with <code>send-pr</code></a></td><td valign="top"><a href="#send_002dpr">2.2 Submitting Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-responsible"><code>responsible</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Responsible-field"><code>Responsible</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-responsible-file"><code>responsible</code> file</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-responsible-file-1"><code>responsible</code> file</a></td><td valign="top"><a href="#responsible-file">4.4.2 The <code>responsible</code> file</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Responsible_002dChanged_002d_003cFrom_003e_002d_003cTo_003e-in-Audit_002dTrail"><code>Responsible-Changed-&lt;From&gt;-&lt;To&gt;</code> in <code>Audit-Trail</code></a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Responsible_002dChanged_002dBy-in-Audit_002dTrail"><code>Responsible-Changed-By</code> in <code>Audit-Trail</code></a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Responsible_002dChanged_002dWhen-in-Audit_002dTrail"><code>Responsible-Changed-When</code> in <code>Audit-Trail</code></a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Responsible_002dChanged_002dWhy-in-Audit_002dTrail"><code>Responsible-Changed-Why</code> in <code>Audit-Trail</code></a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rmcat"><code>rmcat</code></a></td><td valign="top"><a href="#Management">4. <small>GNATS</small> Administration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rmcat-1"><code>rmcat</code></a></td><td valign="top"><a href="#rmcat">4.7.3 Removing a problem category</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-sample-Problem-Report">sample Problem Report</a></td><td valign="top"><a href="#Example-Problem-Report">Example Problem Report</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-send_002dpr"><code>send-pr</code></a></td><td valign="top"><a href="#send_002dpr">2.2 Submitting Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-send_002dpr-1"><code>send-pr</code></a></td><td valign="top"><a href="#Emacs-querying">2.5.2 Querying Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-send_002dpr-2"><code>send-pr</code></a></td><td valign="top"><a href="#Emacs-submitting">2.5.3 Submitting new Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-send_002dpr-fields"><code>send-pr</code> fields</a></td><td valign="top"><a href="#send_002dpr-from-the-shell">2.2.1 Invoking <code>send-pr</code> from the shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-send_002dpr-fields-1"><code>send-pr</code> fields</a></td><td valign="top"><a href="#PR-template">2.2.3 The Problem Report template</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-send_002dpr-within-Emacs"><code>send-pr</code> within Emacs</a></td><td valign="top"><a href="#send_002dpr-in-Emacs">2.2.2 Using <code>send-pr</code> from within Emacs</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-send_002dpr_002econf-file"><code>send-pr.conf</code> file</a></td><td valign="top"><a href="#send_002dpr_002econf-file">4.5 The &lsquo;<tt>send-pr.conf</tt>&rsquo; file</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-send_002dsubmitter_002dack"><code>send-submitter-ack</code></a></td><td valign="top"><a href="#Overall-database-configuration">4.3.1 Overall database configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-serious-severity-problems"><em>serious</em> severity problems</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-setting-up-GNATS">setting up GNATS</a></td><td valign="top"><a href="#Installation">3. Installing <small>GNATS</small></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-severity"><code>severity</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Severity-field"><code>Severity</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-shell-invocation">shell invocation</a></td><td valign="top"><a href="#send_002dpr-from-the-shell">2.2.1 Invoking <code>send-pr</code> from the shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Site-wide-configuration-files">Site wide configuration files</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-so-what-does-it-do">so what does it do</a></td><td valign="top"><a href="#Paradigm">1.1 The database paradigm</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-state"><code>state</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-State-field"><code>State</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-state_002d_002d_002danalyzed">state&mdash;<em>analyzed</em></a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-state_002d_002d_002dclosed">state&mdash;<em>closed</em></a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-state_002d_002d_002dfeedback">state&mdash;<em>feedback</em></a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-state_002d_002d_002dopen">state&mdash;<em>open</em></a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-state_002d_002d_002dsuspended">state&mdash;<em>suspended</em></a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-State_002dChanged_002d_003cFrom_003e_002d_003cTo_003e-in-Audit_002dTrail"><code>State-Changed-&lt;From&gt;-&lt;To&gt;</code> in <code>Audit-Trail</code></a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-State_002dChanged_002dBy-in-Audit_002dTrail"><code>State-Changed-By</code> in <code>Audit-Trail</code></a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-State_002dChanged_002dWhen-in-Audit_002dTrail"><code>State-Changed-When</code> in <code>Audit-Trail</code></a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-State_002dChanged_002dWhy-in-Audit_002dTrail"><code>State-Changed-Why</code> in <code>Audit-Trail</code></a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-states-file"><code>states</code> file</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-states-file-1"><code>states</code> file</a></td><td valign="top"><a href="#states-file">4.4.4 The <code>states</code> file</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-states-of-Problem-Reports">states of Problem Reports</a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Subject-header"><code>Subject</code> header</a></td><td valign="top"><a href="#Mail-header-fields">1.4.2 Mail header fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-submitter_002did"><code>submitter-id</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Submitter_002dId-field"><code>Submitter-Id</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Submitter_002dId-field-1"><code>Submitter-Id</code> field</a></td><td valign="top"><a href="#PR-template">2.2.3 The Problem Report template</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-submitters-file"><code>submitters</code> file</a></td><td valign="top"><a href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-submitters-file-1"><code>submitters</code> file</a></td><td valign="top"><a href="#submitters-file">4.4.3 The <code>submitters</code> file</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Submitting-a-PR-via-e_002dmail">Submitting a PR via e-mail</a></td><td valign="top"><a href="#Submitting-via-e_002dmail">2.2.4 Submitting a Problem Report via direct e-mail</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subsequent-mail">subsequent mail</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subsequent-mail-1">subsequent mail</a></td><td valign="top"><a href="#follow_002dup-via-email">2.3.2 Following up via direct email</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-support-class"><em>support</em> class</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-support-site">support site</a></td><td valign="top"><a href="#Paradigm">1.1 The database paradigm</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-suspended-state"><em>suspended</em> state</a></td><td valign="top"><a href="#States">1.3 States of Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sw_002dbug-class"><em>sw-bug</em> class</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-synopsis"><code>synopsis</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Synopsis-field"><code>Synopsis</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-syntax-of-regexps">syntax of regexps</a></td><td valign="top"><a href="#Regexps">D. Querying using regular expressions</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-template">template</a></td><td valign="top"><a href="#PR-template">2.2.3 The Problem Report template</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-template-comment-section">template comment section</a></td><td valign="top"><a href="#PR-template">2.2.3 The Problem Report template</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-text"><code>text</code></a></td><td valign="top"><a href="#Field-datatypes">4.3.3 Field datatypes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-the-section-on-query_002dby_002dmail-needs-to-be-relocated">the section on query-by-mail needs to be relocated</a></td><td valign="top"><a href="#Invoking-query_002dpr">2.4.1 Invoking <code>query-pr</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-timely-reminders">timely reminders</a></td><td valign="top"><a href="#at_002dpr">4.8.3 Timely reminders</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-To-header"><code>To</code> header</a></td><td valign="top"><a href="#Mail-header-fields">1.4.2 Mail header fields</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-unformatted"><code>unformatted</code></a></td><td valign="top"><a href="#Individual-field-configuration">4.3.2 Individual field configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Unformatted-field"><code>Unformatted</code> field</a></td><td valign="top"><a href="#Problem-Report-fields">1.4.3 Problem Report fields</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unlock_002ddatabase"><code>unlock-database</code></a></td><td valign="top"><a href="#Other-Emacs-commands">2.5.8 Other commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unlock_002dpr"><code>unlock-pr</code></a></td><td valign="top"><a href="#Other-Emacs-commands">2.5.8 Other commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unpacking-the-distribution">unpacking the distribution</a></td><td valign="top"><a href="#Configure-and-make">3.1 Configuring and compiling the software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unparseable-incoming-PRs">unparseable incoming PRs</a></td><td valign="top"><a href="#Paradigm">1.1 The database paradigm</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-upgrade_002c-procedure">upgrade, procedure</a></td><td valign="top"><a href="#Upgrading-1">3.8.2 Upgrading</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-upgrading-from-older-versions">upgrading from older versions</a></td><td valign="top"><a href="#Upgrading">3.8 Upgrading from older versions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-upgrading_002c-overview">upgrading, overview</a></td><td valign="top"><a href="#Overview-3">3.8.1 Overview</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-usage-for-the-GNATS-user-tools">usage for the <small>GNATS</small> user tools</a></td><td valign="top"><a href="#GNATS-user-tools">2. The <small>GNATS</small> User Tools</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Using-and-Porting-GNU-CC">Using and Porting <small>GNU</small> CC</a></td><td valign="top"><a href="#Helpful-hints">2.2.5 Helpful hints</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-using-edit_002dpr">using <code>edit-pr</code></a></td><td valign="top"><a href="#edit_002dpr">2.3 Editing existing Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-using-GNATS-over-a-local-network">using <small>GNATS</small> over a local network</a></td><td valign="top"><a href="#User-tools-on-a-local-network">3.7.1 User tools on a local network</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-using-GNATS-over-a-network">using <small>GNATS</small> over a network</a></td><td valign="top"><a href="#Installing-the-daemon">3.6 Installing the daemon</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-using-GNATS-over-a-network-1">using <small>GNATS</small> over a network</a></td><td valign="top"><a href="#Installing-tools">3.7 Installing the user tools</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-using-GNATS-remotely">using <small>GNATS</small> remotely</a></td><td valign="top"><a href="#User-tools-for-remote-users">3.7.2 User tools for remote users</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-using-query_002dpr">using <code>query-pr</code></a></td><td valign="top"><a href="#query_002dpr">2.4 Querying the database</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-using-send_002dpr">using <code>send-pr</code></a></td><td valign="top"><a href="#send_002dpr">2.2 Submitting Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-using-send_002dpr-from-within-Emacs">using <code>send-pr</code> from within Emacs</a></td><td valign="top"><a href="#send_002dpr-in-Emacs">2.2.2 Using <code>send-pr</code> from within Emacs</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-V">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-view_002dpr"><code>view-pr</code></a></td><td valign="top"><a href="#Emacs-viewing">2.5.1 Viewing Problem Reports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-visual-map-of-data-flow">visual map of data flow</a></td><td valign="top"><a href="#Flowchart">1.2 Flowchart of <small>GNATS</small> activities</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-1_cp_letter-W">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-what-is-a-PR">what is a PR</a></td><td valign="top"><a href="#Paradigm">1.1 The database paradigm</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-where-GNATS-lives">where <small>GNATS</small> lives</a></td><td valign="top"><a href="#Locations">A. Where <small>GNATS</small> lives</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-why-GNATS">why GNATS</a></td><td valign="top"><a href="#Paradigm">1.1 The database paradigm</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Index-1_cp_symbol-1" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#Index-1_cp_symbol-2" class="summary-letter"><b>&gt;</b></a>
 &nbsp; 
<br>
<a href="#Index-1_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-K" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-Q" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#Index-1_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="SEC_Foot"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Footnotes</h1>
<h3><a name="FOOT1" href="#DOCF1">(1)</a></h3>
<p>If typing
&lsquo;<samp>M-x send-pr</samp>&rsquo; doesn&rsquo;t work, see your system administrator for
help loading &lsquo;<tt>gnats.el</tt>&rsquo; into Emacs.
</p><h3><a name="FOOT2" href="#DOCF2">(2)</a></h3>
<p>Upgraders from
older versions of <small>GNATS</small> should note that category directories are
now created &ldquo;on-the-fly&rdquo; as needed by default.
</p><h3><a name="FOOT3" href="#DOCF3">(3)</a></h3>
<p>This approach may seem heavy-handed, but
it ensures that changes are not overwritten.
</p><h3><a name="FOOT4" href="#DOCF4">(4)</a></h3>
<p>DES crypt is the standard password encryption
format used by most UNIX systems
</p><h3><a name="FOOT5" href="#DOCF5">(5)</a></h3>
<p>MD5 is
only supported on platforms that have a <code>crypt()</code> function that
supports MD5. Among others, this currently includes <small>GNU</small> Linux and
OpenBSD.
</p><h3><a name="FOOT6" href="#DOCF6">(6)</a></h3>
<p>Some systems support even more encryption
methods.  In FreeBSD, for instance, a prefix of &lsquo;<samp>$2$</samp>&rsquo; implies
Blowfish encoding.  <small>GNATS</small> will happily accept any encryption that
the OS supports.
</p><hr size="1">
<a name="SEC_Contents"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Table of Contents</h1>
<div class="contents">

<ul class="toc">
  <li><a name="toc-Introducing-GNATS" href="#Introduction">1. Introducing <small>GNATS</small></a>
  <ul class="toc">
    <li><a name="toc-The-database-paradigm" href="#Paradigm">1.1 The database paradigm</a></li>
    <li><a name="toc-Flowchart-of-GNATS-activities" href="#Flowchart">1.2 Flowchart of <small>GNATS</small> activities</a></li>
    <li><a name="toc-States-of-Problem-Reports" href="#States">1.3 States of Problem Reports</a></li>
    <li><a name="toc-Problem-Report-format" href="#Fields">1.4 Problem Report format</a>
    <ul class="toc">
      <li><a name="toc-Field-datatypes-reference-1" href="#Field-datatypes-reference">1.4.1 Field datatypes reference</a></li>
      <li><a name="toc-Mail-header-fields-1" href="#Mail-header-fields">1.4.2 Mail header fields</a></li>
      <li><a name="toc-Problem-Report-fields-1" href="#Problem-Report-fields">1.4.3 Problem Report fields</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-The-GNATS-User-Tools" href="#GNATS-user-tools">2. The <small>GNATS</small> User Tools</a>
  <ul class="toc">
    <li><a name="toc-Environment-variables-and-GNATS-tools" href="#Environment">2.1 Environment variables and <small>GNATS</small> tools</a></li>
    <li><a name="toc-Submitting-Problem-Reports" href="#send_002dpr">2.2 Submitting Problem Reports</a>
    <ul class="toc">
      <li><a name="toc-Invoking-send_002dpr-from-the-shell" href="#send_002dpr-from-the-shell">2.2.1 Invoking <code>send-pr</code> from the shell</a></li>
      <li><a name="toc-Using-send_002dpr-from-within-Emacs" href="#send_002dpr-in-Emacs">2.2.2 Using <code>send-pr</code> from within Emacs</a></li>
      <li><a name="toc-The-Problem-Report-template" href="#PR-template">2.2.3 The Problem Report template</a></li>
      <li><a name="toc-Submitting-a-Problem-Report-via-direct-e_002dmail" href="#Submitting-via-e_002dmail">2.2.4 Submitting a Problem Report via direct e-mail</a></li>
      <li><a name="toc-Helpful-hints-1" href="#Helpful-hints">2.2.5 Helpful hints</a></li>
    </ul></li>
    <li><a name="toc-Editing-existing-Problem-Reports" href="#edit_002dpr">2.3 Editing existing Problem Reports</a>
    <ul class="toc">
      <li><a name="toc-Invoking-edit_002dpr-from-the-shell" href="#edit_002dpr-from-the-shell">2.3.1 Invoking <code>edit-pr</code> from the shell</a></li>
      <li><a name="toc-Following-up-via-direct-email" href="#follow_002dup-via-email">2.3.2 Following up via direct email</a></li>
    </ul></li>
    <li><a name="toc-Querying-the-database" href="#query_002dpr">2.4 Querying the database</a>
    <ul class="toc">
      <li><a name="toc-Invoking-query_002dpr-1" href="#Invoking-query_002dpr">2.4.1 Invoking <code>query-pr</code></a></li>
      <li><a name="toc-Formatting-query_002dpr-output-1" href="#Formatting-query_002dpr-output">2.4.2 Formatting <code>query-pr</code> output</a></li>
      <li><a name="toc-Query-expressions-1" href="#Query-expressions">2.4.3 Query expressions</a></li>
      <li><a name="toc-Example-queries-1" href="#Example-queries">2.4.4 Example queries</a></li>
    </ul></li>
    <li><a name="toc-The-Emacs-interface-to-GNATS" href="#Emacs">2.5 The Emacs interface to <small>GNATS</small></a>
    <ul class="toc">
      <li><a name="toc-Viewing-Problem-Reports" href="#Emacs-viewing">2.5.1 Viewing Problem Reports</a></li>
      <li><a name="toc-Querying-Problem-Reports" href="#Emacs-querying">2.5.2 Querying Problem Reports</a></li>
      <li><a name="toc-Submitting-new-Problem-Reports" href="#Emacs-submitting">2.5.3 Submitting new Problem Reports</a></li>
      <li><a name="toc-Editing-Problem-Reports" href="#Emacs-editing">2.5.4 Editing Problem Reports</a></li>
      <li><a name="toc-The-Problem-Report-editing-buffer" href="#Emacs-editing-buffer">2.5.5 The Problem Report editing buffer</a></li>
      <li><a name="toc-Changing-the-database" href="#Emacs-and-databases">2.5.6 Changing the database</a></li>
      <li><a name="toc-dbconfig-mode-1" href="#dbconfig-mode">2.5.7 dbconfig mode</a></li>
      <li><a name="toc-Other-commands" href="#Other-Emacs-commands">2.5.8 Other commands</a></li>
      <li><a name="toc-Customization" href="#Emacs-customization">2.5.9 Customization</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Installing-GNATS" href="#Installation">3. Installing <small>GNATS</small></a>
  <ul class="toc">
    <li><a name="toc-Configuring-and-compiling-the-software" href="#Configure-and-make">3.1 Configuring and compiling the software</a></li>
    <li><a name="toc-Installing-the-utilities" href="#Installing-utils">3.2 Installing the utilities</a></li>
    <li><a name="toc-Installing-the-default-database" href="#Setting-up-the-default-database">3.3 Installing the default database</a></li>
    <li><a name="toc-Setting-up-periodic-jobs-1" href="#Setting-up-periodic-jobs">3.4 Setting up periodic jobs</a></li>
    <li><a name="toc-Setting-up-mail-aliases" href="#Aliases">3.5 Setting up mail aliases</a></li>
    <li><a name="toc-Installing-the-daemon-1" href="#Installing-the-daemon">3.6 Installing the daemon</a></li>
    <li><a name="toc-Installing-the-user-tools" href="#Installing-tools">3.7 Installing the user tools</a>
    <ul class="toc">
      <li><a name="toc-User-tools-on-a-local-network" href="#User-tools-on-a-local-network">3.7.1 User tools on a local network</a></li>
      <li><a name="toc-User-tools-for-remote-users" href="#User-tools-for-remote-users">3.7.2 User tools for remote users</a></li>
    </ul></li>
    <li><a name="toc-Upgrading-from-older-versions" href="#Upgrading">3.8 Upgrading from older versions</a>
    <ul class="toc">
      <li><a name="toc-Overview-3" href="#Overview-3">3.8.1 Overview</a></li>
      <li><a name="toc-Upgrading-1" href="#Upgrading-1">3.8.2 Upgrading</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-GNATS-Administration" href="#Management">4. <small>GNATS</small> Administration</a>
  <ul class="toc">
    <li><a name="toc-Overview-of-GNATS-configuration" href="#GNATS-configuration">4.1 Overview of <small>GNATS</small> configuration</a></li>
    <li><a name="toc-The-databases-file" href="#databases-file">4.2 The <code>databases</code> file</a></li>
    <li><a name="toc-The-dbconfig-file" href="#dbconfig-file">4.3 The <code>dbconfig</code> file</a>
    <ul class="toc">
      <li><a name="toc-Overall-database-configuration-1" href="#Overall-database-configuration">4.3.1 Overall database configuration</a></li>
      <li><a name="toc-Individual-field-configuration-1" href="#Individual-field-configuration">4.3.2 Individual field configuration</a></li>
      <li><a name="toc-Field-datatypes-1" href="#Field-datatypes">4.3.3 Field datatypes</a></li>
      <li><a name="toc-Edit-controls-1" href="#Edit-controls">4.3.4 Edit controls</a></li>
      <li><a name="toc-Named-query-definitions-1" href="#Named-query-definitions">4.3.5 Named query definitions</a></li>
      <li><a name="toc-Audit_002dtrail-formats-1" href="#Audit_002dtrail-formats">4.3.6 Audit-trail formats</a></li>
      <li><a name="toc-Outgoing-email-formats-1" href="#Outgoing-email-formats">4.3.7 Outgoing email formats</a></li>
      <li><a name="toc-Index-file-description-1" href="#Index-file-description">4.3.8 Index file description</a></li>
      <li><a name="toc-Initial-PR-input-fields-1" href="#Initial-PR-input-fields">4.3.9 Initial PR input fields</a></li>
    </ul></li>
    <li><a name="toc-Other-database_002dspecific-config-files" href="#Other-config-files">4.4 Other database-specific config files</a>
    <ul class="toc">
      <li><a name="toc-The-categories-file" href="#categories-file">4.4.1 The <code>categories</code> file</a></li>
      <li><a name="toc-The-responsible-file" href="#responsible-file">4.4.2 The <code>responsible</code> file</a></li>
      <li><a name="toc-The-submitters-file" href="#submitters-file">4.4.3 The <code>submitters</code> file</a></li>
      <li><a name="toc-The-states-file" href="#states-file">4.4.4 The <code>states</code> file</a></li>
      <li><a name="toc-The-addresses-file" href="#addresses-file">4.4.5 The <code>addresses</code> file</a></li>
      <li><a name="toc-The-classes-file" href="#classes-file">4.4.6 The <code>classes</code> file</a></li>
    </ul></li>
    <li><a name="toc-The-send_002dpr_002econf-file" href="#send_002dpr_002econf-file">4.5 The &lsquo;<tt>send-pr.conf</tt>&rsquo; file</a></li>
    <li><a name="toc-Administrative-data-files" href="#Admin-files">4.6 Administrative data files</a>
    <ul class="toc">
      <li><a name="toc-The-index-file" href="#index-file">4.6.1 The <code>index</code> file</a></li>
      <li><a name="toc-The-current-file" href="#current-file">4.6.2 The <code>current</code> file</a></li>
    </ul></li>
    <li><a name="toc-Administrative-utilities" href="#Admin-utils">4.7 Administrative utilities</a>
    <ul class="toc">
      <li><a name="toc-Adding-another-database" href="#mkdb">4.7.1 Adding another database</a></li>
      <li><a name="toc-Adding-a-problem-category" href="#mkcat">4.7.2 Adding a problem category</a></li>
      <li><a name="toc-Removing-a-problem-category" href="#rmcat">4.7.3 Removing a problem category</a></li>
      <li><a name="toc-Regenerating-the-index" href="#gen_002dindex">4.7.4 Regenerating the index</a></li>
      <li><a name="toc-Checking-database-health" href="#check_002ddb">4.7.5 Checking database health</a></li>
      <li><a name="toc-Managing-user-passwords" href="#gnats_002dpwconv">4.7.6 Managing user passwords</a></li>
    </ul></li>
    <li><a name="toc-Internal-utilities" href="#Internal-utils">4.8 Internal utilities</a>
    <ul class="toc">
      <li><a name="toc-Handling-incoming-traffic" href="#queue_002dpr">4.8.1 Handling incoming traffic</a></li>
      <li><a name="toc-Processing-incoming-traffic" href="#file_002dpr">4.8.2 Processing incoming traffic</a></li>
      <li><a name="toc-Timely-reminders" href="#at_002dpr">4.8.3 Timely reminders</a></li>
      <li><a name="toc-The-edit_002dpr-driver" href="#pr_002dedit">4.8.4 The <code>edit-pr</code> driver</a></li>
      <li><a name="toc-The-diff_002dprs-tool" href="#diff_002dprs">4.8.5 The <code>diff-prs</code> tool</a></li>
      <li><a name="toc-The-pr_002dage-tool" href="#pr_002dage">4.8.6 The <code>pr-age</code> tool</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Where-GNATS-lives" href="#Locations">A. Where <small>GNATS</small> lives</a>
  <ul class="toc">
    <li><a name="toc-prefix-1" href="#prefix">A.1 <var>prefix</var></a></li>
    <li><a name="toc-exec_002dprefix-1" href="#exec_002dprefix">A.2 <var>exec-prefix</var></a></li>
    <li><a name="toc-The-gnats_002dadm-directory" href="#gnats_002dadm">A.3 The &lsquo;<tt>gnats-adm</tt>&rsquo; directory</a></li>
    <li><a name="toc-Default-installation-locations" href="#defaults">A.4 Default installation locations</a></li>
  </ul></li>
  <li><a name="toc-The-GNATS-network-server-_002d_002d-gnatsd" href="#gnatsd">B. The <small>GNATS</small> network server &ndash; <code>gnatsd</code></a>
  <ul class="toc">
    <li><a name="toc-Description-of-gnatsd-1" href="#Description-of-gnatsd">B.1 Description of <code>gnatsd</code></a></li>
    <li><a name="toc-gnatsd-options-1" href="#gnatsd-options">B.2 <code>gnatsd</code> options</a></li>
    <li><a name="toc-gnatsd-command-protocol-1" href="#gnatsd-command-protocol">B.3 <code>gnatsd</code> command protocol</a></li>
    <li><a name="toc-gnatsd-commands-1" href="#gnatsd-commands">B.4 <code>gnatsd</code> commands</a></li>
    <li><a name="toc-gnatsd-environment-variables-1" href="#gnatsd-environment-variables">B.5 <code>gnatsd</code> environment variables</a></li>
  </ul></li>
  <li><a name="toc-Controlling-access-to-databases" href="#Access-Control">C. Controlling access to databases</a>
  <ul class="toc">
    <li><a name="toc-Overview-2" href="#Overview">C.1 Overview</a></li>
    <li><a name="toc-Overall-gnatsd-access-level-1" href="#Overall-gnatsd-access-level">C.2 Overall <code>gnatsd</code> access level</a></li>
    <li><a name="toc-Overall-access-levels-per-host" href="#gnatsd_002ehost_005faccess">C.3 Overall access levels per host</a></li>
    <li><a name="toc-Access-levels-per-user" href="#gnatsd_002euser_005faccess">C.4 Access levels per user</a></li>
    <li><a name="toc-Privileged-gnatsd-commands-1" href="#Privileged-gnatsd-commands">C.5 Privileged <code>gnatsd</code> commands</a></li>
  </ul></li>
  <li><a name="toc-Querying-using-regular-expressions" href="#Regexps">D. Querying using regular expressions</a></li>
  <li><a name="toc-dbconfig-recipes-1" href="#dbconfig-recipes">E. &lsquo;<tt>dbconfig</tt>&rsquo; recipes</a></li>
  <li><a name="toc-GNATS-support" href="#Support">F. <small>GNATS</small> support</a></li>
  <li><a name="toc-Copying-This-Manual-1" href="#Copying-This-Manual">G. Copying This Manual</a>
  <ul class="toc">
    <li><a name="toc-GNU-Free-Documentation-License-1" href="#GNU-Free-Documentation-License">G.1 GNU Free Documentation License</a>
    <ul class="toc">
      <li><a name="toc-ADDENDUM_003a-How-to-use-this-License-for-your-documents" href="#ADDENDUM_003a-How-to-use-this-License-for-your-documents">G.1.1 ADDENDUM: How to use this License for your documents</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Index-1" href="#Index">Index</a></li>
</ul>
</div>
<hr size="1">
<a name="SEC_About"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>About This Document</h1>
<p>
  This document was generated by <em>Chad Walstrom</em> on <em>March 3, 2015</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
</p>
<p>
  The buttons in the navigation panels have the following meaning:
</p>
<table border="1">
  <tr>
    <th> Button </th>
    <th> Name </th>
    <th> Go to </th>
    <th> From 1.2.3 go to</th>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">Back</td>
    <td>Previous section in reading order</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">Forward</td>
    <td>Next section in reading order</td>
    <td>1.2.4</td>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">FastBack</td>
    <td>Beginning of this chapter or previous chapter</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [ Up ] </td>
    <td align="center">Up</td>
    <td>Up section</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">FastForward</td>
    <td>Next chapter</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [Top] </td>
    <td align="center">Top</td>
    <td>Cover (top) of document</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Contents] </td>
    <td align="center">Contents</td>
    <td>Table of contents</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Index] </td>
    <td align="center">Index</td>
    <td>Index</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">About</td>
    <td>About (help)</td>
    <td> &nbsp; </td>
  </tr>
</table>

<p>
  where the <strong> Example </strong> assumes that the current position is at <strong> Subsubsection One-Two-Three </strong> of a document of the following structure:
</p>

<ul>
  <li> 1. Section One
    <ul>
      <li>1.1 Subsection One-One
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 Subsection One-Two
        <ul>
          <li>1.2.1 Subsubsection One-Two-One</li>
          <li>1.2.2 Subsubsection One-Two-Two</li>
          <li>1.2.3 Subsubsection One-Two-Three &nbsp; &nbsp;
            <strong>&lt;== Current Position </strong></li>
          <li>1.2.4 Subsubsection One-Two-Four</li>
        </ul>
      </li>
      <li>1.3 Subsection One-Three
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 Subsection One-Four</li>
    </ul>
  </li>
</ul>

<hr size="1">
<p>
 <font size="-1">
  This document was generated by <em>Chad Walstrom</em> on <em>March 3, 2015</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
 </font>
 <br>

</p>
</body>
</html>
