<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "hmpro6.dtd">
<HTML> 
  <HEAD> 
	 <TITLE>Keeping Track: </TITLE><LINK REL="STYLESHEET"
	 HREF="styles/common.css"><LINK REL="STYLESHEET" HREF="styles/common.css">
	 <META NAME="description" CONTENT="Keeping Track: ">
	 <META NAME="keywords" CONTENT="Keeping Track: ">
	 <META NAME="resource-type" CONTENT="document">
	 <META NAME="distribution" CONTENT="global">
	 <META NAME="Generator" CONTENT="texi2html 1.64"> 
  </HEAD> 
  <BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080"
	ALINK="#FF0000"> 
	 <H1> 3. GNATS Administration</H1>
<!--docid::SEC29::-->
	 <P> In daily usage, GNATS is self-maintaining. However, there are various
		administrative duties which need to be performed periodically: </P> 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><EM>emptying the <CODE>pending</CODE> directory</EM> </DT> 
		<DD><A NAME="IDX130"></A> If a Problem Report arrives with a
		  <SAMP>`&gt;Category:'</SAMP> value that is unrecognized by the
		  <TT>`categories'</TT> file, or if that field is missing, GNATS places the PR in
		  the <TT>`pending'</TT> directory (see section
		  <A HREF="gnats4man_ch3.html#SEC69">Where the tools and utilities reside</A>).
		  PRs submitted in free-form by email will always be filed in the
		  <TT>`pending'</TT> directory. If so configured, GNATS sends a notice to the <CODE>gnats-admin</CODE> and to the party responsible for that submitter (as listed in the
		  <TT>`submitters'</TT> file) when this occurs. 
		  <P> To have these "categoryless" PRs filed correctly, you can then use
			 a GNATS tool such as <CODE>edit-pr</CODE> to set the correct category of each PR in the <TT>`pending'</TT>
			 directory. </P> 
		  <P> In order to protect yourself from problems caused by full disks,
			 you should arrange to have all mail that is sent to the GNATS database copied
			 to a log file (<A HREF="gnats4man_ch3.html#SEC65">Setting up mail aliases</A>).
			 Then, should you run out of disk space, and an empty file ends up in the
			 database's <TT>`pending'</TT> directory, you need only look in the log file,
			 which should still contain the full message that was submitted. </P> 
		  <P> </P></DD> 
		<DT><EM>adding new categories</EM> </DT> 
		<DD><A NAME="IDX131"></A> <A NAME="IDX132"></A> Most installations of
		  GNATS will only require you to add a new line to the <TT>`categories'</TT>
		  file. The category directory will then be created autmatically as needed.
		  However, if automatic directory creation has been switched off in the
		  <TT>`dbconfig'</TT> file (see section <A HREF="gnats4man_ch3.html#SEC32">The <CODE>dbconfig</CODE> file</A>), you need to use the <TT>`mkcat'</TT> program. 
		  <P> </P></DD> 
		<DT><EM>removing categories</EM> </DT> 
		<DD><A NAME="IDX133"></A> <A NAME="IDX134"></A> To remove a category, you
		  need to make sure the relevant subdirectory is empty (in other words, make sure
		  no PRs exist for the category you wish to remove). You can then remove the
		  category listing from the <TT>`categories'</TT> file, and invoke 
		  <P> </P> 
		  <TABLE> 
			 <TR> 
				<TD>&nbsp;</TD> 
				<TD CLASS="smallexample"> <CODE>rmcat <VAR>category</VAR></CODE> </TD> 
			 </TR> 
		  </TABLE> 
		  <P> to remove <VAR>category</VAR> (any number of categories may be
			 specified on the command line to <CODE>rmcat</CODE>, so long as they abide by the above constraints). </P> 
		  <P> </P></DD> 
		<DT><EM>adding and removing maintainers</EM> </DT> 
		<DD><A NAME="IDX135"></A> Edit the <TT>`responsible'</TT> file to add a
		  new maintainer or to remove an existing maintainer. See section
		  <A HREF="gnats4man_ch3.html#SEC44">The <CODE>responsible</CODE> file</A>. 
		  <P> </P></DD> 
		<DT><EM>building a new index</EM> </DT> 
		<DD><A NAME="IDX136"></A> <A NAME="IDX137"></A> If your index becomes
		  corrupted, or if you wish to generate a new one for some reason, use the
		  program <CODE>gen-index</CODE> (see section <A HREF="gnats4man_ch3.html#SEC56">Regenerating the
		  index</A>). 
		  <P> </P></DD> 
		<DT><EM>pruning log files</EM> </DT> 
		<DD><A NAME="IDX138"></A> Log files often grow to unfathomable
		  proportions. As with gardening, it is best to prune these as they grow, lest
		  they take over your disk and leave you with no room to gather more Problem
		  Reports. If you keep log files, be sure to keep an eye on them. (See section
		  <A HREF="gnats4man_ch3.html#SEC65">Setting up mail aliases</A>.) 
		  <P> </P></DD> 
		<DT><EM>BACKING UP YOUR DATA</EM> </DT> 
		<DD><A NAME="IDX139"></A> Any database is only useful if its data remains
		  uncorrupted and safe. Performing periodic backups ensures that problems like
		  disk crashes and data corruption are reversible. 
		  <P> </P></DD> 
	 </DL> 
	 <P> See section <A HREF="gnats4man_ch3.html#SEC69">Where GNATS lives</A>.
		</P> 
	 <BLOCKQUOTE> 
		<P></P> 
		<TABLE BORDER="0" CELLSPACING="0"> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A HREF="gnats4man_ch3.html#SEC30">3.1
				Overview of GNATS configuration</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A HREF="gnats4man_ch3.html#SEC31">3.2
				The <CODE>databases</CODE> file</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP">The databases file</TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A HREF="gnats4man_ch3.html#SEC32">3.3
				The <CODE>dbconfig</CODE> file</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP">The dbconfig file</TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A HREF="gnats4man_ch3.html#SEC42">3.4
				Other database-specific config files</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP">Configuration files</TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A HREF="gnats4man_ch3.html#SEC49">3.5
				Administrative data files</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A HREF="gnats4man_ch3.html#SEC52">3.6
				Administrative utilities</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A HREF="gnats4man_ch3.html#SEC57">3.7
				Internal utilities</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		</TABLE></BLOCKQUOTE> 
	 <P> <A NAME="GNATS configuration"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC30"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC29">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC31">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC29">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC62">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H2> 3.1 Overview of GNATS configuration </H2>
<!--docid::SEC30::-->
	 <P> See section <A HREF="gnats4man_ch3.html#SEC69">Where GNATS lives</A>.
		</P> 
	 <P> GNATS has two different kinds of configuration file. The
		<EM>site-wide</EM> configuration files determine overall behaviour across all
		the databases on your machine, while the <EM>database-specific</EM>
		configuration files determine how GNATS behaves when dealing with a specific
		database. These files can be edited at any time -- the next time a GNATS tool
		is invoked, the new parameters will take effect. </P> 
	 <P> These are the site-wide configuration files used by GNATS: </P> 
	 <P> <A NAME="IDX140"></A> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><CODE>databases</CODE> </DT> 
		<DD><A NAME="IDX141"></A> Specifies database names and their associated
		  parameters, such as in which directory they are located. This file is used by
		  the GNATS clients to determine the location of a database referred to by name.
		  See section <A HREF="gnats4man_ch3.html#SEC31">The <CODE>databases</CODE> file</A>. 
		  <P> </P></DD> 
		<DT><CODE>gnatsd.host_access</CODE> </DT> 
		<DD><A NAME="IDX142"></A> Controls access levels for the different
		  machines that will do lookups in the databases on this machine. See section
		  <A HREF="gnats4man_ch3.html#SEC75">GNATS access control</A>. </DD> 
	 </DL> 
	 <P> The database-specific configuration is determined by the following
		files in the <TT>`gnats-adm'</TT> subdirectory of the database directory. </P> 
	 <P><A NAME="IDX143"></A> </P> 
	 <DL> 
		<DT><CODE>dbconfig</CODE> </DT> 
		<DD>Controls most aspects of how GNATS behaves when dealing with your
		  database. See section <A HREF="gnats4man_ch3.html#SEC32">The <CODE>dbconfig</CODE> file</A>. 
		  <P> <A NAME="IDX144"></A> </P></DD> 
		<DT><CODE>categories</CODE> </DT> 
		<DD>The list of categories that GNATS accepts as valid for the
		  <SAMP>`&gt;Category:'</SAMP> field, and the maintainers responsible for each
		  category. Update this file whenever you have a new category, or whenever a
		  category is no longer valid. You must also update this file whenever
		  responsibility for a category changes, or if a maintainer is no longer valid.
		  See section <A HREF="gnats4man_ch3.html#SEC43">The <CODE>categories</CODE> file</A>. 
		  <P> <A NAME="IDX145"></A> </P></DD> 
		<DT><CODE>responsible</CODE> </DT> 
		<DD>An alias list mapping names to their associated mailing addresses.
		  The names in this list can have multiple email addresses associated with them.
		  If a responsible user does not show up in this list, they are assumed to be a
		  user local to the system. This list is not associated with just the responsible
		  user field; all email addresses are mapped through this file whenever mail is
		  sent from GNATS. See section <A HREF="gnats4man_ch3.html#SEC44">The <CODE>responsible</CODE> file</A>. 
		  <P> <A NAME="IDX146"></A> </P></DD> 
		<DT><CODE>submitters</CODE> </DT> 
		<DD>Lists sites from whom GNATS accepts Problem Reports. The existence of
		  this file is mandatory, although the feature it provides is not; see
		  <A HREF="gnats4man_ch3.html#SEC45">The <CODE>submitters</CODE> file</A>. 
		  <P> <A NAME="IDX147"></A> </P></DD> 
		<DT><CODE>addresses</CODE> </DT> 
		<DD>Mappings between submitter IDs and submitters' e-mail addresses. Use
		  of this file is optional. If you get Problem reports where the
		  <SAMP>`&gt;Submitter'</SAMP> field is not filled in, GNATS will use entries in
		  this file to try to derive the submitter ID from the e-mail headers. See
		  section <A HREF="gnats4man_ch3.html#SEC47">The <CODE>addresses</CODE> file</A>. 
		  <P> <A NAME="IDX148"></A> </P></DD> 
		<DT><CODE>states</CODE> </DT> 
		<DD>Lists the possible states for Problem Reports, typically ranging from
		  <EM>open</EM> to <EM>closed</EM>. See section
		  <A HREF="gnats4man_ch3.html#SEC47">The <CODE>states</CODE> file</A>. 
		  <P> <A NAME="IDX149"></A> </P></DD> 
		<DT><CODE>classes</CODE> </DT> 
		<DD>Lists the possible classes of Problem Report. This provides an easy
		  way to have "subcategories", for example by setting up classes such as <CODE>sw-bug</CODE>, <CODE>doc-bug</CODE>, <CODE>change-request</CODE> etc. See section <A HREF="gnats4man_ch3.html#SEC48">The <CODE>classes</CODE> file</A>. 
		  <P> <A NAME="IDX150"></A> </P></DD> 
		<DT><CODE>gnatsd.access</CODE> </DT> 
		<DD>Specify the access levels for different users to your database. See
		  section <A HREF="gnats4man_ch3.html#SEC75">GNATS access control</A>. 
		  <P> </P></DD> 
	 </DL> 
	 <P> <A NAME="databases file"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC31"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC30">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC32">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC32">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC29">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC62">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H2> 3.2 The <CODE>databases</CODE> file </H2>
<!--docid::SEC31::-->
	 <P> The <TT>`databases'</TT> configuration file is a site-wide
		configuration file containing the list of GNATS databases that are available
		either on the host itself or remotely over the network, together with some
		parameters associated with each database. </P> 
	 <P> The file contains one line for each database. For databases located on
		the host itself, each line consists of three fields separated by colons: </P> 
	 <P> <VAR>database name:short description of database:path/to/database</VAR>
		</P> 
	 <P> The first field is the database name. This is the name used to identify
		the database when invoking programs such as <CODE>query-pr</CODE> or <CODE>send-pr</CODE>, either by using the <CODE>--database</CODE> option of the program or by setting the <VAR>GNATSDB</VAR> environment
		variable to the name of the database. The second field is a short
		human-readable description of the database contents, and the final field is the
		directory where the database contents are kept. </P> 
	 <P> For a database that is located across a network, but which should be
		accessible from this host, the entry for the database should look like this:
		</P> 
	 <P> <VAR>database name:short description of database::hostname:port</VAR>
		</P> 
	 <P> The first two fields are the same as for local databases, the third
		field is empty (notice the two adjacent <SAMP>`:'</SAMP> symbols, indicating an
		empty field), the fourth field is the hostname of the remote GNATS server, and
		the fifth field is the port number that the remote GNATS is running on. </P> 
	 <P> If GNATS was built with default options, the <TT>`databases'</TT> file
		will be located in the <TT>`/usr/local/etc/gnats'</TT> directory. However, if
		the option <CODE>--with-gnats-dblist-file</CODE> was used during building of GNATS, the <TT>`databases'</TT> file has
		the name and location given to this option. A sample <TT>`databases'</TT> file
		is installed together with GNATS. </P> 
	 <P> <A NAME="dbconfig file"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC32"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC31">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC33">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC29">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H2> 3.3 The <CODE>dbconfig</CODE> file </H2>
<!--docid::SEC32::-->
	 <P> The <TT>`dbconfig'</TT> configuration file controls the configuration
		of a GNATS database. Each database has its own individual copy of this file,
		which is located in the <TT>`gnats-adm'</TT> subdirectory of the database. </P>
	 
	 <P> The file consists of standard plain text. Whitespace is completely
		optional and is ignored. Sets of braces <SAMP>`@'</SAMP> are used to delimit
		the different sections, and all non-keyword values must be surrounded with
		double quotes. The values in <TT>`dbconfig'</TT> can be changed at any time;
		the new values take effect for all subsequent iterations of GNATS tools. </P> 
	 <P> The <TT>`dbconfig'</TT> file contains 6 major sections, which must
		appear in the following order: </P> 
	 <P> </P> 
	 <UL> 
		<LI>Overall database configuration </LI> 
		<LI>Individual field configuration </LI> 
		<LI>Named query definitions </LI> 
		<LI>Audit-trail and outgoing email formats </LI> 
		<LI>Index file description </LI> 
		<LI>Initial Problem Report input fields </LI> 
	 </UL> 
	 <P> The different sections are described below. While reading the following
		sections, it will be useful to refer to the sample <TT>`dbconfig'</TT> file
		which is installed when a new database is initialized with the <CODE>mkdb</CODE> tool. In fact, the sample file provides a configuration that should be
		usable for a great range of sites, since it reproduces the behaviour of the
		older, less customizable 3.x versions of GNATS. </P> 
	 <BLOCKQUOTE> 
		<P></P> 
		<TABLE BORDER="0" CELLSPACING="0"> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC33">3.3.1 Overall database configuration</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC34">3.3.2 Individual field configuration</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC35">3.3.3 Field datatypes</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC36">3.3.4 Edit controls</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP">Trigger on certain edit actions</TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC37">3.3.5 Named query definitions</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP">Define and name standard queries</TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC38">3.3.6 Audit-trail formats</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP">Specify formatting of the
				audit-trail</TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC39">3.3.7 Outgoing email formats</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP">Specify contents and formatting of
				messages sent out by GNATS.</TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC40">3.3.8 Index file description</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP">Specify the general format and contents
				of the database index</TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC41">3.3.9 Initial PR input fields</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP">Which fields should be present on
				initial PR entry.</TD> 
		  </TR> 
		</TABLE></BLOCKQUOTE> 
	 <P> <A NAME="Overall database configuration"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC33"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC32">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC34">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC32">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.3.1 Overall database configuration </H3>
<!--docid::SEC33::-->
	 <P> The overall database options are controlled by settings in the <CODE>database-info</CODE> section of the <TT>`dbconfig'</TT> file. The following is the general
		format of this section: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="example"> 
			 <PRE>database-info {
  [options]
}
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> The following options and values may be used in the <CODE>database-info</CODE> section: </P> 
	 <P><A NAME="IDX151"></A> </P> 
	 <DL> 
		<DT><CODE>debug-mode  <VAR>true | false</VAR></CODE> </DT> 
		<DD>If set to <CODE>true</CODE>, the database is placed into debug mode. This causes all outgoing email
		  to be sent to the <EM>gnats-admin</EM> user listed in the
		  <TT>`responsible'</TT> file of the database. The default value is <CODE>false</CODE>. 
		  <P> <A NAME="IDX152"></A> </P></DD> 
		<DT><CODE>keep-all-received-headers  <VAR>true | false</VAR></CODE> </DT> 
		<DD>If set to <CODE>true</CODE>, all of the Received: headers for PRs submitted via email are kept in
		  the PR. Otherwise, only the first one is kept. The default value is <CODE>false</CODE>. 
		  <P> <A NAME="IDX153"></A> </P></DD> 
		<DT><CODE>notify-about-expired-prs  <VAR>true | false</VAR></CODE> </DT> 
		<DD>If set to <CODE>true</CODE>, notification email about expired PRs is sent via the <CODE>at-pr</CODE> command. Otherwise, required times for PR fixes are not used. The
		  default value is <CODE>false</CODE>. 
		  <P> <A NAME="IDX154"></A> </P></DD> 
		<DT><CODE>send-submitter-ack  <VAR>true | false</VAR></CODE> </DT> 
		<DD>When new PRs are submitted to the database, an acknowledgment email
		  will be sent to the submitter of send-submitter-ack is set to <CODE>true</CODE>. This is in addition to the normal notification mail to the person(s)
		  responsible for the new PR. The default value is <CODE>false</CODE>. 
		  <P> <A NAME="IDX155"></A> </P></DD> 
		<DT><CODE>libexecdir  <VAR>"directory"</VAR></CODE> </DT> 
		<DD>Specifies the directory where the GNATS administrative executables
		  are located. In particular, <CODE>at-pr</CODE> and <CODE>mail-pr</CODE> are invoked from this directory. The default value is the empty string,
		  which is unlikely to be useful. 
		  <P> <A NAME="IDX156"></A> </P></DD> 
		<DT><CODE>business-day-hours  <VAR>day-start - day-end</VAR></CODE> </DT> 
		<DD>Used to specify the hours that define a business day. The values are
		  inclusive and should be given in 24-hour format, with a dash separating them.
		  GNATS uses these values to determine whether the required completion time for a
		  PR has passed. The default values are 8 for <CODE>day-start</CODE> and 17 for <CODE>day-end</CODE>. 
		  <P> <A NAME="IDX157"></A> </P></DD> 
		<DT><CODE>business-week-days  <VAR>week-start - week-end</VAR></CODE> </DT> 
		<DD>Specifies the start and ending days of the business week, where 0 is
		  Sunday, 1 is Monday, etc. The days are inclusive, and the values should be
		  given with a dash separating them. GNATS uses these values to determine whether
		  the required completion time for a PR has passed. The default values are 1 for <CODE>week-start</CODE> and 5 for <CODE>week-end</CODE>. 
		  <P> <A NAME="IDX158"></A> </P></DD> 
		<DT><CODE>create-category-dirs  <VAR>true | false</VAR></CODE> </DT> 
		<DD>If set to <CODE>true</CODE>, database directories for categories are automatically created as
		  needed. Otherwise, they must be created manually (usually with the <CODE>mkcat</CODE> script). It is recommended that the default value of <CODE>true</CODE> be kept. 
		  <P> <A NAME="IDX159"></A> </P></DD> 
		<DT><CODE>category-dir-perms  <VAR>mode</VAR></CODE> </DT> 
		<DD>Standard octal mode-specification specifying the permissions to be
		  set on auto-created category directories. Default is <CODE>0750</CODE>, yielding user read, write and execute, and group read and execute. 
		  <P> </P></DD> 
	 </DL> 
	 <P> <A NAME="Individual field configuration"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC34"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC33">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC35">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC35">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC32">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.3.2 Individual field configuration </H3>
<!--docid::SEC34::-->
	 <P> Each type of field in a PR must be described with a <CODE>field</CODE> section in the <TT>`dbconfig'</TT> file. These sections have the
		following general structure: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="example"> 
			 <PRE>field "fieldname" {
  description "string"
  [ field-options ... ]
  datatype [ datatype-options ... ]
  [ on-change { edit-options ... } ]
}
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> <CODE>fieldname</CODE> is used as the field header in the PR. The characters <CODE>&gt;</CODE> and <CODE>:</CODE> are used internally as field markers by GNATS, so they must not be used
		in fieldnames. </P> 
	 <P> The order in which the <CODE>field</CODE> sections appear in the <TT>`dbconfig'</TT> file determines the order in
		which they appear in the PR text. There is no required order, unlike previous
		versions of GNATS --- the Unformatted field and multitext fields may appear
		anywhere in the PR. </P> 
	 <P> The following <CODE>field-options</CODE> may be present within a <CODE>field</CODE> section: </P> 
	 <P><A NAME="IDX160"></A> </P> 
	 <DL> 
		<DT><CODE>builtin-name  <VAR>"name"</VAR></CODE> </DT> 
		<DD>Indicates that this field corresponds to one of the GNATS built-in
		  fields. 
		  <P> GNATS has several fields which are required to be present in a PR,
			 and this option is used to map their external descriptions to their internal
			 usage. The external field names are: </P> 
		  <P> </P> 
		  <DL COMPACT="COMPACT"> 
			 <DT><CODE>number</CODE> </DT> 
			 <DD><A NAME="IDX161"></A> The PR's unique numeric identifier 
				<P> </P></DD> 
			 <DT><CODE>category</CODE> </DT> 
			 <DD><A NAME="IDX162"></A> The category that the PR falls into 
				<P> </P></DD> 
			 <DT><CODE>synopsis</CODE> </DT> 
			 <DD><A NAME="IDX163"></A> The one-line description of the PR 
				<P> </P></DD> 
			 <DT><CODE>confidential</CODE> </DT> 
			 <DD><A NAME="IDX164"></A> If set to <CODE>yes</CODE>, the PR is confidential 
				<P> </P></DD> 
			 <DT><CODE>severity</CODE> </DT> 
			 <DD><A NAME="IDX165"></A> Severity of the problem described by the PR
				
				<P> </P></DD> 
			 <DT><CODE>priority</CODE> </DT> 
			 <DD><A NAME="IDX166"></A> Priority of the PR 
				<P> </P></DD> 
			 <DT><CODE>responsible</CODE> </DT> 
			 <DD><A NAME="IDX167"></A> The person responsible for handling the PR 
				<P> </P></DD> 
			 <DT><CODE>state</CODE> </DT> 
			 <DD><A NAME="IDX168"></A> The current state of the PR 
				<P> </P></DD> 
			 <DT><CODE>submitter</CODE> </DT> 
			 <DD><A NAME="IDX169"></A> The user that submitted the PR 
				<P> </P></DD> 
			 <DT><CODE>arrival-date</CODE> </DT> 
			 <DD><A NAME="IDX170"></A> The arrival date of the PR 
				<P> </P></DD> 
			 <DT><CODE>last-modified</CODE> </DT> 
			 <DD><A NAME="IDX171"></A> The date the PR was last modified 
				<P> </P></DD> 
			 <DT><CODE>audit-trail</CODE> </DT> 
			 <DD><A NAME="IDX172"></A> The audit-trail recording changes to the PR
				</DD> 
		  </DL> 
		  <P> For these built-in fields, a matching field description must appear
			 in the <TT>`dbconfig'</TT> file. Otherwise, the configuration will be
			 considered invalid, and errors will be generated from the GNATS clients and
			 gnatsd. </P> 
		  <P> </P></DD> 
		<DT><CODE>description  <VAR>"description text"</VAR></CODE> </DT> 
		<DD>A one-line human-readable description of the field. Clients can use
		  this string to describe the field in a help dialog. The string is returned from
		  the FDSC command in gnatsd and is also available via the <CODE>--field-description</CODE> option in <CODE>query-pr</CODE>. 
		  <P> This entry must be present in the field description, and there is
			 no default value. </P> 
		  <P> </P></DD> 
		<DT><CODE>query-default  <VAR>exact-regexp | inexact-regexp</VAR></CODE> </DT> 
		<DD>Used to specify the default type of searches performed on this field.
		  This is used when the <CODE>^</CODE> search operator appears in a query, and is also used for queries in <CODE>query-pr</CODE> that use the old <CODE>--field</CODE> query options. 
		  <P> If the option is not given, the default search is <CODE>exact-regexp</CODE>. </P> 
		  <P> </P></DD> 
		<DT><CODE>textsearch</CODE> </DT> 
		<DD>If this option is present, the field will be searched when the user
		  performs a <CODE>--text</CODE> search from <CODE>query-pr</CODE>. The field is also flagged as a <CODE>textsearch</CODE> field in the set of field flags returned by the <CODE>FIELDFLAGS</CODE> command in gnatsd. 
		  <P> By default, fields are not marked as <CODE>textsearch</CODE> fields. </P> 
		  <P> </P></DD> 
		<DT><CODE>read-only</CODE> </DT> 
		<DD>When this option is present, the field contents may not be edited --
		  they must be set when the PR is initially created. In general, this should only
		  be used for fields that are given as internal values rather than fields
		  supplied by the user. 
		  <P> By default, editing is allowed. </P></DD> 
	 </DL> 
	 <P> <A NAME="Field datatypes"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC35"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC34">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC36">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC36">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC32">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.3.3 Field datatypes </H3>
<!--docid::SEC35::-->
	 <P>Each field description has to contain a datatype declaration which
		describes what data are to be store in the field. The general format for such a
		declaration is </P> 
	 <P><A NAME="IDX173"></A> </P> 
	 <DL> 
		<DT><CODE>datatype  [ options ... ]</CODE> </DT> 
		<DD></DD> 
	 </DL> 
	 <P> The available datatypes are: </P> 
	 <P><A NAME="IDX174"></A> </P> 
	 <DL> 
		<DT><CODE>text  [ matching { "regexp" [ "regexp" ... ] } ]</CODE> </DT> 
		<DD>The <CODE>text</CODE> datatype is the most commonly used type; it is a one-line text string. 
		  <P> If the <CODE>matching</CODE> qualifier is present, the data in the field must match at least one of
			 the specified regexps. This provides an easy and flexible way to limit what
			 text is allowed in a field. If no <CODE>matching</CODE> qualifier is present, no restriction is placed on what values may
			 appear in the field. </P> 
		  <P> <A NAME="IDX175"></A> </P></DD> 
		<DT><CODE>multitext  [ { default "string" } ]</CODE> </DT> 
		<DD>The field can contain multiple lines of text. 
		  <P> If the <CODE>default</CODE> option is present, the field will default to the specified <CODE>string</CODE> if the field is not given a value when the PR is initially created.
			 Otherwise, the field will be left empty. </P> 
		  <P> <A NAME="IDX176"></A> </P></DD> 
		<DT><CODE>enum  {</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>values {</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>"string" [ "string" ... ]</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>}</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>[ default "string" ]</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>}</CODE> </DT> 
		<DD>Defines an enumerated field, where the values in the PR field must
		  match an entry from a list of specified values. The list of allowed values is
		  given with the <CODE>values</CODE> option. The <CODE>values</CODE> option is required for an enumerated field. 
		  <P> If a <CODE>default</CODE> option is present, it is used to determine the initial value of the
			 field if no entry for the field appears in an initial OR (or if the value in
			 the initial PR is not one of the acceptable values). However, the value in the <CODE>default</CODE> statement is not required to be one of the accepted values; this can be
			 used to allow the field to be initially empty, for example. </P> 
		  <P> If no <CODE>default</CODE> option is specified, the default value for the field is the first value
			 in the <CODE>values</CODE> section. </P> 
		  <P> <A NAME="IDX177"></A> </P></DD> 
		<DT><CODE>multienum  {</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>values {</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>"string" [ "string" ... ]</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>}</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>[ separators "string" ]</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>[ default "string" ]</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>}</CODE> </DT> 
		<DD>The <CODE>multienum</CODE> datatype is similar to the <CODE>enum</CODE> datatype, except that the field can contain multiple values, separated
		  by one or more characters from the <CODE>separators</CODE> list. If no <CODE>separators</CODE> option is present, the default separators are space (<SAMP>` '</SAMP>)
		  and colon (<SAMP>`:'</SAMP>). 
		  <P> <A NAME="IDX178"></A> </P></DD> 
		<DT><CODE>enumerated-in-file {</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>path "filename"</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>fields {</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>"name" [ "name" ... ]</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>} key "name"</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>[ allow-any-value ]</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>}</CODE> </DT> 
		<DD>The <CODE>enumerated-in-file</CODE> type is used to describe an enumerated field with an associated
		  administrative file which lists the legal values for the field, and may
		  optionally contain additional fields that can be examined by query clients or
		  used for other internal purposes. It is similar to the <CODE>enum</CODE> datatype, except that the list of legal values is stored in a separate
		  file. 
		  <P> <CODE>filename</CODE> is the name of a file in the <TT>`gnats-adm'</TT> administrative
			 directory for the database. </P> 
		  <P> The format of the administrative file should be simple ASCII.
			 Fields within the file are separated with colons (<SAMP>`:'</SAMP>). Lines
			 beginning with a hash sign (<SAMP>`#'</SAMP>) are ignored as comments. Records
			 within the file are separated with newlines. </P> 
		  <P> The <CODE>field</CODE> option is used to name the fields in the administrative file. There
			 must be at least one field, which is used to list the legal values for the
			 field. If the administrative file is empty (or does not contain any non-empty
			 non-comment lines), the PR field must be empty. </P> 
		  <P> The <CODE>key</CODE> option is used to designate which field in the administrative file
			 should be used to list the legal values for the PR field. The value must match
			 one of the field names in the <CODE>field</CODE> option. </P> 
		  <P> If the <CODE>allow-any-value</CODE> option is present, the value of the PR field is not required to appear
			 in the administrative file -- any value will be accepted. </P> 
		  <P> <A NAME="IDX179"></A> </P></DD> 
		<DT><CODE>date</CODE> </DT> 
		<DD>The <CODE>date</CODE> datatype is used to hold dates. Date fields must either be empty or
		  contain a correctly formatted date. 
		  <P> No defaults or other options are available. The field is left empty
			 if no value for the field is given in the initial PR. </P> 
		  <P> <A NAME="IDX180"></A> </P></DD> 
		<DT><CODE>integer  [ { default "integer" } ]</CODE> </DT> 
		<DD>Integer fields are used to hold numbers. They must either be empty or
		  contain a value composed entirely of digits, with an optional leading sign. 
		  <P> If the <CODE>default</CODE> option is present, the field will have the value of <CODE>integer</CODE> if the field is not given a value when the PR is initially created.
			 Otherwise, the field will be left empty. </P></DD> 
	 </DL> 
	 <P> <A NAME="Edit controls"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC36"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC35">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC37">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC37">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC32">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.3.4 Edit controls </H3>
<!--docid::SEC36::-->
	 <P> The <CODE>on-change</CODE> subsection of a <CODE>fields</CODE> section specifies one or more actions to be performed when the field
		value is edited by the user. It has the general form </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="example"> 
			 <PRE>on-change [ "query-expression" ] {
<BR>
  [ add-audit-trail ]
<BR>
  [ audit-trail-format {
    format "formatstring"
    [ fields { "fieldname" ... } ]
  } ]
<BR>
  [ require-change-reason ]
<BR>
  [ set-field | append-to-field "fieldname" {
    "format-string" [ fieldlist ]
  } ]
}
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> The optional <CODE>query-expression</CODE> controls whether or not the actions in the <CODE>on-change</CODE> section are taken. If the expression fails to match, the actions are
		skipped. </P> 
	 <P> The <CODE>add-audit-trail</CODE> option indicates that an entry should be appended to the PR's
		audit-trail when this field is changed. The format of the entry is controlled
		by the optional <CODE>audit-trail-format</CODE> section within the field, or by the global <CODE>audit-trail-format</CODE> section. </P> 
	 <P> The <CODE>require-change-reason</CODE> option specifies that a change reason must be present in the PR when
		this field is edited. This option only makes sense if an audit-trail entry is
		required, as the change reason is otherwise unused. </P> 
	 <P> The <CODE>set-field</CODE> and <CODE>append-to-field</CODE> options are used to change the value of the field <CODE>fieldname</CODE> in the PR. The supplied format is used to format the value that will be
		placed in the field. </P> 
	 <P> <CODE>append-to-field</CODE> appends the resulting formatted string to the existing, while <CODE>set-field</CODE> completely replaces the contents. </P> 
	 <P> Any field may be edited by the <CODE>set-field</CODE> or <CODE>append-to-field</CODE> option (the <CODE>read-only</CODE> option on a field is ignored). However, the changes are subject to the
		usual field content checks. </P> 
	 <P> There is also a global <CODE>on-change</CODE> section that is executed once for each PR edit. A typical use for such
		a section is to set the last-modified date of the PR. </P> 
	 <P> <A NAME="Named query definitions"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC37"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC36">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC38">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC38">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC32">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.3.5 Named query definitions </H3>
<!--docid::SEC37::-->
	 <P> When queries are performed via <CODE>query-pr</CODE>, they can refer to a query format described by a <CODE>query</CODE> section in the <TT>`dbconfig'</TT> file: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="example"> 
			 <PRE>query "queryname" {
  format "formatstring"
  [fields { "fieldname" [ "fieldname" ... ] } ]
}
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> <CODE>formatstring</CODE> is as described in XXX refer to query-pr XXX. It contains a string with
		printf-like % escapes. The output of the query is then formatted as specified
		by the format string. </P> 
	 <P> The <CODE>fields</CODE> option lists the fields to be used with the format string. If the <CODE>fields</CODE> option is present without a <CODE>format</CODE> option, the contents of the listed fields are printed out, separated by
		newlines. </P> 
	 <P> The named query formats <EM>full</EM>, <EM>standard</EM> amd
		<EM>summary</EM> must be present in the <TT>`dbconfig'</TT> file. <EM>full</EM>
		and <EM>summary</EM> correspond to the <CODE>query-pr</CODE> options <CODE>--full</CODE> and <CODE>--summary</CODE>, while <EM>standard</EM> is used when no format option is given to <CODE>query-pr</CODE>. </P> 
	 <P> <A NAME="Audit-trail formats"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC38"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC37">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC39">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC39">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC32">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.3.6 Audit-trail formats </H3>
<!--docid::SEC38::-->
	 <P> These formats are similar to the named query formats, but they include
		more options. They are used for formatting audit-trail entries and for outgoing
		email messages. </P> 
	 <P> There is currently only one audit-trail format, defined by the <CODE>audit-trail-format</CODE> option: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="example"> 
			 <PRE>audit-trail-format {
  format "formatstring"
  [ fields { "fieldname" [ "fieldname" ... ] } ]
}
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> For those fields that require an audit-trail entry, the audit-trail
		text to be appended is formatted as described by this format. The per-field <CODE>audit-trail-format</CODE> is used in preference to this one, if it exists. </P> 
	 <P> <CODE>formatstring</CODE> and <CODE>fieldname</CODE> are similar to those used by the named query format. <CODE>fieldname</CODE> may also be a <EM>format parameter</EM>, which is a context-specific
		value. (Format parameters are distinguished from fieldnames by a leading dollar
		sign (<SAMP>`$'</SAMP>)). </P> 
	 <P> The following format parameters are defined for <CODE>audit-trail-format</CODE> entries: </P> 
	 <P><A NAME="IDX181"></A> </P> 
	 <DL> 
		<DT><CODE>$Fieldname</CODE> </DT> 
		<DD>The name of the field for which an audit-trail entry is being
		  created. 
		  <P> </P></DD> 
		<DT><CODE>$OldValue</CODE> </DT> 
		<DD>The old value of the field. 
		  <P> </P></DD> 
		<DT><CODE>$NewValue</CODE> </DT> 
		<DD>The new field value. 
		  <P> </P></DD> 
		<DT><CODE>$EditUserEmailAddr</CODE> </DT> 
		<DD>The email address of the user editing the field. 
		  <P> </P></DD> 
		<DT><CODE>$CurrentDate</CODE> </DT> 
		<DD>The current date. 
		  <P> </P></DD> 
		<DT><CODE>$ChangeReason</CODE> </DT> 
		<DD>The reason for the change; may be blank if no reason was supplied.
		  </DD> 
	 </DL> 
	 <P> These parameters may be used anywhere a <CODE>fieldname</CODE> can appear. </P> 
	 <P> <A NAME="Outgoing email formats"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC39"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC38">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC40">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC40">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC32">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.3.7 Outgoing email formats </H3>
<!--docid::SEC39::-->
	 <P> During the life of a PR, GNATS can be configured to send out a range of
		email messages. When a PR first arrives, an acknowledgment message is sent out
		if the <CODE>send-submitter-ack</CODE> parameter above is set to <CODE>true</CODE>. Certain edits to the PR may also cause email to be sent out to the
		various parties, and if a PR is deleted, GNATS may send notification email.
		</P> 
	 <P> The formats of the email messages are controlled by <CODE>mail-format</CODE> sections in the <TT>`dbconfig'</TT> file. The general structure of a <CODE>mail-format</CODE> section is as follows: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="example"> 
			 <PRE>mail-format "format-name" {
  from-address {
    [ fixed-address "address" ]
    [ email-header-name | [ mail-header-name | ... ] ]
  }
  to-address {
    [ fixed-address "address" ] 
    [ "email-header-name" | [ "mail-header-name" | ... ] ]
  }
  reply-to {
    [ fixed-address "address" ]
    [ "email-header-name" | ... ] | [ "gnats-field-name" | ... ]
  }
  header {
    format "formatstring"
    [ fields { "fieldname" [ "fieldname" ... ] } ]
  }
  body {
    format "formatstring"
    [ fields { "fieldname" [ "fieldname" ... ] } ]
  }
}
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> <CODE>gnats</CODE> recognizes and uses 6 different <CODE>format-name</CODE> values: </P> 
	 <P><A NAME="IDX182"></A> </P> 
	 <DL> 
		<DT><CODE>initial-response-to-submitter</CODE> </DT> 
		<DD><A NAME="IDX183"></A> Format of the message used when mailing an
		  initial response back to the PR submitter. This message will only be sent if <CODE>send-submitter-ack</CODE> in the overall database configuration is set to <CODE>true</CODE>. 
		  <P> </P></DD> 
		<DT><CODE>initial-pr-notification</CODE> </DT> 
		<DD><A NAME="IDX184"></A> Format of the message sent to the responsible
		  parties when a new PR with category different from "pending" arrives. 
		  <P> </P></DD> 
		<DT><CODE>initial-pr-notification-pending</CODE> </DT> 
		<DD><A NAME="IDX185"></A> Format of the message sent to the responsible
		  parties when a new PR that ends up with category "pending" arrives. 
		  <P> </P></DD> 
		<DT><CODE>appended-email-response</CODE> </DT> 
		<DD><A NAME="IDX186"></A> Format of the notification message sent out
		  when a response to a PR is received via email. 
		  <P> </P></DD> 
		<DT><CODE>audit-mail</CODE> </DT> 
		<DD><A NAME="IDX187"></A> Format of the message sent out when a PR edit
		  generates an Audit-Trail entry. 
		  <P> </P></DD> 
		<DT><CODE>deleted-pr-mail</CODE> </DT> 
		<DD><A NAME="IDX188"></A> Format of the message sent out when a PR is
		  deleted. </DD> 
	 </DL> 
	 <P> The <CODE>from-address</CODE>, <CODE>to-address</CODE> and <CODE>reply-to</CODE> subsections of a mail-format section specify the contents of the <CODE>To:</CODE>, <CODE>From:</CODE> and <CODE>Reply-To:</CODE> headers in outgoing email. There are two ways to specify the contents:
		by using a <CODE>fixed-address</CODE> specification, or by specifying <CODE>email-header-name</CODE>s and <CODE>gnats-field-name</CODE>s separated by the (<SAMP>`|'</SAMP>) symbol. </P> 
	 <P> When <CODE>email-header-name</CODE> and/or <CODE>gnats-field-name</CODE> values are given, GNATS will attempt to extract email addresses from
		the specified locations, in turn until it finds a header or field which is
		nonempty. The following example should clarify this: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="example"> 
			 <PRE>mail-format "initial-response-to-submitter" {
  from-address {
    fixed-address "gnats-admin"
  }
  to-addresses {
    "Reply-To:" | "From:" | "Submitter-Id"
  } </PRE><SMALL>...</SMALL> </TD> 
		</TR> 
	 </TABLE> 
	 <P> This partial <CODE>mail-format</CODE> section specifies the format of the address headers in the email
		message that is sent out as an acknowledgment of a received PR. The <CODE>From:</CODE> field of the message will contain the email address of the GNATS
		administrator, as specified by the <CODE>gnats-admin</CODE> line in the <TT>`responsible'</TT> file. To fill in the <CODE>To:</CODE> header, GNATS will first look for the mail header <CODE>Reply-To:</CODE> in the PR and use the contents of that, if any. If that header doesn't
		exist or is empty, it will look for the contents of the <CODE>From:</CODE> email header, and if that is without results, it will look for the
		GNATS <CODE>Submitter-Id</CODE> field and use the contents of that. </P> 
	 <P> Other email headers to be included in messages sent out by GNATS can be
		specified by <CODE>header</CODE> subsections of the <CODE>mail-header</CODE> section. <CODE>formatstring</CODE> and <CODE>fieldname</CODE> are similar to those used by the named query format. Each header line
		must have a newline character (<SAMP>`\n'</SAMP>) at the end. </P> 
	 <P> The email message body is specified in the <CODE>body</CODE> subsection of the <CODE>mail-format</CODE> section. Just as for a <CODE>header</CODE> section, the <CODE>body</CODE> section must contain a <CODE>formatstring</CODE> and <CODE>fieldname</CODE> values. </P> 
	 <P> For some of the formats that GNATS recognizes, special variables are
		available for use. The following table lists the formats that provide special
		variables. See the example below for an illustration of how they are used. </P>
	 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><CODE>appended-email-response</CODE> </DT> 
		<DD> 
		  <DL COMPACT="COMPACT"> 
			 <DT><CODE>$MailFrom</CODE> </DT> 
			 <DD>The From: line of the original message. 
				<P> </P></DD> 
			 <DT><CODE>$MailTo</CODE> </DT> 
			 <DD>The To: line of the original message. 
				<P> </P></DD> 
			 <DT><CODE>$MailSubject</CODE> </DT> 
			 <DD>The Subject: line of the original message. 
				<P> </P></DD> 
			 <DT><CODE>$MailCC</CODE> </DT> 
			 <DD>The CC: line of the original message. 
				<P> </P></DD> 
			 <DT><CODE>$NewAuditTrail</CODE> </DT> 
			 <DD>The text of the new audit trail entry (corresponds to the body of
				the message). </DD> 
		  </DL> 
		  <P> </P></DD> 
		<DT><CODE>audit-mail</CODE> </DT> 
		<DD> 
		  <DL COMPACT="COMPACT"> 
			 <DT><CODE>$EditUserEmailAddr</CODE> </DT> 
			 <DD>The email address of the user editing the PR. 
				<P> </P></DD> 
			 <DT><CODE>$OldResponsible</CODE> </DT> 
			 <DD>The previous Responsible field entry, if it was changed. 
				<P> </P></DD> 
			 <DT><CODE>$NewAuditTrail</CODE> </DT> 
			 <DD>The Audit-Trail: entries that have been appended by the edits.
				</DD> 
		  </DL> 
		  <P> </P></DD> 
		<DT><CODE>deleted-pr-mail</CODE> </DT> 
		<DD> 
		  <DL COMPACT="COMPACT"> 
			 <DT><CODE>$EditUserEmailAddr</CODE> </DT> 
			 <DD>The email address of the user deleting the PR. 
				<P> </P></DD> 
			 <DT><CODE>$PRNum</CODE> </DT> 
			 <DD>The number of the PR that was deleted. </DD> 
		  </DL></DD> 
	 </DL> 
	 <P> The following example illustrates the use of these special variables:
		</P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="example"> 
			 <PRE>mail-format "deleted-pr-mail" {
  from-address {
    "$EditUserEmailAddr"
  }
  to-addresses {
    fixed-address "gnats-admin"
  }
  header {
    format "Subject: Deleted PR %s\n"
    fields { "$PRNum" }
  }
  body {
    format "PR %s was deleted by user %s.\n"
    fields { "$PRNum" "$EditUserEmailAddr" }
  }
}
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> This <CODE>mail-format</CODE> section specifies the format of the email message that is sent out when
		a PR is deleted. The <CODE>From:</CODE> field is set to the email address field of the user who deleted the PR,
		the subject of the message contains the number of the deleted PR, and the
		message body contains both the PR number and the user's email address. </P> 
	 <P> <A NAME="Index file description"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC40"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC39">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC41">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC41">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC32">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.3.8 Index file description </H3>
<!--docid::SEC40::-->
	 <P> The <CODE>index</CODE> section of the <TT>`dbconfig'</TT> file lists the fields that appear in
		the database index. The index is always keyed by PR number. The general format
		for the <CODE>index</CODE> section is </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="example"> 
			 <PRE>index {
  path "file"
  fields { "fieldname" [ "fieldname" ... ] }
  binary-index true | false
  [ separator "symbol" ]
}
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> The <CODE>path</CODE> parameter gives the name of the index file in the <TT>`gnats-adm'</TT>
		directory of the database. Only one index is allowed per database, so only one <CODE>path</CODE> entry is allowed. </P> 
	 <P> The <CODE>fields</CODE> parameter controls what fields will appear, and in what order, in the
		index. Fields are listed by their names, separated by spaces (<SAMP>`
		'</SAMP>). Fields will appear in the order they are listed. </P> 
	 <P> The <CODE>binary-index</CODE> parameter controls whether the index is supposed to be in plaintext or
		binary format. Binary format is recommended, as it avoids potential problems
		when field separators appear as bona-fide field contents. </P> 
	 <P> When plaintext format is used, by setting <CODE>binary-index false</CODE>, the symbol (<SAMP>`|'</SAMP>) is used as a field separator in the
		index, unless the optional <CODE>separator</CODE> parameter is used to redefine the separator character. </P> 
	 <P> <A NAME="Initial PR input fields"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC41"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC40">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC32">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.3.9 Initial PR input fields </H3>
<!--docid::SEC41::-->
	 <P> An <CODE>initial-entry</CODE> section in the <TT>`dbconfig'</TT> file is used to describe which
		fields should be present on initial PR entry; this is used by tools such as
		send-pr to determine which fields to include in a "blank" PR template. The
		general format for the <CODE>initial-entry</CODE> section is </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="example"> 
			 <PRE>initial-entry {
  fields { "fieldname" [ "fieldname" ... ] }
}
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> <A NAME="Other config files"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC42"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC41">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC43">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC29">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H2> 3.4 Other database-specific config files </H2>
<!--docid::SEC42::-->
	 <BLOCKQUOTE> 
		<P></P> 
		<TABLE BORDER="0" CELLSPACING="0"> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC43">3.4.1 The <CODE>categories</CODE> file</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC44">3.4.2 The <CODE>responsible</CODE> file</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC45">3.4.3 The <CODE>submitters</CODE> file</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC46">3.4.4 The <CODE>states</CODE> file</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC47">3.4.5 The <CODE>addresses</CODE> file</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC48">3.4.6 The <CODE>classes</CODE> file</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		</TABLE></BLOCKQUOTE> 
	 <P> <A NAME="categories file"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC43"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC44">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.4.1 The <CODE>categories</CODE> file </H3>
<!--docid::SEC43::-->
	 <P> The <TT>`categories'</TT> file contains a list of problem categories,
		specific to the database, which GNATS tracks. This file also matches
		responsible people with these categories. You must edit this file initially,
		creating valid categories. In most installations, GNATS is configured to create
		directories on disk for valid categories automatically as needed (see section
		<A HREF="gnats4man_ch3.html#SEC33">Overall database configuration</A>). If
		GNATS isn't set up to do this, you need to run <CODE>mkcat</CODE> to create the corresponding subdirectories of the database directory.
		For instructions on running <CODE>mkcat</CODE>, see <A HREF="gnats4man_ch3.html#SEC54">Adding a problem category</A>.
		</P> 
	 <P> To create a new category, log in as GNATS, add a line to this file, and
		run <CODE>mkcat</CODE> if applicable. Lines beginning with <SAMP>`#'</SAMP> are ignored. </P> 
	 <P> A line in the <TT>`categories'</TT> file consists of four fields
		delimited by colons, as follows: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> <CODE><VAR>category</VAR>:<VAR>description</VAR>:<VAR>responsible</VAR>:<VAR>notify</VAR></CODE>
		  </TD> 
		</TR> 
	 </TABLE> 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><VAR>category</VAR> </DT> 
		<DD>A unique category name, made up of text characters. This name cannot
		  contain spaces or any of the following characters: 
		  <P> </P> 
		  <TABLE> 
			 <TR> 
				<TD>&nbsp;</TD> 
				<TD CLASS="smallexample"> 
				  <PRE><FONT SIZE="-1">! $ &amp; * ( ) { } [ ] ` ' " ; : &lt; &gt; ~
</FONT></PRE></TD> 
			 </TR> 
		  </TABLE> 
		  <P> Ideally, category names should not contain commas or begin with
			 periods. Each line has a corresponding subdirectory in the database directory.
			 </P> 
		  <P> </P></DD> 
		<DT><VAR>description</VAR> </DT> 
		<DD>A terse textual description of the category. 
		  <P> </P></DD> 
		<DT><VAR>responsible</VAR> </DT> 
		<DD>The name tag of the party responsible for this category of problems,
		  as listed in the <TT>`responsible'</TT> file (see section
		  <A HREF="gnats4man_ch3.html#SEC44">The <CODE>responsible</CODE> file</A>). 
		  <P> </P></DD> 
		<DT><VAR>notify</VAR> </DT> 
		<DD>One or more other parties which should be notified when a Problem
		  Report with this category arrives, such as a project manager, other members of
		  the same project, other interested parties, or even log files. These should be
		  separated with commas. </DD> 
	 </DL> 
	 <P> A good strategy for configuring this file is to have a different
		category for each product your organization supports or wishes to track
		information for. </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE>rock:ROCK program:me:myboss,fred
stone:STONE utils:barney:fred
iron:IRON firewall:me:firewall-log
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> In the above example, the nametags <SAMP>`myboss'</SAMP>,
		<SAMP>`me'</SAMP>, <SAMP>`fred'</SAMP>, and <SAMP>`barney'</SAMP> must be
		defined in the <TT>`responsible'</TT> file (see section
		<A HREF="gnats4man_ch3.html#SEC44">The <CODE>responsible</CODE> file</A>). </P> 
	 <P> Problem Reports with a category of <SAMP>`rock'</SAMP> are sent to the
		local mail address (or alias) <SAMP>`me'</SAMP>, and also sent to the addresses
		<SAMP>`myboss'</SAMP> and <SAMP>`fred'</SAMP>. PRs with a category of
		<SAMP>`stone'</SAMP> are sent to the local addresses <SAMP>`barney'</SAMP> and
		<SAMP>`fred'</SAMP> only, while PRs with the category <SAMP>`iron'</SAMP> are
		sent only to <SAMP>`me'</SAMP>, and are also filed in <CODE>firewall-log</CODE> (in this case, a mail alias should be set up, see section
		<A HREF="gnats4man_ch3.html#SEC65">Setting up mail aliases</A>. </P> 
	 <P> If you want to separate PRs in each problem category into specific
		subsets, say <EM>documentation</EM> and <EM>software bugs</EM>, using the
		<TT>`classes'</TT> file is recommended. See section
		<A HREF="gnats4man_ch3.html#SEC48">The <TT>`classes'</TT> file</A>. </P> 
	 <P> Only one category <EM>must</EM> be present for GNATS to function: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE>pending:Non-categorized PRs:gnats-admin:
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> <A NAME="IDX189"></A> The <TT>`pending'</TT> directory is created
		automatically when you run <CODE>mkdb</CODE> to initialize a new database. (see section
		<A HREF="gnats4man_ch3.html#SEC63">Configuring and compiling the software</A>).
		</P> 
	 <P> <A NAME="responsible file"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC44"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC43">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC45">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC45">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.4.2 The <CODE>responsible</CODE> file </H3>
<!--docid::SEC44::-->
	 <P> This file contains a list of the responsible parties. Lines beginning
		with <SAMP>`#'</SAMP> are ignored. Each entry contains three fields, separated
		by colons: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE><VAR>responsible</VAR>:<VAR>full-name</VAR>:<VAR>mail-address</VAR>
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><VAR>responsible</VAR> </DT> 
		<DD>A name-tag description of the party in question, such as her or his
		  user name, or the name of the group. This name is listed in the PR in the
		  <SAMP>`&gt;Responsible:'</SAMP> field. 
		  <P> </P></DD> 
		<DT><VAR>full-name</VAR> </DT> 
		<DD>The full name of the party ("Charlotte Bronte"; "Compiler Group"). 
		  <P> </P></DD> 
		<DT><VAR>mail-address</VAR> </DT> 
		<DD>The full, valid mail address of the party. This field is only
		  necessary if the responsible party has no local mail address or alias. </DD> 
	 </DL> 
	 <P> A sample <TT>`responsible'</TT> listing might be: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE>ren:Ren Hoek:
stimpy:Stimpson J. Cat:stimpy@lederhosen.org
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> Here, <CODE>ren</CODE> is a local user. <CODE>stimpy</CODE> is remote, so his full address must be specified. </P> 
	 <P> The following entry <EM>must</EM> be present for GNATS to function:
		</P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE>gnats-admin:GNATS administrator:
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> <CODE>gnats-admin</CODE> is usually defined as a mail alias when GNATS is installed, so for this
		purpose <CODE>gnats-admin</CODE> is a local address. However, this line can alos be used to redefine the
		email address of the GNATS administrator, by adding the desired address at the
		end of the line. </P> 
	 <P> <A NAME="submitters file"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC45"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC44">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC46">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC46">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.4.3 The <CODE>submitters</CODE> file </H3>
<!--docid::SEC45::-->
	 <P> This is a database of sites which submit bugs to your support site. It
		contains six fields delineated by colons. Lines beginning with <SAMP>`#'</SAMP>
		will be ignored. </P> 
	 <P> Entries are of the format: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE><VAR>submitter-id</VAR>:<VAR>name</VAR>:<VAR>type</VAR>:<VAR>resp-time</VAR>:<VAR>contact</VAR>:<VAR>notify</VAR>
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><VAR>submitter-id</VAR> </DT> 
		<DD>A unique identifier for a specific site or other entity who submits
		  Problem Reports. The first <CODE>submitter-id</CODE> listed in the file will be the default for PRs that arrive with invalid
		  or empty submitter fields. 
		  <P> </P></DD> 
		<DT><VAR>name</VAR> </DT> 
		<DD>The full name or a description of this entity. 
		  <P> </P></DD> 
		<DT><VAR>type</VAR> </DT> 
		<DD>Optional description for the type of relationship of this submitter
		  to your support site. This could indicate a contract type, a level of
		  expertise, etc., or it can remain blank. 
		  <P> </P></DD> 
		<DT><VAR>resp-time</VAR> </DT> 
		<DD>Optional quoted response time in <EM>business hours</EM>. If the
		  database <TT>`dbconfig'</TT> file has the <CODE>notify-about-expired-prs</CODE> entry set to <VAR>true</VAR> (see section
		  <A HREF="gnats4man_ch3.html#SEC33">Overall database configuration</A>, GNATS
		  will use this field to schedule when GNATS should notify the gnats-admin,
		  responsible person and submitter contact that the PR wasn't analyzed within the
		  agreed response time. Business hours and business-week days are set in the
		  <TT>`dbconfig'</TT> file. For information on <CODE>at-pr</CODE>, the program which sends out this reminder, see
		  <A HREF="gnats4man_ch3.html#SEC60">Timely Reminders</A>. 
		  <P> </P></DD> 
		<DT><VAR>contact</VAR> </DT> 
		<DD>The name tag of the main <EM>contact</EM> at the Support Site for
		  this submitter. This contact should be in the <TT>`responsible'</TT> file (see
		  section <A HREF="gnats4man_ch3.html#SEC44">The <CODE>responsible</CODE> file</A>). Incoming bugs from <VAR>submitter</VAR> are sent to this
		  contact. Optionally, this field can be left blank. 
		  <P> </P></DD> 
		<DT><VAR>notify</VAR> </DT> 
		<DD>Any other parties who should receive copies of Problem Reports sent
		  in by <VAR>submitter</VAR>. They need not be listed in the
		  <TT>`responsible'</TT> file. </DD> 
	 </DL> 
	 <P> A few example entries in the <TT>`submitters'</TT> file: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE>univ-hell:University of Hades:eternal:3:beelzebub:lucifer
tta:Telephones and Telegraphs of America:support:720:dave:
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> In this example, when a PR comes in from the University of Hades (who
		has an eternal contract), it should have <SAMP>`univ-hell'</SAMP> in its
		<SAMP>`Submitter-Id'</SAMP> field. This Problem Report goes to <CODE>beelzebub</CODE> (who should be in the <TT>`responsible'</TT> file), and if it is not
		analyzed within three business hours a reminder message is sent. <CODE>lucifer</CODE> also receives a copy of the bug, and a copy of the reminder message as
		well (if it is sent). When Telephones and Telegraphs of America utilizes their
		support contract and submits a bug, a copy is sent only to <CODE>dave</CODE>, who has 720 business hours to return an analysis before a reminder is
		sent. </P> 
	 <P> <A NAME="IDX190"></A> To disable the feature of GNATS which tracks the
		<SAMP>`&gt;Submitter-Id:'</SAMP>, simply alter the <TT>`submitters'</TT> file
		to only contain one <VAR>submitter-id</VAR> value, and instruct your submitters
		to ignore the field. </P> 
	 <P> <A NAME="states file"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC46"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC45">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC47">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC47">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.4.4 The <CODE>states</CODE> file </H3>
<!--docid::SEC46::-->
	 <P> This file lists the possible states for Problem Reports. Each line
		consists of a state, followed optionally by colon and a one-line description of
		what the state means. Lines beginning with <SAMP>`#'</SAMP> will be ignored.
		</P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE><VAR>state</VAR>:<VAR>optional descriptive text</VAR>
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> State names can contain any alphanumeric character, <SAMP>`-'</SAMP>
		(hyphen), <SAMP>`_'</SAMP> (underscore), or <SAMP>`.'</SAMP> (period), but no
		other characters. The state name ends with a newline, or else with a colon
		followed by optional descriptive text. The descriptive text, if present, can
		contain any character except newline, which marks the end of the description.
		Empty or all-whitespace descriptions are allowed. This is not recommended,
		however, since although GNATS doesn't use this field, external tools might.
		</P> 
	 <P> The first state listed will be the state automatically assigned to
		Problem Reports when they arrive; by default this is named "open". The last
		state listed is the end state for Problem Reports -- one should usually assume
		that a PR in this state is not being actively worked on; by default this state
		is named "closed". </P> 
	 <P> It is probably best to leave "open" as the first state and "closed" as
		the last, otherwise some external tools looking for those two states by name
		may be fooled. </P> 
	 <P> <A NAME="addresses file"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC47"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC46">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC48">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC48">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.4.5 The <CODE>addresses</CODE> file </H3>
<!--docid::SEC47::-->
	 <P> This file contains mappings between submitter IDs and corresponding
		e-mail addresses. </P> 
	 <P> When a PR comes in without a submitter ID (if someone sends unformatted
		e-mail to the PR submission email address), GNATS will try to derive the
		submitter ID from the address in the "From:" header. The entries in this file
		consist of two fields, separated by a colon: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE><VAR>submitter-id</VAR>:<VAR>address-fragment</VAR>
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><VAR><VAR>submitter-id</VAR></VAR> </DT> 
		<DD>A valid submitter ID 
		  <P> </P></DD> 
		<DT><VAR><VAR>address-fragment</VAR></VAR> </DT> 
		<DD>Part of all of the e-mail address to be matched </DD> 
	 </DL> 
	 <P> Here is an example of an <CODE>addresses</CODE> file: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE># Addresses for Yoyodine Inc
yoyodine:yoyodine.com
yoyodine:yoyodine.co.uk
# Addresses for Foobar Inc.
foobar1:sales.foobar.com
foobar2:admin.foobar.com
foobar3:clark@research.foobar.com
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> GNATS checks each line in the <CODE>addresses</CODE> file, comparing <VAR>address-fragment</VAR> to the end of the "From:"
		header, until it finds a match. If no match is found, GNATS uses the default
		submitter ID. </P> 
	 <P> You can only have one address fragment per line, but you can have more
		than one line for a given submitter ID. An address fragment can be a domain
		(i.e. yoyodine.com), a machine location (admin.foobar.com), or a full e-mail
		address (clark@research.foobar.com). </P> 
	 <P> GNATS can match addresses in three e-mail formats: </P> 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><VAR>From: name@address.com</VAR> </DT> 
		<DD>The address by itself without a full name, not enclosed in brackets 
		  <P> </P></DD> 
		<DT><VAR>From: Real Person &lt;name@address.com&gt;</VAR> </DT> 
		<DD>A full name (optional, with or without quotation marks), followed by
		  the address enclosed in angle brackets 
		  <P> </P></DD> 
		<DT><VAR>From: name@address.com (Real Person)</VAR> </DT> 
		<DD>An address, followed by a name or comment in parentheses </DD> 
	 </DL> 
	 <P> If GNATS sees other e-mail address formats, it uses the default
		submitter ID. </P> 
	 <P> <A NAME="classes file"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC48"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC47">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC42">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.4.6 The <CODE>classes</CODE> file </H3>
<!--docid::SEC48::-->
	 <P>This file lists the possible classes of Problem Reports. Each line
		consists of a class name, followed by a colon and an optional class type name
		(the class type name is not used for anything in the current implementation of
		GNATS, so it may be left blank. The <CODE>class</CODE> and <CODE>class-type-name</CODE> fields may only contain alphanumerics, <SAMP>`-'</SAMP>,
		<SAMP>`_'</SAMP>, and <SAMP>`.'</SAMP>, but no other characters. </P> 
	 <P> Then comes another colon, followed by an optional one-line description
		of the class. GNATS itself does not use the class description, but external
		tools such as Gnatsweb and TkGnats may use it. Therefore, a line in this file
		should at least contain the following: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE>class::class description
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> Lines beginning with <SAMP>`#'</SAMP> will be ignored, and the first
		listed class is the default class for an incoming Problem Report. </P> 
	 <P> <A NAME="Admin files"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC49"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC48">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC50">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC52">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC29">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC52">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H2> 3.5 Administrative data files </H2>
<!--docid::SEC49::-->
	 <P> The following files are database-specific and are located in the
		<TT>`gnats-adm'</TT> subdirectory of the database directory. These files are
		maintained by GNATS; you should never need to touch them. </P> 
	 <BLOCKQUOTE> 
		<P></P> 
		<TABLE BORDER="0" CELLSPACING="0"> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC50">3.5.1 The <CODE>index</CODE> file</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP">The `index' file</TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC51">3.5.2 The <CODE>current</CODE> file</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP">The `current' file</TD> 
		  </TR> 
		</TABLE></BLOCKQUOTE> 
	 <P> <A NAME="index file"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC50"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC51">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC52">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC52">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.5.1 The <CODE>index</CODE> file </H3>
<!--docid::SEC50::-->
	 <P> The index is used to accelerate searches on the database by <CODE>query-pr</CODE> and <CODE>edit-pr</CODE>. This file is not created until the first PR comes in. It is then kept
		up to date by GNATS; you should never touch this file. </P> 
	 <P> Searches on subjects contained in the index are much faster than
		searches which depend on data not in the index. Inexes come in two different
		formats: <EM>binary</EM> and <EM>plain-text</EM>. Binary indexes are safer, in
		that they avoid certain problems that may crop up if the field separators used
		by plain-text indexes appear in field data. </P> 
	 <P> A plain-text index contains single-line entries for all PR fields
		except for the multitext fields such as Description, How-To-Repeat, etc. Fields
		are separated by bars (<SAMP>`|'</SAMP>) except for
		<SAMP>`&gt;Category:'</SAMP> and <SAMP>`&gt;Number:'</SAMP>, which are
		separated by a slash (<SAMP>`/'</SAMP>). </P> 
	 <P> Binary indexes are not meant to be human-readable, but they are safer
		than the plain-text variety, in that they avoid certain problems that may crop
		up if the field separators used by plain-text indexes appear in field data.
		</P> 
	 <P> The format of the index for a database is set in the
		<TT>`dbconfig'</TT> file. See section <A HREF="gnats4man_ch3.html#SEC40">Index
		file description</A>. </P> 
	 <P> Should the <TT>`index'</TT> file become corrupted, the <CODE>gen-index</CODE> utility can be used to regenerate it. See section
		<A HREF="gnats4man_ch3.html#SEC56">Regenerating the index</A>. </P> 
	 <P> <A NAME="current file"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC51"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC50">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC52">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC52">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC49">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC52">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.5.2 The <CODE>current</CODE> file </H3>
<!--docid::SEC51::-->
	 <P> This file contains the last serial number assigned to an incoming PR.
		It is used internally by GNATS; you need never touch this file. </P> 
	 <P> <A NAME="Admin utils"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC52"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC51">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC53">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC29">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H2> 3.6 Administrative utilities </H2>
<!--docid::SEC52::-->
	 <P> These tools are used by the GNATS administrator as part of the periodic
		maintenance and configuration of GNATS. See section
		<A HREF="gnats4man_ch3.html#SEC29">GNATS Administration</A>. </P> 
	 <BLOCKQUOTE> 
		<P></P> 
		<TABLE BORDER="0" CELLSPACING="0"> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC53">3.6.1 Initializing a new database</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC54">3.6.2 Adding a problem category</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC55">3.6.3 Removing a problem category</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC56">3.6.4 Regenerating the index</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		</TABLE></BLOCKQUOTE> 
	 <P> <A NAME="mkdb"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC53"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC52">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC54">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC52">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.6.1 Initializing a new database </H3>
<!--docid::SEC53::-->
	 <P> To initialize a new GNATS database: </P> 
	 <P> </P> 
	 <OL> 
		<LI> Add a line for the new database in the <TT>`databases'</TT> file
		  (see section <A HREF="gnats4man_ch3.html#SEC69">Where GNATS lives</A>. 
		  <P> </P></LI> 
		<LI> Run <CODE>mkdb</CODE>, using 
		  <P> </P> 
		  <TABLE> 
			 <TR> 
				<TD>&nbsp;</TD> 
				<TD CLASS="smallexample"> 
				  <PRE>mkdb <VAR>directory</VAR>
</PRE></TD> 
			 </TR> 
		  </TABLE></LI> 
	 </OL> 
	 <P>Where <VAR>directory</VAR> is the directory you specified in the
		<TT>`databases'</TT> file. <CODE>mkdb</CODE> creates this directory and populates it with the directories
		<TT>`pending'</TT>, <TT>`gnats-queue'</TT> and <TT>`gnats-adm'</TT>. A full set
		of sample configuration files is copied to the <TT>`gnats-adm'</TT> directory.
		</P> 
	 <P> <A NAME="mkcat"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC54"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC53">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC55">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC55">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC52">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.6.2 Adding a problem category </H3>
<!--docid::SEC54::-->
	 <P> To add new categories to the database: </P> 
	 <P> </P> 
	 <OL> 
		<LI> Add a line to for each new category to the <TT>`categories'</TT>
		  file in the gnats-adm directory of the database. See section
		  <A HREF="gnats4man_ch3.html#SEC43">The <CODE>categories</CODE> file</A>. 
		  <P> </P></LI> 
		<LI> Run <CODE>mkcat</CODE> If applicable. If <CODE>create-category-dirs</CODE> is set to <CODE>false</CODE> in the database <TT>`dbconfig'</TT> file, you need to create category
		  directories with <CODE>mkcat</CODE>. <CODE>mkcat</CODE> creates a subdirectory under the database directory for any new
		  categories which appear in the <TT>`categories'</TT> file. </LI> 
	 </OL> 
	 <P> <A NAME="rmcat"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC55"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC54">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC56">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC56">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC52">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.6.3 Removing a problem category </H3>
<!--docid::SEC55::-->
	 <P> To remove a category from the database: </P> 
	 <P> </P> 
	 <OL> 
		<LI> Remove the Problem Reports from the subdirectories corresponding to
		  the categories you wish to remove, or assign the PRs to new categories. All PRs
		  for a given category reside in a subdirectory of the database directory, with
		  the same name as the category. 
		  <P> </P></LI> 
		<LI> Run <CODE>rmcat</CODE> using 
		  <P> </P> 
		  <TABLE> 
			 <TR> 
				<TD>&nbsp;</TD> 
				<TD CLASS="smallexample"> 
				  <PRE>rmcat <VAR>category</VAR> [ <VAR>category</VAR></PRE><SMALL>...</SMALL> ] </TD> 
			 </TR> 
		  </TABLE> 
		  <P> where <VAR>category</VAR> is the category you wish to remove. You
			 can specify as many categories as you wish as long as each category has no PRs
			 associated with it. <CODE>rmcat</CODE> removes the directory where the Problem Reports for that category had
			 been stored. </P></LI> 
	 </OL> 
	 <P> <A NAME="gen-index"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC56"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC55">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC52">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.6.4 Regenerating the index </H3>
<!--docid::SEC56::-->
	 <P> If your <TT>`index'</TT> file becomes corrupted, or if you need a copy
		of the current index for some reason, use </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE>gen-index [ -n | --numeric ]
          [ -d <VAR>databasename</VAR> | --database=<VAR>databasename</VAR> ]
	  [ -o <VAR>filename</VAR> | --outfile=<VAR>filename</VAR> ]
          [ -i | --import ] [ -e | --export ]
          [ -h | --help] [ -V | --version ]
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> With no options, <CODE>gen-index</CODE> generates an index that is sorted by the order that the categories
		appear in the <TT>`categories'</TT> file. The index is generated in plaintext
		or binary format according to the value of <CODE>binary-index</CODE> in the <TT>`dbconfig'</TT> file (see section
		<A HREF="gnats4man_ch3.html#SEC40">Index file description</A>). The results are
		printed to standard output. The options are: </P> 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><CODE>-n</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--numeric</CODE> </DT> 
		<DD>Sorts index entries numerically. 
		  <P> </P></DD> 
		<DT><CODE>-d <VAR>databasename</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--database=<VAR>databasename</VAR></CODE> </DT> 
		<DD>Specifies the database to index. If this option is left out, <CODE>gen-index</CODE> attempts to index the database with name taken from the the
		  <VAR>GNATSDB</VAR> environment variable, and if that is undefined, the default
		  database, as set when GNATS was built (usually <CODE>default</CODE>). 
		  <P> </P></DD> 
		<DT><CODE>-o <VAR>filename</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--outfile=<VAR>filename</VAR></CODE> </DT> 
		<DD>Places output in <VAR>filename</VAR> rather than sending it to
		  standard output. 
		  <P> </P></DD> 
		<DT><CODE>-i</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--import</CODE> </DT> 
		<DD>Import the existing index file instead of re-indexing the database. 
		  <P> </P></DD> 
		<DT><CODE>-e</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--export</CODE> </DT> 
		<DD>Force plaintext output. 
		  <P> </P></DD> 
		<DT><CODE>-h</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--help</CODE> </DT> 
		<DD>Prints the usage for <CODE>gen-index</CODE>. 
		  <P> </P></DD> 
		<DT><CODE>-V</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--version</CODE> </DT> 
		<DD>Prints the version number for <CODE>gen-index</CODE>. </DD> 
	 </DL> 
	 <P> <A NAME="Internal utils"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC57"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC56">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC58">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC29">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC62">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H2> 3.7 Internal utilities </H2>
<!--docid::SEC57::-->
	 <P> These tools are used internally by GNATS. You should never need to run
		these by hand; however, a complete understanding may help you locate problems
		with the GNATS tools or with your local implementation. </P> 
	 <BLOCKQUOTE> 
		<P></P> 
		<TABLE BORDER="0" CELLSPACING="0"> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC58">3.7.1 Handling incoming traffic</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC59">3.7.2 Processing incoming traffic</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC60">3.7.3 Timely reminders</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP"></TD> 
		  </TR> 
		  <TR> 
			 <TD ALIGN="left" VALIGN="TOP"><A
				HREF="gnats4man_ch3.html#SEC61">3.7.4 The <CODE>edit-pr</CODE> driver</A></TD> 
			 <TD>&nbsp;&nbsp;</TD> 
			 <TD ALIGN="left" VALIGN="TOP">The edit-pr driver</TD> 
		  </TR> 
		</TABLE></BLOCKQUOTE> 
	 <P> <A NAME="queue-pr"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC58"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC59">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC62">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.7.1 Handling incoming traffic </H3>
<!--docid::SEC58::-->
	 <P> The program <CODE>queue-pr</CODE> handles traffic coming into GNATS. <CODE>queue-pr</CODE> queues incoming Problem Reports in the <TT>`gnats-queue'</TT> directory
		of the database, and then periodically (via <CODE>cron</CODE>) passes them on to <CODE>file-pr</CODE> to be filed in the GNATS database. See section
		<A HREF="gnats4man_ch3.html#SEC62">Installing GNATS</A>. </P> 
	 <P> The usage for <CODE>queue-pr</CODE> is as follows: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE>queue-pr [ -q | --queue ] [ -r | --run ]
         [ -f <VAR>filename</VAR> | --file=<VAR>filename</VAR> ]
         [ -d <VAR>databasename</VAR> | --database=<VAR>databasename</VAR> ]
         [ -h | --help] [ -V | --version ]
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> One of <SAMP>`-q'</SAMP> or <SAMP>`-r'</SAMP> (or their longer-named
		counterparts) must be present upon each call to <CODE>queue-pr</CODE>. These options provide different functions, as described below. </P> 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><CODE>-q</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--queue</CODE> </DT> 
		<DD>Accepts standard input as an incoming mail message, placing this
		  message in an incrementally numbered file in the <TT>`gnats-queue'</TT>
		  directory under <CODE><VAR>GNATS_ROOT</VAR></CODE> (see section <A HREF="gnats4man_ch3.html#SEC69">Where GNATS lives</A>).
		  
		  <P> </P></DD> 
		<DT><CODE>-r</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--run</CODE> </DT> 
		<DD>Redirects files in the <TT>`gnats-queue'</TT> directory into the
		  program <CODE>file-pr</CODE> one by one. 
		  <P> </P></DD> 
		<DT><CODE>-f <VAR>filename</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--file=<VAR>filename</VAR></CODE> </DT> 
		<DD>Used with <SAMP>`-q'</SAMP> (or <SAMP>`--queue'</SAMP>), accepts the
		  file denoted by <VAR>filename</VAR> as input rather than reading from standard
		  input. 
		  <P> </P></DD> 
		<DT><CODE>-d <VAR>databasename</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--directory=<VAR>databasename</VAR></CODE> </DT> 
		<DD>Specifies database to operate on. If this option is left out, the
		  value of the <VAR>GNATSDB</VAR> environment variable is used, and if that is
		  undefined, the default database name set when GNATS was built is used (usually <CODE>default</CODE>). 
		  <P> </P></DD> 
		<DT><CODE>-h</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--help</CODE> </DT> 
		<DD>Prints the usage for <CODE>gen-index</CODE>. 
		  <P> </P></DD> 
		<DT><CODE>-V</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--version</CODE> </DT> 
		<DD>Prints the version number for <CODE>gen-index</CODE>. </DD> 
	 </DL> 
	 <P> <A NAME="file-pr"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC59"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC58">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC60">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC60">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC62">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.7.2 Processing incoming traffic </H3>
<!--docid::SEC59::-->
	 <P> <CODE>queue-pr</CODE> hands off queued Problem Reports to <CODE>file-pr</CODE> one at a time. <CODE>file-pr</CODE> checks each Problem Report for correct information in its fields
		(particularly a correct <SAMP>`&gt;Category:'</SAMP>), assigns it an
		identification number, and files it in the database under the appropriate
		category. </P> 
	 <P> If the <SAMP>`&gt;Category:'</SAMP> field does not contain a valid
		category value (i.e., matching a line in the <CODE>categories</CODE> file; see section <A HREF="gnats4man_ch3.html#SEC43">The <CODE>categories</CODE> file</A>), the PR is assigned to the default category, as set in the <CODE>dbconfig</CODE> file. If there is no default category defined, the PR is given a
		<SAMP>`&gt;Category:'</SAMP> value of <SAMP>`pending'</SAMP> and is placed in
		the <TT>`pending'</TT> directory. The GNATS administrator is notified of the
		unplaceable PR. </P> 
	 <P> <CODE>file-pr</CODE> assigns the Problem Report an identification number, files it in the
		GNATS database (under the default, if the <SAMP>`&gt;Category:'</SAMP> field
		contains an invalid category), and sends acknowledgments to appropriate
		parties. For the default GNATS configuration, the person responsible for that
		category of problem (see section <A HREF="gnats4man_ch3.html#SEC43">The <CODE>categories</CODE> file</A>) and the person responsible for the submitter site where the
		PR originated (see section <A HREF="gnats4man_ch3.html#SEC45">The <CODE>submitters</CODE> file</A>) receive a copy of the PR in its entirety. Optionally, the
		originator of the PR receives an acknowledgment that the PR arrived and was
		filed (see section <A HREF="gnats4man_ch3.html#SEC30">Changing your GNATS
		configuration</A>). </P> 
	 <P> The usage for <CODE>file-pr</CODE> is as follows: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE>file-pr [ -f <VAR>filename</VAR> | --file=<VAR>filename</VAR> ]
        [ -d <VAR>databasename</VAR> | --directory=<VAR>databasename</VAR> ]
	    [ -h | --help ] [ -V | --version ]
 
       network options:
        [ -H <VAR>host</VAR> | --host=<VAR>host</VAR> ]
        [ -P <VAR>port</VAR> | --port=<VAR>port</VAR> ]
        [ -v <VAR>username</VAR> | --user=<VAR>username</VAR> ]
        [ -w <VAR>password</VAR> | --passwd=<VAR>password</VAR> ]
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> <CODE>file-pr</CODE> requires no options in order to operate, and takes input from standard
		input (normally, the output of <SAMP>`queue-pr -r'</SAMP>) unless otherwise
		specified. The options include: </P> 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><CODE>-f <VAR>filename</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--filename=<VAR>filename</VAR></CODE> </DT> 
		<DD>Uses <VAR>filename</VAR> as input rather than standard input. 
		  <P> </P></DD> 
		<DT><CODE>-d <VAR>databasename</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--database=<VAR>databasename</VAR></CODE> </DT> 
		<DD>Performs refiling operations on <VAR>database</VAR>. If this option
		  is left out, the value of the <VAR>GNATSDB</VAR> environment variable is used,
		  and if that is undefined, the default database name set when GNATS was built is
		  used (usually <CODE>default</CODE>). 
		  <P> </P></DD> 
		<DT><CODE>-h</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--help</CODE> </DT> 
		<DD>Prints the usage for <CODE>file-pr</CODE>. 
		  <P> </P></DD> 
		<DT><CODE>-V</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--version</CODE> </DT> 
		<DD>Prints the version number for <CODE>file-pr</CODE>. </DD> 
	 </DL> 
	 <P> <CODE>file-pr</CODE> can file PRs across a network, talking to a remote gnatsd. The
		following options relate to network access: </P> 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><CODE>-H <VAR>host</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--host=<VAR>host</VAR></CODE> </DT> 
		<DD>Hostname of the GNATS server. 
		  <P> </P></DD> 
		<DT><CODE>-P <VAR>port</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--port=<VAR>port</VAR></CODE> </DT> 
		<DD>The port that the GNATS server runs on. 
		  <P> </P></DD> 
		<DT><CODE>-v <VAR>username</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--username=<VAR>username</VAR></CODE> </DT> 
		<DD>Username used to log into the GNATS server. 
		  <P> </P></DD> 
		<DT><CODE>-w <VAR>password</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--passwd=<VAR>password</VAR></CODE> </DT> 
		<DD>Password used to log into the GNATS server. </DD> 
	 </DL> 
	 <P> <A NAME="at-pr"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC60"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC59">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC61">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC61">
			 &lt;&lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC62">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.7.3 Timely reminders </H3>
<!--docid::SEC60::-->
	 <P> <CODE>at-pr</CODE> creates a queued job using <CODE>at</CODE> which, after an allotted <EM>response time</EM> is past, checks the PR
		to see if its state has changed from <SAMP>`open'</SAMP>. When the PR is
		originally filed, <CODE>file-pr</CODE> checks the <CODE>notify-about-expired-prs</CODE> parameter in the <TT>`dbconfig'</TT> file. If this parameter is set to <CODE>true</CODE>, <CODE>file-pr</CODE> calls <CODE>at-pr</CODE>, which sets up the expiry check. </P> 
	 <P> The <TT>`submitters'</TT> file contains the response time for each <CODE>&gt;Submitter-Id:</CODE> (see section <A HREF="gnats4man_ch3.html#SEC45">The <CODE>submitters</CODE> file</A>). The time is determined in <EM>business hours</EM>, which are
		defined in the database's <TT>`dbconfig'</TT> file (see section
		<A HREF="gnats4man_ch3.html#SEC33">Overall database configuration</A>). </P> 
	 <P> If the PR is still open after the requisite time period has passed, <CODE>at-pr</CODE> sends a reminder to the GNATS administrator, to the maintainer
		responsible for that submitter, and to the maintainer responsible for the PR
		with the following message: </P> 
	 <P> <A NAME="IDX191"></A> <A NAME="IDX192"></A> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE>To: <VAR>submitter-contact</VAR> <VAR>responsible</VAR> <VAR>gnats-admin</VAR>
Subject: PR <VAR>gnats-id</VAR> not analyzed in <VAR>#hours</VAR> hours

PR <VAR>gnats-id</VAR> was not analyzed within the acknowledgment period
of <VAR>#hours</VAR> business hours.  The pertinent information is:

 Submitter-Id: <VAR>submitter</VAR>
 Originator: <VAR>full name of the submitter</VAR>
 Synopsis: <VAR>synopsis</VAR>
 Person responsible for the PR: <VAR>responsible</VAR>

--
The GNU Problem Report Management System (GNATS)
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> <A NAME="pr-edit"></A> </P><HR SIZE="6"> 
	 <P><A NAME="SEC61"></A> </P> 
	 <TABLE CELLPADDING="1" CELLSPACING="1" BORDER="0"> 
		<TR> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC60">
			 &lt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC62">
			 &gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC57">
			 Up </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gnats4man_ch3.html#SEC62">
			 &gt;&gt; </A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; </TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Top">Top</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_Contents">Contents</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC77">Index</A>]</TD> 
		  <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A
			 HREF="gnats4man_ch3.html#SEC_About"> ? </A>]</TD> 
		</TR> 
	 </TABLE> 
	 <H3> 3.7.4 The <CODE>edit-pr</CODE> driver </H3>
<!--docid::SEC61::-->
	 <P> <CODE>pr-edit</CODE> does the background work for <CODE>edit-pr</CODE>, including error-checking and refiling newly edited Problem Reports,
		handling file and database locks and deletion of PRs. It can be called
		interactively, though it has no usable editing interface. </P> 
	 <P> The usage for <CODE>pr-edit</CODE> is: </P> 
	 <P> </P> 
	 <TABLE> 
		<TR> 
		  <TD>&nbsp;</TD> 
		  <TD CLASS="smallexample"> 
			 <PRE>pr-edit   [ -l <VAR>username</VAR> | --lock=<VAR>username</VAR> ] [ -u | --unlockdb ]
          [ -L | --lockdb ] [ -U | --unlockdb ] [ -c | --check ]
          [ -C | --check-initial ] [ -s | --submit ]
          [ -a <VAR>field</VAR> | --append field=<VAR>field</VAR> ]
          [ -r <VAR>field</VAR> | --replace=<VAR>field</VAR> ] [ --delete-pr ]
          [ -p <VAR>process-id</VAR> | --process=<VAR>process-id</VAR> ]
          [ -d <VAR>databasename</VAR> | --database=<VAR>databasename</VAR> ]
          [ -f <VAR>filename</VAR> | --filename=<VAR>filename</VAR> ]
          [ -V | --version ]
          [ -h | --help ] [ -v <VAR>username</VAR> | --user=<VAR>username</VAR> ]
          [ -w <VAR>passwd</VAR> | --passwd=<VAR>passwd</VAR> ]
          [ -H <VAR>host</VAR> | --host=<VAR>host</VAR> ]
          [ -P <VAR>port</VAR> | --port=<VAR>port</VAR> ]
          [ -D | --debug ] [ <VAR>PR number</VAR> ]
</PRE></TD> 
		</TR> 
	 </TABLE> 
	 <P> <A NAME="IDX193"></A> <A NAME="IDX194"></A> A <EM>lock</EM> is placed
		on a Problem Report while the PR is being edited. The lock is simply a file in
		the <TT>`locks'</TT> subdirectory of the <TT>`gnats-adm'</TT> directory of the
		database, with the name <TT>`<VAR>gnats-id</VAR>.lock'</TT>, which contains the
		name of the user who created the lock. <VAR>user</VAR> then "owns" the lock,
		and must remove it before the PR can be locked again, even by the same
		<VAR>user</VAR><A NAME="DOCF3" HREF="gnats4man_ch3.html#FOOT3">(3)</A>. If a PR
		is already locked when you attempt to edit it, <CODE>pr-edit</CODE> prints an error message giving the name of the user who is currently
		editing the PR. </P> 
	 <P> If you do not specify <VAR>PR number</VAR>, <CODE>pr-edit</CODE> reads from standard input. You must specify <VAR>PR number</VAR> for
		the functions which affect PR locks, <SAMP>`--lock=<VAR>username</VAR>'</SAMP>
		and <SAMP>`--unlock'</SAMP>. </P> 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><CODE>-L</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--lockdb</CODE> </DT> 
		<DD>Locks the database specified with the <CODE>--database</CODE> or <CODE>-d</CODE> option. No PRs may be edited, created or deleted while the database is
		  locked. This option is generally used when editing the index file. 
		  <P> </P></DD> 
		<DT><CODE>-U</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--unlockdb</CODE> </DT> 
		<DD>Unlocks the specified database. No check is made that the invoking
		  user actually had locked the database in the first place; hence, it is possible
		  for anyone to steal a database lock. 
		  <P> </P></DD> 
		<DT><CODE>-c</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--check</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>-C</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--check-initial</CODE> </DT> 
		<DD>The <CODE>--check</CODE> options are used to verify that a proposed PR's field contents are
		  valid. The PR is read in (either from stdin or a file specified with <CODE>--filename</CODE>), and its fields are compared against the rules specified by the
		  database configuration of the selected database. Warnings are given for
		  enumerated fields whose contents do not contain one of the required values or
		  fields that do not match required regexps. <CODE>--check-initial</CODE> is used to verify initial PRs, rather than proposed edits of existing
		  PRs. 
		  <P> </P></DD> 
		<DT><CODE>-s</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--submit</CODE> </DT> 
		<DD>Used to submit a new PR to the database. The PR is read in and
		  verified for content; if the PR is valid as an initial PR, it is then added to
		  the database. A zero exit code is returned if the submission was successful.
		  Otherwise, the reason(s) for the PR being rejected are printed to stdout, and a
		  non-zero exit code is returned. </DD> 
	 </DL> 
	 <P> The following options require a PR number to be given. </P> 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><CODE>--delete-pr</CODE> </DT> 
		<DD>Deletes the specified PR from the database. The PR must be in a
		  closed state, and not locked. Only the user <EM>gnats</EM> (or the user name
		  specified instead of <EM>gnats</EM> during the building of GNATS) is permitted
		  to delete PRs. 
		  <P> </P></DD> 
		<DT><CODE>-l <VAR>username</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--lock=<VAR>username</VAR></CODE> </DT> 
		<DD>Locks the PR. <VAR>username</VAR> is associated with the lock, so the
		  system administrator can determine who actually placed the lock on the PR.
		  However, anyone is permitted to remove locks on a PR. If the optional <CODE>--process</CODE> or <CODE>-p</CODE> option is also given, that process-id is associated with the lock. 
		  <P> </P></DD> 
		<DT><CODE>-u</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--unlock</CODE> </DT> 
		<DD>Unlocks the specified PR. 
		  <P> </P></DD> 
		<DT><CODE>-a <VAR>field</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--append=<VAR>field</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>-r <VAR>field</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--replace=<VAR>field</VAR></CODE> </DT> 
		<DD><CODE>--append</CODE> and <CODE>--replace</CODE> are used to append or replace content of a specific field within a PR.
		  The new field content is read in from stdin (or from the file specified with
		  the <CODE>--filename</CODE> option), and either appended or replaced to the specified field. The
		  field contents are verified for correctness before the PR is rewritten. If the
		  edit is successful, a zero exit status is returned. If the edit failed, a
		  non-zero exit status is returned, and the reasons for the failure are printed
		  to stdout. 
		  <P> </P></DD> 
		<DT><CODE>PR number</CODE> </DT> 
		<DD>If only a <CODE>PR number</CODE> is specified with no other options, a replacement PR is read in (either
		  from stdin or the file specified with <CODE>--filename</CODE>). If the PR contents are valid and correct, the existing PR is replaced
		  with the new PR contents. If the edit is successful, a zero exit status is re
		  turned. If the edit failed, a non-zero exit status is returned, and the reasons
		  for the failure are printed to stdout. 
		  <P> </P></DD> 
		<DT><CODE>-d <VAR>database</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--database=<VAR>database</VAR></CODE> </DT> 
		<DD>Specifies the database which is to be manipulated. If no database is
		  specified, the default database name set when GNATS was built is used (usually <CODE>default</CODE>). This option overrides the database specified in the GNATSDB
		  environment variable. 
		  <P> </P></DD> 
		<DT><CODE>-f <VAR>filename</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--filename=<VAR>filename</VAR></CODE> </DT> 
		<DD>For actions that require reading in a PR or field content, this
		  specifies the name of a file to read. If <CODE>--filename</CODE> is not specified, the PR or field content is read in from stdin. 
		  <P> </P></DD> 
		<DT><CODE>-h</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--help</CODE> </DT> 
		<DD>Prints the usage for <CODE>pr-edit</CODE>. 
		  <P> </P></DD> 
		<DT><CODE>-V</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--version</CODE> </DT> 
		<DD>Prints the version number for <CODE>pr-edit</CODE>. </DD> 
	 </DL> 
	 <P> <CODE>pr-edit</CODE> can edit PRs across a network, talking to a remote gnatsd. The
		following options relate to network access: </P> 
	 <P> </P> 
	 <DL COMPACT="COMPACT"> 
		<DT><CODE>-H <VAR>host</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--host=<VAR>host</VAR></CODE> </DT> 
		<DD>Hostname of the GNATS server. 
		  <P> </P></DD> 
		<DT><CODE>-P <VAR>port</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--port=<VAR>port</VAR></CODE> </DT> 
		<DD>The port that the GNATS server runs on. 
		  <P> </P></DD> 
		<DT><CODE>-v <VAR>username</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--username=<VAR>username</VAR></CODE> </DT> 
		<DD>Username used to log into the GNATS server. 
		  <P> </P></DD> 
		<DT><CODE>-w <VAR>password</VAR></CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--passwd=<VAR>password</VAR></CODE> </DT> 
		<DD>Password used to log into the GNATS server. 
		  <P> </P></DD> 
		<DT><CODE>-D</CODE> </DT> 
		<DD></DD> 
		<DT><CODE>--debug</CODE> </DT> 
		<DD>Used to debug network connections. </DD> 
	 </DL> </BODY>
</HTML>
